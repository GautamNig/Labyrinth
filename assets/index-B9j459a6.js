(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},kl={};var Bv;function J1(){if(Bv)return kl;Bv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=t,kl.jsx=n,kl.jsxs=n,kl}var qv;function W1(){return qv||(qv=1,gm.exports=J1()),gm.exports}var C=W1(),ym={exports:{}},Rt={};var Hv;function Z1(){if(Hv)return Rt;Hv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function L(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,B={};function J(k,nt,ut){this.props=k,this.context=nt,this.refs=B,this.updater=ut||H}J.prototype.isReactComponent={},J.prototype.setState=function(k,nt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,nt,"setState")},J.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function X(){}X.prototype=J.prototype;function W(k,nt,ut){this.props=k,this.context=nt,this.refs=B,this.updater=ut||H}var rt=W.prototype=new X;rt.constructor=W,G(rt,J.prototype),rt.isPureReactComponent=!0;var ot=Array.isArray;function dt(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function S(k,nt,ut){var ft=ut.ref;return{$$typeof:r,type:k,key:nt,ref:ft!==void 0?ft:null,props:ut}}function x(k,nt){return S(k.type,nt,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function M(k){var nt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ut){return nt[ut]})}var N=/\/+/g;function Et(k,nt){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):nt.toString(36)}function jt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(dt,dt):(k.status="pending",k.then(function(nt){k.status==="pending"&&(k.status="fulfilled",k.value=nt)},function(nt){k.status==="pending"&&(k.status="rejected",k.reason=nt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Y(k,nt,ut,ft,At){var Dt=typeof k;(Dt==="undefined"||Dt==="boolean")&&(k=null);var Bt=!1;if(k===null)Bt=!0;else switch(Dt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(k.$$typeof){case r:case t:Bt=!0;break;case E:return Bt=k._init,Y(Bt(k._payload),nt,ut,ft,At)}}if(Bt)return At=At(k),Bt=ft===""?"."+Et(k,0):ft,ot(At)?(ut="",Bt!=null&&(ut=Bt.replace(N,"$&/")+"/"),Y(At,nt,ut,"",function(vs){return vs})):At!=null&&(R(At)&&(At=x(At,ut+(At.key==null||k&&k.key===At.key?"":(""+At.key).replace(N,"$&/")+"/")+Bt)),nt.push(At)),1;Bt=0;var Le=ft===""?".":ft+":";if(ot(k))for(var le=0;le<k.length;le++)ft=k[le],Dt=Le+Et(ft,le),Bt+=Y(ft,nt,ut,Dt,At);else if(le=L(k),typeof le=="function")for(k=le.call(k),le=0;!(ft=k.next()).done;)ft=ft.value,Dt=Le+Et(ft,le++),Bt+=Y(ft,nt,ut,Dt,At);else if(Dt==="object"){if(typeof k.then=="function")return Y(jt(k),nt,ut,ft,At);throw nt=String(k),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function st(k,nt,ut){if(k==null)return k;var ft=[],At=0;return Y(k,ft,"","",function(Dt){return nt.call(ut,Dt,At++)}),ft}function pt(k){if(k._status===-1){var nt=k._result;nt=nt(),nt.then(function(ut){(k._status===0||k._status===-1)&&(k._status=1,k._result=ut)},function(ut){(k._status===0||k._status===-1)&&(k._status=2,k._result=ut)}),k._status===-1&&(k._status=0,k._result=nt)}if(k._status===1)return k._result.default;throw k._result}var Ft=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Xt={map:st,forEach:function(k,nt,ut){st(k,function(){nt.apply(this,arguments)},ut)},count:function(k){var nt=0;return st(k,function(){nt++}),nt},toArray:function(k){return st(k,function(nt){return nt})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Rt.Activity=T,Rt.Children=Xt,Rt.Component=J,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=W,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return D.H.useMemoCache(k)}},Rt.cache=function(k){return function(){return k.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(k,nt,ut){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ft=G({},k.props),At=k.key;if(nt!=null)for(Dt in nt.key!==void 0&&(At=""+nt.key),nt)!I.call(nt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&nt.ref===void 0||(ft[Dt]=nt[Dt]);var Dt=arguments.length-2;if(Dt===1)ft.children=ut;else if(1<Dt){for(var Bt=Array(Dt),Le=0;Le<Dt;Le++)Bt[Le]=arguments[Le+2];ft.children=Bt}return S(k.type,At,ft)},Rt.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Rt.createElement=function(k,nt,ut){var ft,At={},Dt=null;if(nt!=null)for(ft in nt.key!==void 0&&(Dt=""+nt.key),nt)I.call(nt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(At[ft]=nt[ft]);var Bt=arguments.length-2;if(Bt===1)At.children=ut;else if(1<Bt){for(var Le=Array(Bt),le=0;le<Bt;le++)Le[le]=arguments[le+2];At.children=Le}if(k&&k.defaultProps)for(ft in Bt=k.defaultProps,Bt)At[ft]===void 0&&(At[ft]=Bt[ft]);return S(k,Dt,At)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(k){return{$$typeof:m,render:k}},Rt.isValidElement=R,Rt.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:pt}},Rt.memo=function(k,nt){return{$$typeof:y,type:k,compare:nt===void 0?null:nt}},Rt.startTransition=function(k){var nt=D.T,ut={};D.T=ut;try{var ft=k(),At=D.S;At!==null&&At(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(dt,Ft)}catch(Dt){Ft(Dt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),D.T=nt}},Rt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Rt.use=function(k){return D.H.use(k)},Rt.useActionState=function(k,nt,ut){return D.H.useActionState(k,nt,ut)},Rt.useCallback=function(k,nt){return D.H.useCallback(k,nt)},Rt.useContext=function(k){return D.H.useContext(k)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(k,nt){return D.H.useDeferredValue(k,nt)},Rt.useEffect=function(k,nt){return D.H.useEffect(k,nt)},Rt.useEffectEvent=function(k){return D.H.useEffectEvent(k)},Rt.useId=function(){return D.H.useId()},Rt.useImperativeHandle=function(k,nt,ut){return D.H.useImperativeHandle(k,nt,ut)},Rt.useInsertionEffect=function(k,nt){return D.H.useInsertionEffect(k,nt)},Rt.useLayoutEffect=function(k,nt){return D.H.useLayoutEffect(k,nt)},Rt.useMemo=function(k,nt){return D.H.useMemo(k,nt)},Rt.useOptimistic=function(k,nt){return D.H.useOptimistic(k,nt)},Rt.useReducer=function(k,nt,ut){return D.H.useReducer(k,nt,ut)},Rt.useRef=function(k){return D.H.useRef(k)},Rt.useState=function(k){return D.H.useState(k)},Rt.useSyncExternalStore=function(k,nt,ut){return D.H.useSyncExternalStore(k,nt,ut)},Rt.useTransition=function(){return D.H.useTransition()},Rt.version="19.2.3",Rt}var Fv;function dp(){return Fv||(Fv=1,ym.exports=Z1()),ym.exports}var P=dp();const zm=$1(P);var _m={exports:{}},Pl={},vm={exports:{}},Em={};var Gv;function tA(){return Gv||(Gv=1,(function(r){function t(Y,st){var pt=Y.length;Y.push(st);t:for(;0<pt;){var Ft=pt-1>>>1,Xt=Y[Ft];if(0<o(Xt,st))Y[Ft]=st,Y[pt]=Xt,pt=Ft;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],pt=Y.pop();if(pt!==st){Y[0]=pt;t:for(var Ft=0,Xt=Y.length,k=Xt>>>1;Ft<k;){var nt=2*(Ft+1)-1,ut=Y[nt],ft=nt+1,At=Y[ft];if(0>o(ut,pt))ft<Xt&&0>o(At,ut)?(Y[Ft]=At,Y[ft]=pt,Ft=ft):(Y[Ft]=ut,Y[nt]=pt,Ft=nt);else if(ft<Xt&&0>o(At,pt))Y[Ft]=At,Y[ft]=pt,Ft=ft;else break t}}return st}function o(Y,st){var pt=Y.sortIndex-st.sortIndex;return pt!==0?pt:Y.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,w=3,L=!1,H=!1,G=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function rt(Y){for(var st=n(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Y)s(y),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(y)}}function ot(Y){if(G=!1,rt(Y),!H)if(n(p)!==null)H=!0,dt||(dt=!0,M());else{var st=n(y);st!==null&&jt(ot,st.startTime-Y)}}var dt=!1,D=-1,I=5,S=-1;function x(){return B?!0:!(r.unstable_now()-S<I)}function R(){if(B=!1,dt){var Y=r.unstable_now();S=Y;var st=!0;try{t:{H=!1,G&&(G=!1,X(D),D=-1),L=!0;var pt=w;try{e:{for(rt(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&x());){var Ft=T.callback;if(typeof Ft=="function"){T.callback=null,w=T.priorityLevel;var Xt=Ft(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Xt=="function"){T.callback=Xt,rt(Y),st=!0;break e}T===n(p)&&s(p),rt(Y)}else s(p);T=n(p)}if(T!==null)st=!0;else{var k=n(y);k!==null&&jt(ot,k.startTime-Y),st=!1}}break t}finally{T=null,w=pt,L=!1}st=void 0}}finally{st?M():dt=!1}}}var M;if(typeof W=="function")M=function(){W(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Et=N.port2;N.port1.onmessage=R,M=function(){Et.postMessage(null)}}else M=function(){J(R,0)};function jt(Y,st){D=J(function(){Y(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var pt=w;w=st;try{return Y()}finally{w=pt}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pt=w;w=Y;try{return st()}finally{w=pt}},r.unstable_scheduleCallback=function(Y,st,pt){var Ft=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ft+pt:Ft):pt=Ft,Y){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=pt+Xt,Y={id:E++,callback:st,priorityLevel:Y,startTime:pt,expirationTime:Xt,sortIndex:-1},pt>Ft?(Y.sortIndex=pt,t(y,Y),n(p)===null&&Y===n(y)&&(G?(X(D),D=-1):G=!0,jt(ot,pt-Ft))):(Y.sortIndex=Xt,t(p,Y),H||L||(H=!0,dt||(dt=!0,M()))),Y},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Y){var st=w;return function(){var pt=w;w=st;try{return Y.apply(this,arguments)}finally{w=pt}}}})(Em)),Em}var Qv;function eA(){return Qv||(Qv=1,vm.exports=tA()),vm.exports}var Tm={exports:{}},nn={};var Yv;function nA(){if(Yv)return nn;Yv=1;var r=dp();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},nn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var Kv;function iA(){if(Kv)return Tm.exports;Kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tm.exports=nA(),Tm.exports}var Xv;function rA(){if(Xv)return Pl;Xv=1;var r=eA(),t=dp(),n=iA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function Et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case J:return"Profiler";case B:return"StrictMode";case ot:return"Suspense";case dt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case W:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:Et(e.type)||"Memo";case I:i=e._payload,e=e._init;try{return Et(e(i))}catch{}}return null}var jt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ft=[],Xt=-1;function k(e){return{current:e}}function nt(e){0>Xt||(e.current=Ft[Xt],Ft[Xt]=null,Xt--)}function ut(e,i){Xt++,Ft[Xt]=e.current,e.current=i}var ft=k(null),At=k(null),Dt=k(null),Bt=k(null);function Le(e,i){switch(ut(Dt,i),ut(At,e),ut(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?cv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=cv(i),e=hv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ft),ut(ft,e)}function le(){nt(ft),nt(At),nt(Dt)}function vs(e){e.memoizedState!==null&&ut(Bt,e);var i=ft.current,a=hv(i,e.type);i!==a&&(ut(At,e),ut(ft,a))}function ca(e){At.current===e&&(nt(ft),nt(At)),Bt.current===e&&(nt(Bt),Nl._currentValue=pt)}var ha,fa;function di(e){if(ha===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ha=i&&i[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+e+fa}var No=!1;function Es(e,i){if(!e||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var F=K}Reflect.construct(e,[],et)}else{try{et.call()}catch(K){F=K}e.call(et.prototype)}}else{try{throw Error()}catch(K){F=K}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),q=b.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var $=`
`+O[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?di(a):""}function Oo(e,i){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return e.child!==i&&i!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Es(e.type,!1);case 11:return Es(e.type.render,!1);case 1:return Es(e.type,!0);case 31:return di("Activity");default:return""}}function Mo(e){try{var i="",a=null;do i+=Oo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Ue=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,_f=r.unstable_shouldYield,bu=r.unstable_requestPaint,ln=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,Vo=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,Tr=r.unstable_NormalPriority,vf=r.unstable_LowPriority,Su=r.unstable_IdlePriority,Au=r.log,wu=r.unstable_setDisableYieldValue,Kn=null,Ye=null;function Vn(e){if(typeof Au=="function"&&wu(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Kn,e)}catch{}}var ve=Math.clz32?Math.clz32:Cu,Ru=Math.log,da=Math.LN2;function Cu(e){return e>>>=0,e===0?32:31-(Ru(e)/da|0)|0}var mi=256,bs=262144,we=4194304;function pi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=pi(l):(_&=b,_!==0?h=pi(_):a||(a=b&~e,a!==0&&(h=pi(a))))):(b=l&~d,b!==0?h=pi(b):_!==0?h=pi(_):a||(a=l&~e,a!==0&&(h=pi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Xn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ef(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function yi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ss(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,O=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ve(a),et=1<<$;b[$]=0,O[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}a&=~et}l!==0&&As(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function As(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ve(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Po(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ve(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Lo(e,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(e.suspendedLanes|i))!==0?0:a}function ws(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Vv(e.type))}function $n(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Jn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Jn,qe="__reactProps$"+Jn,_i="__reactContainer$"+Jn,ma="__reactEvents$"+Jn,bf="__reactListeners$"+Jn,Du="__reactHandles$"+Jn,Nu="__reactResources$"+Jn,vi="__reactMarker$"+Jn;function pa(e){delete e[Re],delete e[qe],delete e[ma],delete e[bf],delete e[Du]}function Ei(e){var i=e[Re];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_i]||a[Re]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=_v(e);e!==null;){if(a=e[Re])return a;e=_v(e)}return i}e=a,a=e.parentNode}return null}function kn(e){if(e=e[Re]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function En(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ti(e){var i=e[Nu];return i||(i=e[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ce(e){e[vi]=!0}var Uo=new Set,zo={};function bi(e,i){Si(e,i),Si(e+"Capture",i)}function Si(e,i){for(zo[e]=i,e=0;e<i.length;e++)Uo.add(i[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Ou(e){return Ae.call(qo,e)?!0:Ae.call(Bo,e)?!1:jo.test(e)?qo[e]=!0:(Bo[e]=!0,!1)}function ga(e,i,a){if(Ou(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Tn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ie(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function br(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $t(e){if(!e._valueTracker){var i=br(e)?"checked":"value";e._valueTracker=Ho(e,i,""+e[i])}}function Rs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=br(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cs=/[\n"\\]/g;function fn(e){return e.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ya(e,i,a,l,h,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+He(i)):e.value!==""+He(i)&&(e.value=""+He(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Fo(e,_,He(i)):a!=null?Fo(e,_,He(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+He(b):e.removeAttribute("name")}function Mu(e,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$t(e);return}a=a!=null?""+He(a):"",i=i!=null?""+He(i):a,b||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),$t(e)}function Fo(e,i,a){i==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Sr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+He(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Vu(e,i,a){if(i!=null&&(i=""+He(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+He(a):""}function Ar(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(jt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=He(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),$t(e)}function dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Qo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(e,d,i[d])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return wr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Yo=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rr=null,wi=null;function Is(e){var i=kn(e);if(i&&(e=i.stateNode)){var a=e[qe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ya(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[qe]||null;if(!h)throw Error(s(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Rs(l)}break t;case"textarea":Vu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Sr(e,!!a.multiple,i,!1)}}}var Ea=!1;function Cr(e,i,a){if(Ea)return e(i,a);Ea=!0;try{var l=e(i);return l}finally{if(Ea=!1,(Rr!==null||wi!==null)&&(xc(),Rr&&(i=Rr,e=wi,wi=Rr=null,Is(i),e)))for(i=0;i<e.length;i++)Is(e[i])}}function Zn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[qe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(Ln)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){xs=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{xs=!1}var Ri=null,Ko=null,Ds=null;function Xo(){if(Ds)return Ds;var e,i=Ko,a=i.length,l,h="value"in Ri?Ri.value:Ri.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ds=h.slice(e,1<l?1-l:void 0)}function Ns(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function ti(){return!1}function Ke(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:ti,this.isPropagationStopped=ti,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ke(Gi),Ir=T({},Gi,{view:0,detail:0}),$o=Ke(Ir),xr,Ta,Ii,ba=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(xr=e.screenX-Ii.screenX,Ta=e.screenY-Ii.screenY):Ta=xr=0,Ii=e),xr)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Jo=Ke(ba),Os=T({},ba,{dataTransfer:0}),Lu=Ke(Os),Uu=T({},Ir,{relatedTarget:0}),Ms=Ke(Uu),Wo=T({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Ke(Wo),Sa=T({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ju=Ke(Sa),Bu=T({},Gi,{data:0}),xi=Ke(Bu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Fu[e])?!!i[e]:!1}function Dr(){return Gu}var un=T({},Ir,{key:function(e){if(e.key){var i=qu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qu=Ke(un),Yu=T({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ke(Yu),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),g=Ke(c),v=T({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(v),z=T({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ke(z),at=T({},Gi,{newState:0,oldState:0}),It=Ke(at),Ee=[9,13,27,32],Yt=Ln&&"CompositionEvent"in window,ue=null;Ln&&"documentMode"in document&&(ue=document.documentMode);var Un=Ln&&"TextEvent"in window&&!ue,Di=Ln&&(!Yt||ue&&8<ue&&11>=ue),ei=" ",ni=!1;function Vs(e,i){switch(e){case"keyup":return Ee.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function ES(e,i){switch(e){case"compositionend":return Aa(i);case"keypress":return i.which!==32?null:(ni=!0,ei);case"textInput":return e=i.data,e===ei&&ni?null:e;default:return null}}function TS(e,i){if(wa)return e==="compositionend"||!Yt&&Vs(e,i)?(e=Xo(),Ds=Ko=Ri=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bS[e.type]:i==="textarea"}function bg(e,i,a,l){Rr?wi?wi.push(l):wi=[l]:Rr=l,i=Pc(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Zo=null,tl=null;function SS(e){rv(e,0)}function Ku(e){var i=En(e);if(Rs(i))return e}function Sg(e,i){if(e==="change")return i}var Ag=!1;if(Ln){var Sf;if(Ln){var Af="oninput"in document;if(!Af){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Af=typeof wg.oninput=="function"}Sf=Af}else Sf=!1;Ag=Sf&&(!document.documentMode||9<document.documentMode)}function Rg(){Zo&&(Zo.detachEvent("onpropertychange",Cg),tl=Zo=null)}function Cg(e){if(e.propertyName==="value"&&Ku(tl)){var i=[];bg(i,tl,e,Pn(e)),Cr(SS,i)}}function AS(e,i,a){e==="focusin"?(Rg(),Zo=i,tl=a,Zo.attachEvent("onpropertychange",Cg)):e==="focusout"&&Rg()}function wS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(tl)}function RS(e,i){if(e==="click")return Ku(i)}function CS(e,i){if(e==="input"||e==="change")return Ku(i)}function IS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:IS;function el(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ae.call(i,h)||!bn(e[h],i[h]))return!1}return!0}function Ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,i){var a=Ig(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ai(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ai(e.document)}return i}function wf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xS=Ln&&"documentMode"in document&&11>=document.documentMode,Ra=null,Rf=null,nl=null,Cf=!1;function Og(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cf||Ra==null||Ra!==Ai(l)||(l=Ra,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Pc(Rf,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ra)))}function ks(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ca={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},If={},Mg={};Ln&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ps(e){if(If[e])return If[e];if(!Ca[e])return e;var i=Ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Mg)return If[e]=i[a];return e}var Vg=Ps("animationend"),kg=Ps("animationiteration"),Pg=Ps("animationstart"),DS=Ps("transitionrun"),NS=Ps("transitionstart"),OS=Ps("transitioncancel"),Lg=Ps("transitionend"),Ug=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function ii(e,i){Ug.set(e,i),bi(i,[e])}var Xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Ia=0,Df=0;function $u(){for(var e=Ia,i=Df=Ia=0;i<e;){var a=zn[i];zn[i++]=null;var l=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&zg(a,h,d)}}function Ju(e,i,a,l){zn[Ia++]=e,zn[Ia++]=i,zn[Ia++]=a,zn[Ia++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return Ju(e,i,a,l),Wu(e)}function Ls(e,i){return Ju(e,null,null,i),Wu(e)}function zg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ve(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(e){if(50<Al)throw Al=0,jd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var xa={};function MS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,i,a,l){return new MS(e,i,a,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,i){var a=e.alternate;return a===null?(a=Sn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Zu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Of(e)&&(_=1);else if(typeof e=="string")_=U1(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=Sn(31,a,i,h),e.elementType=S,e.lanes=d,e;case G:return Us(a.children,h,d,i);case B:_=8,h|=24;break;case J:return e=Sn(12,a,i,h|2),e.elementType=J,e.lanes=d,e;case ot:return e=Sn(13,a,i,h),e.elementType=ot,e.lanes=d,e;case dt:return e=Sn(19,a,i,h),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:_=10;break t;case X:_=9;break t;case rt:_=11;break t;case D:_=14;break t;case I:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Sn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Us(e,i,a,l){return e=Sn(7,e,l,i),e.lanes=a,e}function Mf(e,i,a){return e=Sn(6,e,null,i),e.lanes=a,e}function Bg(e){var i=Sn(18,null,null,0);return i.stateNode=e,i}function Vf(e,i,a){return i=Sn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var qg=new WeakMap;function jn(e,i){if(typeof e=="object"&&e!==null){var a=qg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Mo(i)},qg.set(e,i),i)}return{value:e,source:i,stack:Mo(i)}}var Da=[],Na=0,tc=null,il=0,Bn=[],qn=0,Nr=null,Ni=1,Oi="";function Ki(e,i){Da[Na++]=il,Da[Na++]=tc,tc=e,il=i}function Hg(e,i,a){Bn[qn++]=Ni,Bn[qn++]=Oi,Bn[qn++]=Nr,Nr=e;var l=Ni;e=Oi;var h=32-ve(l)-1;l&=~(1<<h),a+=1;var d=32-ve(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-ve(i)+h|a<<h|l,Oi=d+e}else Ni=1<<d|a<<h|l,Oi=e}function kf(e){e.return!==null&&(Ki(e,1),Hg(e,1,0))}function Pf(e){for(;e===tc;)tc=Da[--Na],Da[Na]=null,il=Da[--Na],Da[Na]=null;for(;e===Nr;)Nr=Bn[--qn],Bn[qn]=null,Oi=Bn[--qn],Bn[qn]=null,Ni=Bn[--qn],Bn[qn]=null}function Fg(e,i){Bn[qn++]=Ni,Bn[qn++]=Oi,Bn[qn++]=Nr,Ni=i.id,Oi=i.overflow,Nr=e}var Xe=null,se=null,zt=!1,Or=null,Hn=!1,Lf=Error(s(519));function Mr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(jn(i,e)),Lf}function Gg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Re]=e,i[qe]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Mt(Rl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||lv(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Wn),i=!0):i=!1,i||Mr(e,!0)}function Qg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xe=Xe.return}}function Oa(e){if(e!==Xe)return!1;if(!zt)return Qg(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||em(e.type,e.memoizedProps)),a=!a),a&&se&&Mr(e),Qg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=yv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=yv(e)}else i===27?(i=se,Yr(e.type)?(e=am,am=null,se=e):se=i):se=Xe?Gn(e.stateNode.nextSibling):null;return!0}function zs(){se=Xe=null,zt=!1}function Uf(){var e=Or;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Or=null),e}function rl(e){Or===null?Or=[e]:Or.push(e)}var zf=k(null),js=null,Xi=null;function Vr(e,i,a){ut(zf,i._currentValue),i._currentValue=a}function $i(e){e._currentValue=zf.current,nt(zf)}function jf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),jf(d.return,a,e),l||(_=null);break t}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ma(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;bn(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===Bt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Nl):e=[Nl])}h=h.return}e!==null&&Bf(i,e,a,l),i.flags|=262144}function ec(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){js=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Yg(js,e)}function nc(e,i){return js===null&&Bs(e),Yg(e,i)}function Yg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xi===null){if(e===null)throw Error(s(308));Xi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Xi=Xi.next=i;return a}var VS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},kS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,xe={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new VS,data:new Map,refCount:0}}function sl(e){e.refCount--,e.refCount===0&&kS(PS,function(){e.controller.abort()})}var al=null,Hf=0,Va=0,ka=null;function LS(e,i){if(al===null){var a=al=[];Hf=0,Va=Qd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Kg,Kg),i}function Kg(){if(--Hf===0&&al!==null){ka!==null&&(ka.status="fulfilled");var e=al;al=null,Va=0,ka=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function US(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Xg=Y.S;Y.S=function(e,i){O_=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&LS(e,i),Xg!==null&&Xg(e,i)};var qs=k(null);function Ff(){var e=qs.current;return e!==null?e:re.pooledCache}function ic(e,i){i===null?ut(qs,qs.current):ut(qs,i.pool)}function $g(){var e=Ff();return e===null?null:{parent:xe._currentValue,pool:e}}var Pa=Error(s(460)),Gf=Error(s(474)),rc=Error(s(542)),sc={then:function(){}};function Jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Wn,Wn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ty(e),e;default:if(typeof i.status=="string")i.then(Wn,Wn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ty(e),e}throw Fs=i,Pa}}function Hs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,Pa):a}}var Fs=null;function Zg(){if(Fs===null)throw Error(s(459));var e=Fs;return Fs=null,e}function ty(e){if(e===Pa||e===rc)throw Error(s(483))}var La=null,ol=0;function ac(e){var i=ol;return ol+=1,La===null&&(La=[]),Wg(La,e,i)}function ll(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function oc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ey(e){function i(U,V){if(e){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Yi(U,V),U.index=0,U.sibling=null,U}function d(U,V,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,j,tt){return V===null||V.tag!==6?(V=Mf(j,U.mode,tt),V.return=U,V):(V=h(V,j),V.return=U,V)}function O(U,V,j,tt){var _t=j.type;return _t===G?$(U,V,j.props.children,tt,j.key):V!==null&&(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===I&&Hs(_t)===V.type)?(V=h(V,j.props),ll(V,j),V.return=U,V):(V=Zu(j.type,j.key,j.props,null,U.mode,tt),ll(V,j),V.return=U,V)}function q(U,V,j,tt){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Vf(j,U.mode,tt),V.return=U,V):(V=h(V,j.children||[]),V.return=U,V)}function $(U,V,j,tt,_t){return V===null||V.tag!==7?(V=Us(j,U.mode,tt,_t),V.return=U,V):(V=h(V,j),V.return=U,V)}function et(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Mf(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return j=Zu(V.type,V.key,V.props,null,U.mode,j),ll(j,V),j.return=U,j;case H:return V=Vf(V,U.mode,j),V.return=U,V;case I:return V=Hs(V),et(U,V,j)}if(jt(V)||M(V))return V=Us(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return et(U,ac(V),j);if(V.$$typeof===W)return et(U,nc(U,V),j);oc(U,V)}return null}function F(U,V,j,tt){var _t=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _t!==null?null:b(U,V,""+j,tt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===_t?O(U,V,j,tt):null;case H:return j.key===_t?q(U,V,j,tt):null;case I:return j=Hs(j),F(U,V,j,tt)}if(jt(j)||M(j))return _t!==null?null:$(U,V,j,tt,null);if(typeof j.then=="function")return F(U,V,ac(j),tt);if(j.$$typeof===W)return F(U,V,nc(U,j),tt);oc(U,j)}return null}function K(U,V,j,tt,_t){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return U=U.get(j)||null,b(V,U,""+tt,_t);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case L:return U=U.get(tt.key===null?j:tt.key)||null,O(V,U,tt,_t);case H:return U=U.get(tt.key===null?j:tt.key)||null,q(V,U,tt,_t);case I:return tt=Hs(tt),K(U,V,j,tt,_t)}if(jt(tt)||M(tt))return U=U.get(j)||null,$(V,U,tt,_t,null);if(typeof tt.then=="function")return K(U,V,j,ac(tt),_t);if(tt.$$typeof===W)return K(U,V,j,nc(V,tt),_t);oc(V,tt)}return null}function mt(U,V,j,tt){for(var _t=null,Gt=null,gt=V,Nt=V=0,kt=null;gt!==null&&Nt<j.length;Nt++){gt.index>Nt?(kt=gt,gt=null):kt=gt.sibling;var Qt=F(U,gt,j[Nt],tt);if(Qt===null){gt===null&&(gt=kt);break}e&&gt&&Qt.alternate===null&&i(U,gt),V=d(Qt,V,Nt),Gt===null?_t=Qt:Gt.sibling=Qt,Gt=Qt,gt=kt}if(Nt===j.length)return a(U,gt),zt&&Ki(U,Nt),_t;if(gt===null){for(;Nt<j.length;Nt++)gt=et(U,j[Nt],tt),gt!==null&&(V=d(gt,V,Nt),Gt===null?_t=gt:Gt.sibling=gt,Gt=gt);return zt&&Ki(U,Nt),_t}for(gt=l(gt);Nt<j.length;Nt++)kt=K(gt,U,Nt,j[Nt],tt),kt!==null&&(e&&kt.alternate!==null&&gt.delete(kt.key===null?Nt:kt.key),V=d(kt,V,Nt),Gt===null?_t=kt:Gt.sibling=kt,Gt=kt);return e&&gt.forEach(function(Wr){return i(U,Wr)}),zt&&Ki(U,Nt),_t}function Tt(U,V,j,tt){if(j==null)throw Error(s(151));for(var _t=null,Gt=null,gt=V,Nt=V=0,kt=null,Qt=j.next();gt!==null&&!Qt.done;Nt++,Qt=j.next()){gt.index>Nt?(kt=gt,gt=null):kt=gt.sibling;var Wr=F(U,gt,Qt.value,tt);if(Wr===null){gt===null&&(gt=kt);break}e&&gt&&Wr.alternate===null&&i(U,gt),V=d(Wr,V,Nt),Gt===null?_t=Wr:Gt.sibling=Wr,Gt=Wr,gt=kt}if(Qt.done)return a(U,gt),zt&&Ki(U,Nt),_t;if(gt===null){for(;!Qt.done;Nt++,Qt=j.next())Qt=et(U,Qt.value,tt),Qt!==null&&(V=d(Qt,V,Nt),Gt===null?_t=Qt:Gt.sibling=Qt,Gt=Qt);return zt&&Ki(U,Nt),_t}for(gt=l(gt);!Qt.done;Nt++,Qt=j.next())Qt=K(gt,U,Nt,Qt.value,tt),Qt!==null&&(e&&Qt.alternate!==null&&gt.delete(Qt.key===null?Nt:Qt.key),V=d(Qt,V,Nt),Gt===null?_t=Qt:Gt.sibling=Qt,Gt=Qt);return e&&gt.forEach(function(X1){return i(U,X1)}),zt&&Ki(U,Nt),_t}function ne(U,V,j,tt){if(typeof j=="object"&&j!==null&&j.type===G&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:t:{for(var _t=j.key;V!==null;){if(V.key===_t){if(_t=j.type,_t===G){if(V.tag===7){a(U,V.sibling),tt=h(V,j.props.children),tt.return=U,U=tt;break t}}else if(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===I&&Hs(_t)===V.type){a(U,V.sibling),tt=h(V,j.props),ll(tt,j),tt.return=U,U=tt;break t}a(U,V);break}else i(U,V);V=V.sibling}j.type===G?(tt=Us(j.props.children,U.mode,tt,j.key),tt.return=U,U=tt):(tt=Zu(j.type,j.key,j.props,null,U.mode,tt),ll(tt,j),tt.return=U,U=tt)}return _(U);case H:t:{for(_t=j.key;V!==null;){if(V.key===_t)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(U,V.sibling),tt=h(V,j.children||[]),tt.return=U,U=tt;break t}else{a(U,V);break}else i(U,V);V=V.sibling}tt=Vf(j,U.mode,tt),tt.return=U,U=tt}return _(U);case I:return j=Hs(j),ne(U,V,j,tt)}if(jt(j))return mt(U,V,j,tt);if(M(j)){if(_t=M(j),typeof _t!="function")throw Error(s(150));return j=_t.call(j),Tt(U,V,j,tt)}if(typeof j.then=="function")return ne(U,V,ac(j),tt);if(j.$$typeof===W)return ne(U,V,nc(U,j),tt);oc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(U,V.sibling),tt=h(V,j),tt.return=U,U=tt):(a(U,V),tt=Mf(j,U.mode,tt),tt.return=U,U=tt),_(U)):a(U,V)}return function(U,V,j,tt){try{ol=0;var _t=ne(U,V,j,tt);return La=null,_t}catch(gt){if(gt===Pa||gt===rc)throw gt;var Gt=Sn(29,gt,null,U.mode);return Gt.lanes=tt,Gt.return=U,Gt}}}var Gs=ey(!0),ny=ey(!1),kr=!1;function Qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(e),zg(e,null,a),i}return Ju(e,l,i,a),Wu(e)}function ul(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Po(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Xf=!1;function cl(){if(Xf){var e=ka;if(e!==null)throw e}}function hl(e,i,a,l){Xf=!1;var h=e.updateQueue;kr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,q=O.next;O.next=null,_===null?d=q:_.next=q,_=O;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=q:b.next=q,$.lastBaseUpdate=O))}if(d!==null){var et=h.baseState;_=0,$=q=O=null,b=d;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(Vt&F)===F:(l&F)===F){F!==0&&F===Va&&(Xf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var mt=e,Tt=b;F=i;var ne=a;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){et=mt.call(ne,et,F);break t}et=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,F=typeof mt=="function"?mt.call(ne,et,F):mt,F==null)break t;et=T({},et,F);break t;case 2:kr=!0}}F=b.callback,F!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(q=$=K,O=et):$=$.next=K,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(O=et),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),qr|=_,e.lanes=_,e.memoizedState=et}}function iy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ry(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)iy(a[e],i)}var Ua=k(null),lc=k(0);function sy(e,i){e=sr,ut(lc,e),ut(Ua,i),sr=e|i.baseLanes}function $f(){ut(lc,sr),ut(Ua,Ua.current)}function Jf(){sr=lc.current,nt(Ua),nt(lc)}var An=k(null),Fn=null;function Ur(e){var i=e.alternate;ut(Te,Te.current&1),ut(An,e),Fn===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(Fn=e)}function Wf(e){ut(Te,Te.current),ut(An,e),Fn===null&&(Fn=e)}function ay(e){e.tag===22?(ut(Te,Te.current),ut(An,e),Fn===null&&(Fn=e)):zr()}function zr(){ut(Te,Te.current),ut(An,An.current)}function wn(e){nt(An),Fn===e&&(Fn=null),nt(Te)}var Te=k(0);function uc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ji=0,xt=null,te=null,De=null,cc=!1,za=!1,Qs=!1,hc=0,fl=0,ja=null,zS=0;function de(){throw Error(s(321))}function Zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!bn(e[a],i[a]))return!1;return!0}function td(e,i,a,l,h,d){return Ji=d,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?Hy:pd,Qs=!1,d=a(l,h),Qs=!1,za&&(d=ly(i,a,l,h)),oy(e),d}function oy(e){Y.H=pl;var i=te!==null&&te.next!==null;if(Ji=0,De=te=xt=null,cc=!1,fl=0,ja=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&ec(e)&&(Ne=!0))}function ly(e,i,a,l){xt=e;var h=0;do{if(za&&(ja=null),fl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,De=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Fy,d=i(a,l)}while(za);return d}function jS(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?dl(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(xt.flags|=1024),i}function ed(){var e=hc!==0;return hc=0,e}function nd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function id(e){if(cc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}cc=!1}Ji=0,De=te=xt=null,za=!1,fl=hc=0,ja=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?xt.memoizedState=De=e:De=De.next=e,De}function be(){if(te===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=De===null?xt.memoizedState:De.next;if(i!==null)De=i,te=e;else{if(e===null)throw xt.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},De===null?xt.memoizedState=De=e:De=De.next=e}return De}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(e){var i=fl;return fl+=1,ja===null&&(ja=[]),e=Wg(ja,e,i),i=xt,(De===null?i.memoizedState:De.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Hy:pd),e}function dc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dl(e);if(e.$$typeof===W)return $e(e)}throw Error(s(438,String(e)))}function rd(e){var i=null,a=xt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=fc(),xt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function Wi(e,i){return typeof i=="function"?i(e):i}function mc(e){var i=be();return sd(i,te,e)}function sd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var b=_=null,O=null,q=i,$=!1;do{var et=q.lane&-536870913;if(et!==q.lane?(Vt&et)===et:(Ji&et)===et){var F=q.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),et===Va&&($=!0);else if((Ji&F)===F){q=q.next,F===Va&&($=!0);continue}else et={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(b=O=et,_=d):O=O.next=et,xt.lanes|=F,qr|=F;et=q.action,Qs&&a(d,et),d=q.hasEagerState?q.eagerState:a(d,et)}else F={lane:et,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(b=O=F,_=d):O=O.next=F,xt.lanes|=et,qr|=et;q=q.next}while(q!==null&&q!==i);if(O===null?_=d:O.next=b,!bn(d,e.memoizedState)&&(Ne=!0,$&&(a=ka,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ad(e){var i=be(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);bn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(e,i,a){var l=xt,h=be(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!bn((te||h).memoizedState,a);if(_&&(h.memoizedState=a,Ne=!0),h=h.queue,ud(fy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},hy.bind(null,l,h,a,i),null),re===null)throw Error(s(349));d||(Ji&127)!==0||cy(l,i,a)}return a}function cy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=xt.updateQueue,i===null?(i=fc(),xt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function hy(e,i,a,l){i.value=a,i.getSnapshot=l,dy(i)&&my(e)}function fy(e,i,a){return a(function(){dy(i)&&my(e)})}function dy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!bn(e,a)}catch{return!0}}function my(e){var i=Ls(e,2);i!==null&&_n(i,e,2)}function od(e){var i=cn();if(typeof e=="function"){var a=e;if(e=a(),Qs){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},i}function py(e,i,a,l){return e.baseState=a,sd(e,te,typeof l=="function"?l:Wi)}function BS(e,i,a,l,h){if(yc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var b=a(h,l),O=Y.S;O!==null&&O(_,b),yy(e,i,b)}catch(q){ld(e,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),yy(e,i,d)}catch(q){ld(e,i,q)}}function yy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(e,i,l)},function(l){return ld(e,i,l)}):_y(e,i,a)}function _y(e,i,a){i.status="fulfilled",i.value=a,vy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,gy(e,a)))}function ld(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,vy(i),i=i.next;while(i!==l)}e.action=null}function vy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ey(e,i){return i}function Ty(e,i){if(zt){var a=re.formState;if(a!==null){t:{var l=xt;if(zt){if(se){e:{for(var h=se,d=Hn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=Gn(h.nextSibling),l=h.data==="F!";break t}}Mr(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=l,a=jy.bind(null,xt,l),l.dispatch=a,l=od(!1),d=md.bind(null,xt,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=BS.bind(null,xt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function by(e){var i=be();return Sy(i,te,e)}function Sy(e,i,a){if(i=sd(e,i,Ey)[0],e=mc(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===Pa?rc:_}else l=i;i=be();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(xt.flags|=2048,Ba(9,{destroy:void 0},qS.bind(null,h,a),null)),[l,d,e]}function qS(e,i){e.action=i}function Ay(e){var i=be(),a=te;if(a!==null)return Sy(i,a,e);be(),i=i.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ba(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=xt.updateQueue,i===null&&(i=fc(),xt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function wy(){return be().memoizedState}function pc(e,i,a,l){var h=cn();xt.flags|=e,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function gc(e,i,a,l){var h=be();l=l===void 0?null:l;var d=h.memoizedState.inst;te!==null&&l!==null&&Zf(l,te.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(xt.flags|=e,h.memoizedState=Ba(1|i,d,a,l))}function Ry(e,i){pc(8390656,8,e,i)}function ud(e,i){gc(2048,8,e,i)}function HS(e){xt.flags|=4;var i=xt.updateQueue;if(i===null)i=fc(),xt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Cy(e){var i=be().memoizedState;return HS({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Iy(e,i){return gc(4,2,e,i)}function xy(e,i){return gc(4,4,e,i)}function Dy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ny(e,i,a){a=a!=null?a.concat([e]):null,gc(4,4,Dy.bind(null,i,e),a)}function cd(){}function Oy(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function My(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=e(),Qs){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function hd(e,i,a){return a===void 0||(Ji&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=V_(),xt.lanes|=e,qr|=e,a)}function Vy(e,i,a,l){return bn(a,i)?a:Ua.current!==null?(e=hd(e,a,l),bn(e,i)||(Ne=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Vt&261930)===0?(Ne=!0,e.memoizedState=a):(e=V_(),xt.lanes|=e,qr|=e,i)}function ky(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=Y.T,b={};Y.T=b,md(e,!1,i,a);try{var O=h(),q=Y.S;if(q!==null&&q(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=US(O,l);ml(e,i,$,In(e))}else ml(e,i,l,In(e))}catch(et){ml(e,i,{then:function(){},status:"rejected",reason:et},In())}finally{st.p=d,_!==null&&b.types!==null&&(_.types=b.types),Y.T=_}}function FS(){}function fd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Py(e).queue;ky(e,h,i,pt,a===null?FS:function(){return Ly(e),a(l)})}function Py(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:pt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ly(e){var i=Py(e);i.next===null&&(i=e.alternate.memoizedState),ml(e,i.next.queue,{},In())}function dd(){return $e(Nl)}function Uy(){return be().memoizedState}function zy(){return be().memoizedState}function GS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();e=Pr(a);var l=Lr(i,e,a);l!==null&&(_n(l,i,a),ul(l,i,a)),i={cache:qf()},e.payload=i;return}i=i.return}}function QS(e,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(e)?By(i,a):(a=Nf(e,i,a,l),a!==null&&(_n(a,e,l),qy(a,i,l)))}function jy(e,i,a){var l=In();ml(e,i,a,l)}function ml(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(e))By(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,bn(b,_))return Ju(e,i,h,0),re===null&&$u(),!1}catch{}if(a=Nf(e,i,h,l),a!==null)return _n(a,e,l),qy(a,i,l),!0}return!1}function md(e,i,a,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yc(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&_n(i,e,2)}function yc(e){var i=e.alternate;return e===xt||i!==null&&i===xt}function By(e,i){za=cc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function qy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Po(e,a)}}var pl={readContext:$e,use:dc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};pl.useEffectEvent=de;var Hy={readContext:$e,use:dc,useCallback:function(e,i){return cn().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:Ry,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,pc(4194308,4,Dy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return pc(4194308,4,e,i)},useInsertionEffect:function(e,i){pc(4,2,e,i)},useMemo:function(e,i){var a=cn();i=i===void 0?null:i;var l=e();if(Qs){Vn(!0);try{e()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Qs){Vn(!0);try{a(i)}finally{Vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=QS.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var i=cn();return e={current:e},i.memoizedState=e},useState:function(e){e=od(e);var i=e.queue,a=jy.bind(null,xt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(e,i){var a=cn();return hd(a,e,i)},useTransition:function(){var e=od(!1);return e=ky.bind(null,xt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=xt,h=cn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(Vt&127)!==0||cy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ry(fy.bind(null,l,d,e),[e]),l.flags|=2048,Ba(9,{destroy:void 0},hy.bind(null,l,d,a,i),null),a},useId:function(){var e=cn(),i=re.identifierPrefix;if(zt){var a=Oi,l=Ni;a=(l&~(1<<32-ve(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=zS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:dd,useFormState:Ty,useActionState:Ty,useOptimistic:function(e){var i=cn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,xt,!0,a),a.dispatch=i,[e,i]},useMemoCache:rd,useCacheRefresh:function(){return cn().memoizedState=GS.bind(null,xt)},useEffectEvent:function(e){var i=cn(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:$e,use:dc,useCallback:Oy,useContext:$e,useEffect:ud,useImperativeHandle:Ny,useInsertionEffect:Iy,useLayoutEffect:xy,useMemo:My,useReducer:mc,useRef:wy,useState:function(){return mc(Wi)},useDebugValue:cd,useDeferredValue:function(e,i){var a=be();return Vy(a,te.memoizedState,e,i)},useTransition:function(){var e=mc(Wi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:dd,useFormState:by,useActionState:by,useOptimistic:function(e,i){var a=be();return py(a,te,e,i)},useMemoCache:rd,useCacheRefresh:zy};pd.useEffectEvent=Cy;var Fy={readContext:$e,use:dc,useCallback:Oy,useContext:$e,useEffect:ud,useImperativeHandle:Ny,useInsertionEffect:Iy,useLayoutEffect:xy,useMemo:My,useReducer:ad,useRef:wy,useState:function(){return ad(Wi)},useDebugValue:cd,useDeferredValue:function(e,i){var a=be();return te===null?hd(a,e,i):Vy(a,te.memoizedState,e,i)},useTransition:function(){var e=ad(Wi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:dl(e),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:dd,useFormState:Ay,useActionState:Ay,useOptimistic:function(e,i){var a=be();return te!==null?py(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:zy};Fy.useEffectEvent=Cy;function gd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=In(),h=Pr(l);h.payload=i,a!=null&&(h.callback=a),i=Lr(e,h,l),i!==null&&(_n(i,e,l),ul(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=In(),h=Pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Lr(e,h,l),i!==null&&(_n(i,e,l),ul(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=In(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(e,l,a),i!==null&&(_n(i,e,a),ul(i,e,a))}};function Gy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function Qy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&yd.enqueueReplaceState(i,i.state,null)}function Ys(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Yy(e){Xu(e)}function Ky(e){console.error(e)}function Xy(e){Xu(e)}function _c(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function $y(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(e,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(e,i)},a}function Jy(e){return e=Pr(e),e.tag=3,e}function Wy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){$y(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){$y(i,a,l),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function YS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Dc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(e,l,h)),!1;case 22:return a.flags|=65536,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(e,l,h)),!1}throw Error(s(435,a.tag))}return Hd(e,l,h),Dc(),!1}if(zt)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(e=Error(s(422),{cause:l}),rl(jn(e,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),rl(jn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=jn(l,a),h=_d(e.stateNode,l,h),Kf(e,h),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Sl===null?Sl=[d]:Sl.push(d),me!==4&&(me=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_d(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jy(h),Wy(h,e,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),Ne=!1;function Je(e,i,a,l){i.child=e===null?ny(i,null,a,l):Gs(i,e.child,a,l)}function Zy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Bs(i),l=td(e,i,a,_,d,h),b=ed(),e!==null&&!Ne?(nd(e,i,h),Zi(e,i,h)):(zt&&b&&kf(i),i.flags|=1,Je(e,i,l,h),i.child)}function t_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,e_(e,i,d,l,h)):(e=Zu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Cd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&e.ref===i.ref)return Zi(e,i,h)}return i.flags|=1,e=Yi(d,l),e.ref=i.ref,e.return=i,i.child=e}function e_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(el(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,Cd(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Zi(e,i,h)}return Ed(e,i,a,l,h)}function n_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return i_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ic(i,d!==null?d.cachePool:null),d!==null?sy(i,d):$f(),ay(i);else return l=i.lanes=536870912,i_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ic(i,d.cachePool),sy(i,d),zr(),i.memoizedState=null):(e!==null&&ic(i,null),$f(),zr());return Je(e,i,h,a),i.child}function gl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function i_(e,i,a,l,h){var d=Ff();return d=d===null?null:{parent:xe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ic(i,null),$f(),ay(i),e!==null&&Ma(e,i,l,!0),i.childLanes=h,null}function vc(e,i){return i=Tc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function r_(e,i,a){return Gs(i,e.child,null,a),e=vc(i,i.pendingProps),e.flags|=2,wn(i),i.memoizedState=null,e}function KS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=vc(i,l),i.lanes=536870912,gl(null,e);if(Wf(i),(e=se)?(e=gv(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Nr!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(e),a.return=i,i.child=a,Xe=i,se=null)):e=null,e===null)throw Mr(i);return i.lanes=536870912,null}return vc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Wf(i),h)if(i.flags&256)i.flags&=-257,i=r_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ne||Ma(e,i,a,!1),h=(a&e.childLanes)!==0,Ne||h){if(l=re,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(e,_),_n(l,e,_),vd;Dc(),i=r_(e,i,a)}else e=d.treeContext,se=Gn(_.nextSibling),Xe=i,zt=!0,Or=null,Hn=!1,e!==null&&Fg(i,e),i=vc(i,l),i.flags|=4096;return i}return e=Yi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ec(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ed(e,i,a,l,h){return Bs(i),a=td(e,i,a,l,void 0,h),l=ed(),e!==null&&!Ne?(nd(e,i,h),Zi(e,i,h)):(zt&&l&&kf(i),i.flags|=1,Je(e,i,a,h),i.child)}function s_(e,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=ly(i,l,a,h),oy(e),l=ed(),e!==null&&!Ne?(nd(e,i,d),Zi(e,i,d)):(zt&&l&&kf(i),i.flags|=1,Je(e,i,a,d),i.child)}function a_(e,i,a,l,h){if(Bs(i),i.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=$e(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$e(_):xa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yd.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var b=i.memoizedProps,O=Ys(a,b);d.props=O;var q=d.context,$=a.contextType;_=xa,typeof $=="object"&&$!==null&&(_=$e($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==_)&&Qy(i,d,l,_),kr=!1;var F=i.memoizedState;d.state=F,hl(i,l,d,h),cl(),q=i.memoizedState,b||F!==q||kr?(typeof et=="function"&&(gd(i,a,et,l),q=i.memoizedState),(O=kr||Gy(i,a,O,l,F,q,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(e,i),_=i.memoizedProps,$=Ys(a,_),d.props=$,et=i.pendingProps,F=d.context,q=a.contextType,O=xa,typeof q=="object"&&q!==null&&(O=$e(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==et||F!==O)&&Qy(i,d,l,O),kr=!1,F=i.memoizedState,d.state=F,hl(i,l,d,h),cl();var K=i.memoizedState;_!==et||F!==K||kr||e!==null&&e.dependencies!==null&&ec(e.dependencies)?(typeof b=="function"&&(gd(i,a,b,l),K=i.memoizedState),($=kr||Gy(i,a,$,l,F,K,O)||e!==null&&e.dependencies!==null&&ec(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ec(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Gs(i,e.child,null,h),i.child=Gs(i,null,a,h)):Je(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Zi(e,i,h),e}function o_(e,i,a,l){return zs(),i.flags|=256,Je(e,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bd(e){return{baseLanes:e,cachePool:$g()}}function Sd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function l_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Ur(i):zr(),(e=se)?(e=gv(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Nr!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(e),a.return=i,i.child=a,Xe=i,se=null)):e=null,e===null)throw Mr(i);return sm(e)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(zr(),h=i.mode,b=Tc({mode:"hidden",children:b},h),l=Us(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=bd(a),l.childLanes=Sd(e,_,a),i.memoizedState=Td,gl(null,l)):(Ur(i),Ad(i,b))}var O=e.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=wd(e,i,a)):i.memoizedState!==null?(zr(),i.child=e.child,i.flags|=128,i=null):(zr(),b=l.fallback,h=i.mode,l=Tc({mode:"visible",children:l.children},h),b=Us(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Gs(i,e.child,null,a),l=i.child,l.memoizedState=bd(a),l.childLanes=Sd(e,_,a),i.memoizedState=Td,i=gl(null,l));else if(Ur(i),sm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=wd(e,i,a)}else if(Ne||Ma(e,i,a,!1),_=(a&e.childLanes)!==0,Ne||_){if(_=re,_!==null&&(l=Lo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Ls(e,l),_n(_,e,l),vd;rm(b)||Dc(),i=wd(e,i,a)}else rm(b)?(i.flags|=192,i.child=e.child,i=null):(e=O.treeContext,se=Gn(b.nextSibling),Xe=i,zt=!0,Or=null,Hn=!1,e!==null&&Fg(i,e),i=Ad(i,l.children),i.flags|=4096);return i}return h?(zr(),b=l.fallback,h=i.mode,O=e.child,q=O.sibling,l=Yi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?b=Yi(q,b):(b=Us(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,gl(null,l),l=i.child,b=e.child.memoizedState,b===null?b=bd(a):(h=b.cachePool,h!==null?(O=xe._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=$g(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Sd(e,_,a),i.memoizedState=Td,gl(e.child,l)):(Ur(i),a=e.child,e=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ad(e,i){return i=Tc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Tc(e,i){return e=Sn(22,e,null,i),e.lanes=0,e}function wd(e,i,a){return Gs(i,e.child,null,a),e=Ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function u_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),jf(e.return,i,a)}function Rd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function c_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Te.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ut(Te,_),Je(e,i,l,a),l=zt?il:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u_(e,a,i);else if(e.tag===19)u_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&uc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&uc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rd(i,!0,a,null,d,l);break;case"together":Rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ma(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Yi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Yi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Cd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ec(e)))}function XS(e,i,a){switch(i.tag){case 3:Le(i,i.stateNode.containerInfo),Vr(i,xe,e.memoizedState.cache),zs();break;case 27:case 5:vs(i);break;case 4:Le(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l_(e,i,a):(Ur(i),e=Zi(e,i,a),e!==null?e.sibling:null);Ur(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ma(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return c_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ut(Te,Te.current),l)break;return null;case 22:return i.lanes=0,n_(e,i,a,i.pendingProps);case 24:Vr(i,xe,e.memoizedState.cache)}return Zi(e,i,a)}function h_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Cd(e,a)&&(i.flags&128)===0)return Ne=!1,XS(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,zt&&(i.flags&1048576)!==0&&Hg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Hs(i.elementType),i.type=e,typeof e=="function")Of(e)?(l=Ys(e,l),i.tag=1,i=a_(null,i,e,l,a)):(i.tag=0,i=Ed(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===rt){i.tag=11,i=Zy(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=t_(null,i,e,l,a);break t}}throw i=Et(e)||e,Error(s(306,i,""))}}return i;case 0:return Ed(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),a_(e,i,l,h,a);case 3:t:{if(Le(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(e,i),hl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Vr(i,xe,l),l!==d.cache&&Bf(i,[xe],a,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=o_(e,i,l,a);break t}else if(l!==h){h=jn(Error(s(424)),i),rl(h),i=o_(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Gn(e.firstChild),Xe=i,zt=!0,Or=null,Hn=!0,a=ny(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zs(),l===h){i=Zi(e,i,a);break t}Je(e,i,l,a)}i=i.child}return i;case 26:return Ec(e,i),e===null?(a=bv(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Lc(Dt.current).createElement(a),l[Re]=i,l[qe]=e,We(l,a,e),Ce(l),i.stateNode=l):i.memoizedState=bv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return vs(i),e===null&&zt&&(l=i.stateNode=vv(i.type,i.pendingProps,Dt.current),Xe=i,Hn=!0,h=se,Yr(i.type)?(am=h,se=Gn(l.firstChild)):se=h),Je(e,i,i.pendingProps.children,a),Ec(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=se)&&(l=w1(l,i.type,i.pendingProps,Hn),l!==null?(i.stateNode=l,Xe=i,se=Gn(l.firstChild),Hn=!1,h=!0):h=!1),h||Mr(i)),vs(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=td(e,i,jS,null,null,a),Nl._currentValue=h),Ec(e,i),Je(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=se)&&(a=R1(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,Xe=i,se=null,e=!0):e=!1),e||Mr(i)),null;case 13:return l_(e,i,a);case 4:return Le(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Gs(i,null,l,a):Je(e,i,l,a),i.child;case 11:return Zy(e,i,i.type,i.pendingProps,a);case 7:return Je(e,i,i.pendingProps,a),i.child;case 8:return Je(e,i,i.pendingProps.children,a),i.child;case 12:return Je(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vr(i,i.type,l.value),Je(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=$e(h),l=l(h),i.flags|=1,Je(e,i,l,a),i.child;case 14:return t_(e,i,i.type,i.pendingProps,a);case 15:return e_(e,i,i.type,i.pendingProps,a);case 19:return c_(e,i,a);case 31:return KS(e,i,a);case 22:return n_(e,i,a,i.pendingProps);case 24:return Bs(i),l=$e(xe),e===null?(h=Ff(),h===null&&(h=re,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),Vr(i,xe,h)):((e.lanes&a)!==0&&(Yf(e,i),hl(i,null,null,a),cl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vr(i,xe,l)):(l=d.cache,Vr(i,xe,l),l!==h.cache&&Bf(i,[xe],a,!0))),Je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function tr(e){e.flags|=4}function Id(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(U_())e.flags|=8192;else throw Fs=sc,Gf}else e.flags&=-16777217}function f_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cv(i))if(U_())e.flags|=8192;else throw Fs=sc,Gf}function bc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Iu():536870912,e.lanes|=i,Ga|=i)}function yl(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function $S(e,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(xe),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oa(i)?tr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uf())),ae(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(tr(i),d!==null?(ae(i),f_(i,d)):(ae(i),Id(i,h,null,l,a))):d?d!==e.memoizedState?(tr(i),ae(i),f_(i,d)):(ae(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&tr(i),ae(i),Id(i,h,e,l,a)),null;case 27:if(ca(i),a=Dt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}e=ft.current,Oa(i)?Gg(i):(e=vv(h,l,a),i.stateNode=e,tr(i))}return ae(i),null;case 5:if(ca(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}if(d=ft.current,Oa(i))Gg(i);else{var _=Lc(Dt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Re]=i,d[qe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(We(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&tr(i)}}return ae(i),Id(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Dt.current,Oa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(e.nodeValue,a)),e||Mr(i,!0)}else e=Lc(e).createTextNode(l),e[Re]=i,i.stateNode=e}return ae(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Oa(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Re]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),e=!1}else a=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),ae(i),null);case 4:return le(),e===null&&$d(i.stateNode.containerInfo),ae(i),null;case 10:return $i(i.type),ae(i),null;case 19:if(nt(Te),l=i.memoizedState,l===null)return ae(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=uc(e),d!==null){for(i.flags|=128,yl(l,!1),e=d.updateQueue,i.updateQueue=e,bc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)jg(a,e),a=a.sibling;return ut(Te,Te.current&1|2),zt&&Ki(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&ln()>Cc&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(e=uc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,bc(i,e),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return ae(i),null}else 2*ln()-l.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ln(),e.sibling=null,a=Te.current,ut(Te,h?a&1|2:a&1),zt&&Ki(i,l.treeForkCount),e):(ae(i),null);case 22:case 23:return wn(i),Jf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&nt(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(xe),ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JS(e,i){switch(Pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return $i(xe),le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ca(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(s(340));zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(wn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Te),null;case 4:return le(),null;case 10:return $i(i.type),null;case 22:case 23:return wn(i),Jf(),e!==null&&nt(qs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return $i(xe),null;case 25:return null;default:return null}}function d_(e,i){switch(Pf(i),i.tag){case 3:$i(xe),le();break;case 26:case 27:case 5:ca(i);break;case 4:le();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:nt(Te);break;case 10:$i(i.type);break;case 22:case 23:wn(i),Jf(),e!==null&&nt(qs);break;case 24:$i(xe)}}function _l(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Wt(i,i.return,b)}}function jr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var O=a,q=b;try{q()}catch($){Wt(h,O,$)}}}l=l.next}while(l!==d)}}catch($){Wt(i,i.return,$)}}function m_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ry(i,a)}catch(l){Wt(e,e.return,l)}}}function p_(e,i,a){a.props=Ys(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function vl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Wt(e,i,h)}}function Mi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function g_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function xd(e,i,a){try{var l=e.stateNode;v1(l,e.type,a,i),l[qe]=i}catch(h){Wt(e,e.return,h)}}function y_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yr(e.type)||e.tag===4}function Dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||y_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wn));else if(l!==4&&(l===27&&Yr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function Sc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Sc(e,i,a),e=e.sibling;e!==null;)Sc(e,i,a),e=e.sibling}function __(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);We(i,l,a),i[Re]=e,i[qe]=a}catch(d){Wt(e,e.return,d)}}var er=!1,Oe=!1,Od=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function WS(e,i){if(e=e.containerInfo,Zd=Fc,e=Ng(e),wf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,O=-1,q=0,$=0,et=e,F=null;e:for(;;){for(var K;et!==a||h!==0&&et.nodeType!==3||(b=_+h),et!==d||l!==0&&et.nodeType!==3||(O=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(K=et.firstChild)!==null;)F=et,et=K;for(;;){if(et===e)break e;if(F===a&&++q===h&&(b=_),F===d&&++$===l&&(O=_),(K=et.nextSibling)!==null)break;et=F,F=et.parentNode}et=K}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:e,selectionRange:a},Fc=!1,Fe=i;Fe!==null;)if(i=Fe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Fe=e;else for(;Fe!==null;){switch(i=Fe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=Ys(a.type,h);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Wt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)im(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":im(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Fe=e;break}Fe=i.return}}function E_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(e,a),l&4&&_l(5,a);break;case 1:if(ir(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&m_(a),l&512&&vl(a,a.return);break;case 3:if(ir(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ry(e,i)}catch(_){Wt(a,a.return,_)}}break;case 27:i===null&&l&4&&__(a);case 26:case 5:ir(e,a),i===null&&l&4&&g_(a),l&512&&vl(a,a.return);break;case 12:ir(e,a);break;case 31:ir(e,a),l&4&&S_(e,a);break;case 13:ir(e,a),l&4&&A_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o1.bind(null,a),C1(e,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||Oe,h=er;var d=Oe;er=l,(Oe=i)&&!d?rr(e,a,(a.subtreeFlags&8772)!==0):ir(e,a),er=h,Oe=d}break;case 30:break;default:ir(e,a)}}function T_(e){var i=e.alternate;i!==null&&(e.alternate=null,T_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&pa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,mn=!1;function nr(e,i,a){for(a=a.child;a!==null;)b_(e,i,a),a=a.sibling}function b_(e,i,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Oe||Mi(a,i),nr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Oe||Mi(a,i);var l=ce,h=mn;Yr(a.type)&&(ce=a.stateNode,mn=!1),nr(e,i,a),Il(a.stateNode),ce=l,mn=h;break;case 5:Oe||Mi(a,i);case 6:if(l=ce,h=mn,ce=null,nr(e,i,a),ce=l,mn=h,ce!==null)if(mn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:ce!==null&&(mn?(e=ce,mv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):mv(ce,a.stateNode));break;case 4:l=ce,h=mn,ce=a.stateNode.containerInfo,mn=!0,nr(e,i,a),ce=l,mn=h;break;case 0:case 11:case 14:case 15:jr(2,a,i),Oe||jr(4,a,i),nr(e,i,a);break;case 1:Oe||(Mi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,i,l)),nr(e,i,a);break;case 21:nr(e,i,a);break;case 22:Oe=(l=Oe)||a.memoizedState!==null,nr(e,i,a),Oe=l;break;default:nr(e,i,a)}}function S_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){Wt(i,i.return,a)}}}function A_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){Wt(i,i.return,a)}}function ZS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new v_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new v_),i;default:throw Error(s(435,e.tag))}}function Ac(e,i){var a=ZS(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=l1.bind(null,e,l);l.then(h,h)}})}function pn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(Yr(b.type)){ce=b.stateNode,mn=!1;break t}break;case 5:ce=b.stateNode,mn=!1;break t;case 3:case 4:ce=b.stateNode.containerInfo,mn=!0;break t}b=b.return}if(ce===null)throw Error(s(160));b_(d,_,h),ce=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)w_(i,e),i=i.sibling}var ri=null;function w_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(i,e),gn(e),l&4&&(jr(3,e,e.return),_l(3,e),jr(5,e,e.return));break;case 1:pn(i,e),gn(e),l&512&&(Oe||a===null||Mi(a,a.return)),l&64&&er&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ri;if(pn(i,e),gn(e),l&512&&(Oe||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vi]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),We(d,l,a),d[Re]=e,Ce(d),l=d;break t;case"link":var _=wv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;case"meta":if(_=wv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,Ce(d),l=d}e.stateNode=l}else Rv(h,e.type,e.stateNode);else e.stateNode=Av(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Rv(h,e.type,e.stateNode):Av(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xd(e,e.memoizedProps,a.memoizedProps)}break;case 27:pn(i,e),gn(e),l&512&&(Oe||a===null||Mi(a,a.return)),a!==null&&l&4&&xd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,e),gn(e),l&512&&(Oe||a===null||Mi(a,a.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(mt){Wt(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,xd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Od=!0);break;case 6:if(pn(i,e),gn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(mt){Wt(e,e.return,mt)}}break;case 3:if(jc=null,h=ri,ri=Uc(i.containerInfo),pn(i,e),ri=h,gn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(mt){Wt(e,e.return,mt)}Od&&(Od=!1,R_(e));break;case 4:l=ri,ri=Uc(e.stateNode.containerInfo),pn(i,e),gn(e),ri=l;break;case 12:pn(i,e),gn(e);break;case 31:pn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 13:pn(i,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=ln()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 22:h=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=er,$=Oe;if(er=q||h,Oe=$||O,pn(i,e),Oe=$,er=q,gn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||er||Oe||Ks(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var et=O.memoizedProps.style,F=et!=null&&et.hasOwnProperty("display")?et.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(mt){Wt(O,O.return,mt)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(mt){Wt(O,O.return,mt)}}}else if(i.tag===18){if(a===null){O=i;try{var K=O.stateNode;h?pv(K,!0):pv(O.stateNode,!1)}catch(mt){Wt(O,O.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(e,a))));break;case 19:pn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 30:break;case 21:break;default:pn(i,e),gn(e)}}function gn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(e);Sc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var b=Dd(e);Sc(e,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,q=Dd(e);Nd(e,q,O);break;default:throw Error(s(161))}}catch($){Wt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function R_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;R_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ir(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E_(e,i.alternate,i),i=i.sibling}function Ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),Ks(i);break;case 1:Mi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&p_(i,i.return,a),Ks(i);break;case 27:Il(i.stateNode);case 26:case 5:Mi(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}e=e.sibling}}function rr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rr(h,d,a),_l(4,d);break;case 1:if(rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Wt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)iy(O[h],b)}catch(q){Wt(l,l.return,q)}}a&&_&64&&m_(d),vl(d,d.return);break;case 27:__(d);case 26:case 5:rr(h,d,a),a&&l===null&&_&4&&g_(d),vl(d,d.return);break;case 12:rr(h,d,a);break;case 31:rr(h,d,a),a&&_&4&&S_(h,d);break;case 13:rr(h,d,a),a&&_&4&&A_(h,d);break;case 22:d.memoizedState===null&&rr(h,d,a),vl(d,d.return);break;case 30:break;default:rr(h,d,a)}i=i.sibling}}function Md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&sl(a))}function Vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&sl(e))}function si(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C_(e,i,a,l),i=i.sibling}function C_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(e,i,a,l),h&2048&&_l(9,i);break;case 1:si(e,i,a,l);break;case 3:si(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&sl(e)));break;case 12:if(h&2048){si(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Wt(i,i.return,O)}}else si(e,i,a,l);break;case 31:si(e,i,a,l);break;case 13:si(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?si(e,i,a,l):El(e,i):d._visibility&2?si(e,i,a,l):(d._visibility|=2,qa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Md(_,i);break;case 24:si(e,i,a,l),h&2048&&Vd(i.alternate,i);break;default:si(e,i,a,l)}}function qa(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,b=a,O=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,b,O,h),_l(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?qa(d,_,b,O,h):El(d,_):($._visibility|=2,qa(d,_,b,O,h)),h&&q&2048&&Md(_.alternate,_);break;case 24:qa(d,_,b,O,h),h&&q&2048&&Vd(_.alternate,_);break;default:qa(d,_,b,O,h)}i=i.sibling}}function El(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Md(l.alternate,l);break;case 24:El(a,l),h&2048&&Vd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ha(e,i,a){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)I_(e,i,a),e=e.sibling}function I_(e,i,a){switch(e.tag){case 26:Ha(e,i,a),e.flags&Tl&&e.memoizedState!==null&&z1(a,ri,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,i,a);break;case 3:case 4:var l=ri;ri=Uc(e.stateNode.containerInfo),Ha(e,i,a),ri=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Ha(e,i,a),Tl=l):Ha(e,i,a));break;default:Ha(e,i,a)}}function x_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function bl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Fe=l,N_(l,e)}x_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)D_(e),e=e.sibling}function D_(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&jr(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,wc(e)):bl(e);break;default:bl(e)}}function wc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Fe=l,N_(l,e)}x_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:jr(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wc(i));break;default:wc(i)}e=e.sibling}}function N_(e,i){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=e;Fe!==null;){l=Fe;var h=l.sibling,d=l.return;if(T_(l),l===a){Fe=null;break t}if(h!==null){h.return=d,Fe=h;break t}Fe=d}}}var t1={getCacheForType:function(e){var i=$e(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return $e(xe).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Ot=null,Vt=0,Jt=0,Rn=null,Br=!1,Fa=!1,kd=!1,sr=0,me=0,qr=0,Xs=0,Pd=0,Cn=0,Ga=0,Sl=null,yn=null,Ld=!1,Rc=0,O_=0,Cc=1/0,Ic=null,Hr=null,ze=0,Fr=null,Qa=null,ar=0,Ud=0,zd=null,M_=null,Al=0,jd=null;function In(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:Y.T!==null?Qd():xu()}function V_(){if(Cn===0)if((Vt&536870912)===0||zt){var e=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Cn=e}else Cn=536870912;return e=An.current,e!==null&&(e.flags|=32),Cn}function _n(e,i,a){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ya(e,0),Gr(e,Vt,Cn,!1)),Ss(e,a),((Kt&2)===0||e!==re)&&(e===re&&((Kt&2)===0&&(Xs|=a),me===4&&Gr(e,Vt,Cn,!1)),Vi(e))}function k_(e,i,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Xn(e,i),h=l?r1(e,i):qd(e,i,!0),d=l;do{if(h===0){Fa&&!l&&Gr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!n1(a)){h=qd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var b=e;h=Sl;var O=b.current.memoizedState.isDehydrated;if(O&&(Ya(b,_).flags|=256),_=qd(b,_,!1),_!==2){if(kd&&!O){b.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break t}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ya(e,0),Gr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Gr(l,i,Cn,!Br);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Rc+300-ln(),10<h)){if(Gr(l,i,Cn,!Br),gi(l,0,!0)!==0)break t;ar=i,l.timeoutHandle=fv(P_.bind(null,l,a,yn,Ic,Ld,i,Cn,Xs,Ga,Br,d,"Throttled",-0,0),h);break t}P_(l,a,yn,Ic,Ld,i,Cn,Xs,Ga,Br,d,null,-0,0)}}break}while(!0);Vi(e)}function P_(e,i,a,l,h,d,_,b,O,q,$,et,F,K){if(e.timeoutHandle=-1,et=i.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},I_(i,d,et);var mt=(d&62914560)===d?Rc-ln():(d&4194048)===d?O_-ln():0;if(mt=j1(et,mt),mt!==null){ar=d,e.cancelPendingCommit=mt(F_.bind(null,e,i,d,a,l,h,_,b,O,$,et,null,F,K)),Gr(e,d,_,!q);return}}F_(e,i,d,a,l,h,_,b,O)}function n1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(e,i,a,l){i&=~Pd,i&=~Xs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ve(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&As(e,a,i)}function xc(){return(Kt&6)===0?(wl(0),!1):!0}function Bd(){if(Ot!==null){if(Jt===0)var e=Ot.return;else e=Ot,Xi=js=null,id(e),La=null,ol=0,e=Ot;for(;e!==null;)d_(e.alternate,e),e=e.return;Ot=null}}function Ya(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,b1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ar=0,Bd(),re=e,Ot=a=Yi(e.current,null),Vt=i,Jt=0,Rn=null,Br=!1,Fa=Xn(e,i),kd=!1,Ga=Cn=Pd=Xs=qr=me=0,yn=Sl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ve(l),d=1<<h;i|=e[h],l&=~d}return sr=i,$u(),a}function L_(e,i){xt=null,Y.H=pl,i===Pa||i===rc?(i=Zg(),Jt=3):i===Gf?(i=Zg(),Jt=4):Jt=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ot===null&&(me=1,_c(e,jn(i,e.current)))}function U_(){var e=An.current;return e===null?!0:(Vt&4194048)===Vt?Fn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===Fn:!1}function z_(){var e=Y.H;return Y.H=pl,e===null?pl:e}function j_(){var e=Y.A;return Y.A=t1,e}function Dc(){me=4,Br||(Vt&4194048)!==Vt&&An.current!==null||(Fa=!0),(qr&134217727)===0&&(Xs&134217727)===0||re===null||Gr(re,Vt,Cn,!1)}function qd(e,i,a){var l=Kt;Kt|=2;var h=z_(),d=j_();(re!==e||Vt!==i)&&(Ic=null,Ya(e,i)),i=!1;var _=me;t:do try{if(Jt!==0&&Ot!==null){var b=Ot,O=Rn;switch(Jt){case 8:Bd(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var q=Jt;if(Jt=0,Rn=null,Ka(e,b,O,q),a&&Fa){_=0;break t}break;default:q=Jt,Jt=0,Rn=null,Ka(e,b,O,q)}}i1(),_=me;break}catch($){L_(e,$)}while(!0);return i&&e.shellSuspendCounter++,Xi=js=null,Kt=l,Y.H=h,Y.A=d,Ot===null&&(re=null,Vt=0,$u()),_}function i1(){for(;Ot!==null;)B_(Ot)}function r1(e,i){var a=Kt;Kt|=2;var l=z_(),h=j_();re!==e||Vt!==i?(Ic=null,Cc=ln()+500,Ya(e,i)):Fa=Xn(e,i);t:do try{if(Jt!==0&&Ot!==null){i=Ot;var d=Rn;e:switch(Jt){case 1:Jt=0,Rn=null,Ka(e,i,d,1);break;case 2:case 9:if(Jg(d)){Jt=0,Rn=null,q_(i);break}i=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Vi(e)},d.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Jg(d)?(Jt=0,Rn=null,q_(i)):(Jt=0,Rn=null,Ka(e,i,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var b=Ot;if(_?Cv(_):b.stateNode.complete){Jt=0,Rn=null;var O=b.sibling;if(O!==null)Ot=O;else{var q=b.return;q!==null?(Ot=q,Nc(q)):Ot=null}break e}}Jt=0,Rn=null,Ka(e,i,d,5);break;case 6:Jt=0,Rn=null,Ka(e,i,d,6);break;case 8:Bd(),me=6;break t;default:throw Error(s(462))}}s1();break}catch($){L_(e,$)}while(!0);return Xi=js=null,Y.H=l,Y.A=h,Kt=a,Ot!==null?0:(re=null,Vt=0,$u(),me)}function s1(){for(;Ot!==null&&!_f();)B_(Ot)}function B_(e){var i=h_(e.alternate,e,sr);e.memoizedProps=e.pendingProps,i===null?Nc(e):Ot=i}function q_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=s_(a,i,i.pendingProps,i.type,void 0,Vt);break;case 11:i=s_(a,i,i.pendingProps,i.type.render,i.ref,Vt);break;case 5:id(i);default:d_(a,i),i=Ot=jg(i,sr),i=h_(a,i,sr)}e.memoizedProps=e.pendingProps,i===null?Nc(e):Ot=i}function Ka(e,i,a,l){Xi=js=null,id(i),La=null,ol=0;var h=i.return;try{if(YS(e,h,i,a,Vt)){me=1,_c(e,jn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;me=1,_c(e,jn(a,e.current)),Ot=null;return}i.flags&32768?(zt||l===1?e=!0:Fa||(Vt&536870912)!==0?e=!1:(Br=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(i,e)):Nc(i)}function Nc(e){var i=e;do{if((i.flags&32768)!==0){H_(i,Br);return}e=i.return;var a=$S(i.alternate,i,sr);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);me===0&&(me=5)}function H_(e,i){do{var a=JS(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);me=6,Ot=null}function F_(e,i,a,l,h,d,_,b,O){e.cancelPendingCommit=null;do Oc();while(ze!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,Tf(e,a,d,_,b,O),e===re&&(Ot=re=null,Vt=0),Qa=i,Fr=e,ar=a,Ud=d,zd=h,M_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u1(Tr,function(){return X_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=st.p,st.p=2,_=Kt,Kt|=4;try{WS(e,i,a)}finally{Kt=_,st.p=h,Y.T=l}}ze=1,G_(),Q_(),Y_()}}function G_(){if(ze===1){ze=0;var e=Fr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Kt;Kt|=4;try{w_(i,e);var d=tm,_=Ng(e.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Dg(b.ownerDocument.documentElement,b)){if(O!==null&&wf(b)){var q=O.start,$=O.end;if($===void 0&&($=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min($,b.value.length);else{var et=b.ownerDocument||document,F=et&&et.defaultView||window;if(F.getSelection){var K=F.getSelection(),mt=b.textContent.length,Tt=Math.min(O.start,mt),ne=O.end===void 0?Tt:Math.min(O.end,mt);!K.extend&&Tt>ne&&(_=ne,ne=Tt,Tt=_);var U=xg(b,Tt),V=xg(b,ne);if(U&&V&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var j=et.createRange();j.setStart(U.node,U.offset),K.removeAllRanges(),Tt>ne?(K.addRange(j),K.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),K.addRange(j))}}}}for(et=[],K=b;K=K.parentNode;)K.nodeType===1&&et.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<et.length;b++){var tt=et[b];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Fc=!!Zd,tm=Zd=null}finally{Kt=h,st.p=l,Y.T=a}}e.current=i,ze=2}}function Q_(){if(ze===2){ze=0;var e=Fr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Kt;Kt|=4;try{E_(e,i.alternate,i)}finally{Kt=h,st.p=l,Y.T=a}}ze=3}}function Y_(){if(ze===4||ze===3){ze=0,bu();var e=Fr,i=Qa,a=ar,l=M_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Qa=Fr=null,K_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hr=null),Hi(a),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=st.p,st.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,st.p=h}}(ar&3)!==0&&Oc(),Vi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===jd?Al++:(Al=0,jd=e):Al=0,wl(0)}}function K_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,sl(i)))}function Oc(){return G_(),Q_(),Y_(),X_()}function X_(){if(ze!==5)return!1;var e=Fr,i=Ud;Ud=0;var a=Hi(ar),l=Y.T,h=st.p;try{st.p=32>a?32:a,Y.T=null,a=zd,zd=null;var d=Fr,_=ar;if(ze=0,Qa=Fr=null,ar=0,(Kt&6)!==0)throw Error(s(331));var b=Kt;if(Kt|=4,D_(d.current),C_(d,d.current,_,a),Kt=b,wl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{st.p=h,Y.T=l,K_(e,i)}}function $_(e,i,a){i=jn(a,i),i=_d(e.stateNode,i,2),e=Lr(e,i,2),e!==null&&(Ss(e,2),Vi(e))}function Wt(e,i,a){if(e.tag===3)$_(e,e,a);else for(;i!==null;){if(i.tag===3){$_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){e=jn(a,e),a=Jy(2),l=Lr(i,a,2),l!==null&&(Wy(a,l,i,e),Ss(l,2),Vi(l));break}}i=i.return}}function Hd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new e1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kd=!0,h.add(a),e=a1.bind(null,e,i,a),i.then(e,e))}function a1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Vt&a)===a&&(me===4||me===3&&(Vt&62914560)===Vt&&300>ln()-Rc?(Kt&2)===0&&Ya(e,0):Pd|=a,Ga===Vt&&(Ga=0)),Vi(e)}function J_(e,i){i===0&&(i=Iu()),e=Ls(e,i),e!==null&&(Ss(e,i),Vi(e))}function o1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),J_(e,a)}function l1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),J_(e,a)}function u1(e,i){return Ue(e,i)}var Mc=null,Xa=null,Fd=!1,Vc=!1,Gd=!1,Qr=0;function Vi(e){e!==Xa&&e.next===null&&(Xa===null?Mc=Xa=e:Xa=Xa.next=e),Vc=!0,Fd||(Fd=!0,h1())}function wl(e,i){if(!Gd&&Vc){Gd=!0;do for(var a=!1,l=Mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ve(42|e)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ev(l,d))}else d=Vt,d=gi(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,ev(l,d));l=l.next}while(a);Gd=!1}}function c1(){W_()}function W_(){Vc=Fd=!1;var e=0;Qr!==0&&T1()&&(e=Qr);for(var i=ln(),a=null,l=Mc;l!==null;){var h=l.next,d=Z_(l,i);d===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&(Xa=a)):(a=l,(e!==0||(d&3)!==0)&&(Vc=!0)),l=h}ze!==0&&ze!==5||wl(e),Qr!==0&&(Qr=0)}function Z_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ve(d),b=1<<_,O=h[_];O===-1?((b&a)===0||(b&l)!==0)&&(h[_]=Ef(b,i)):O<=i&&(e.expiredLanes|=b),d&=~b}if(i=re,a=Vt,a=gi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Er(l),Hi(a)){case 2:case 8:a=ko;break;case 32:a=Tr;break;case 268435456:a=Su;break;default:a=Tr}return l=tv.bind(null,e),a=Ue(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Er(l),e.callbackPriority=2,e.callbackNode=null,2}function tv(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Oc()&&e.callbackNode!==a)return null;var l=Vt;return l=gi(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(k_(e,l,i),Z_(e,ln()),e.callbackNode!=null&&e.callbackNode===a?tv.bind(null,e):null)}function ev(e,i){if(Oc())return null;k_(e,i,!0)}function h1(){S1(function(){(Kt&6)!==0?Ue(Vo,c1):W_()})}function Qd(){if(Qr===0){var e=Va;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Qr=e}return Qr}function nv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function iv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function f1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=nv((h[qe]||null).action),_=l.submitter;_&&(i=(i=_[qe]||null)?nv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ci("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var O=_?iv(h,_):new FormData(h);fd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?iv(h,_):new FormData(h),fd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Yd=0;Yd<xf.length;Yd++){var Kd=xf[Yd],d1=Kd.toLowerCase(),m1=Kd[0].toUpperCase()+Kd.slice(1);ii(d1,"on"+m1)}ii(Vg,"onAnimationEnd"),ii(kg,"onAnimationIteration"),ii(Pg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(DS,"onTransitionRun"),ii(NS,"onTransitionStart"),ii(OS,"onTransitionCancel"),ii(Lg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function rv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,q=b.currentTarget;if(b=b.listener,O!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=q;try{d(h)}catch($){Xu($)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,q=b.currentTarget,b=b.listener,O!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=q;try{d(h)}catch($){Xu($)}h.currentTarget=null,d=O}}}}function Mt(e,i){var a=i[ma];a===void 0&&(a=i[ma]=new Set);var l=e+"__bubble";a.has(l)||(sv(i,e,2,!1),a.add(l))}function Xd(e,i,a){var l=0;i&&(l|=4),sv(a,e,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[kc]){e[kc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(p1.has(a)||Xd(a,!1,e),Xd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[kc]||(i[kc]=!0,Xd("selectionchange",!1,i))}}function sv(e,i,a,l){switch(Vv(i)){case 2:var h=H1;break;case 8:h=F1;break;default:h=hm}a=h.bind(null,i,a,e),h=void 0,!xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Ei(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue t}b=b.parentNode}}l=l.return}Cr(function(){var q=d,$=Pn(a),et=[];t:{var F=Ug.get(e);if(F!==void 0){var K=Ci,mt=e;switch(e){case"keypress":if(Ns(a)===0)break t;case"keydown":case"keyup":K=Qu;break;case"focusin":mt="focus",K=Ms;break;case"focusout":mt="blur",K=Ms;break;case"beforeblur":case"afterblur":K=Ms;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case Vg:case kg:case Pg:K=zu;break;case Lg:K=A;break;case"scroll":case"scrollend":K=$o;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qi;break;case"toggle":case"beforetoggle":K=It}var Tt=(i&4)!==0,ne=!Tt&&(e==="scroll"||e==="scrollend"),U=Tt?F!==null?F+"Capture":null:F;Tt=[];for(var V=q,j;V!==null;){var tt=V;if(j=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||j===null||U===null||(tt=Zn(V,U),tt!=null&&Tt.push(Cl(V,tt,j))),ne)break;V=V.return}0<Tt.length&&(F=new K(F,mt,null,a,$),et.push({event:F,listeners:Tt}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",F&&a!==Yo&&(mt=a.relatedTarget||a.fromElement)&&(Ei(mt)||mt[_i]))break t;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(mt=a.relatedTarget||a.toElement,K=q,mt=mt?Ei(mt):null,mt!==null&&(ne=u(mt),Tt=mt.tag,mt!==ne||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(K=null,mt=q),K!==mt)){if(Tt=Jo,tt="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Qi,tt="onPointerLeave",U="onPointerEnter",V="pointer"),ne=K==null?F:En(K),j=mt==null?F:En(mt),F=new Tt(tt,V+"leave",K,a,$),F.target=ne,F.relatedTarget=j,tt=null,Ei($)===q&&(Tt=new Tt(U,V+"enter",mt,a,$),Tt.target=j,Tt.relatedTarget=ne,tt=Tt),ne=tt,K&&mt)e:{for(Tt=g1,U=K,V=mt,j=0,tt=U;tt;tt=Tt(tt))j++;tt=0;for(var _t=V;_t;_t=Tt(_t))tt++;for(;0<j-tt;)U=Tt(U),j--;for(;0<tt-j;)V=Tt(V),tt--;for(;j--;){if(U===V||V!==null&&U===V.alternate){Tt=U;break e}U=Tt(U),V=Tt(V)}Tt=null}else Tt=null;K!==null&&av(et,F,K,Tt,!1),mt!==null&&ne!==null&&av(et,ne,mt,Tt,!0)}}t:{if(F=q?En(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Gt=Sg;else if(Tg(F))if(Ag)Gt=CS;else{Gt=wS;var gt=AS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&_a(q.elementType)&&(Gt=Sg):Gt=RS;if(Gt&&(Gt=Gt(e,q))){bg(et,Gt,a,$);break t}gt&&gt(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Fo(F,"number",F.value)}switch(gt=q?En(q):window,e){case"focusin":(Tg(gt)||gt.contentEditable==="true")&&(Ra=gt,Rf=q,nl=null);break;case"focusout":nl=Rf=Ra=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,Og(et,a,$);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":Og(et,a,$)}var Nt;if(Yt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else wa?Vs(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Di&&a.locale!=="ko"&&(wa||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&wa&&(Nt=Xo()):(Ri=$,Ko="value"in Ri?Ri.value:Ri.textContent,wa=!0)),gt=Pc(q,kt),0<gt.length&&(kt=new xi(kt,e,null,a,$),et.push({event:kt,listeners:gt}),Nt?kt.data=Nt:(Nt=Aa(a),Nt!==null&&(kt.data=Nt)))),(Nt=Un?ES(e,a):TS(e,a))&&(kt=Pc(q,"onBeforeInput"),0<kt.length&&(gt=new xi("onBeforeInput","beforeinput",null,a,$),et.push({event:gt,listeners:kt}),gt.data=Nt)),f1(et,e,q,a,$)}rv(et,i)})}function Cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Pc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Zn(e,a),h!=null&&l.unshift(Cl(e,h,d)),h=Zn(e,i),h!=null&&l.push(Cl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function g1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function av(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,q=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||q===null||(O=q,h?(q=Zn(a,d),q!=null&&_.unshift(Cl(a,q,O))):h||(q=Zn(a,d),q!=null&&_.push(Cl(a,q,O)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var y1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function ov(e){return(typeof e=="string"?e:""+e).replace(y1,`
`).replace(_1,"")}function lv(e,i){return i=ov(i),ov(e)===i}function ee(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(e,""+l);break;case"className":Tn(e,"class",l);break;case"tabIndex":Tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,a,l);break;case"style":Qo(e,l,d);break;case"data":if(i!=="object"){Tn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=va(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=va(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=va(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ga(e,"popover",l);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,ga(e,a,l))}}function Wd(e,i,a,l,h,d){switch(a){case"style":Qo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[qe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ga(e,a,l)}}}function We(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,d,_,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var b=d=_=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":O=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ee(e,i,l,$,a,null)}}Mu(e,d,b,O,q,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:ee(e,i,h,b,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Sr(e,!!l,i,!1):a!=null&&Sr(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ee(e,i,_,b,a,null)}Ar(e,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ee(e,i,O,l,a,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Mt(Rl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,q,l,a,null)}return;default:if(_a(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Wd(e,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ee(e,i,b,l,a,null))}function v1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,O=null,q=null,$=null;for(K in a){var et=a[K];if(a.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=et;default:l.hasOwnProperty(K)||ee(e,i,K,null,l,et)}}for(var F in l){var K=l[F];if(et=a[F],l.hasOwnProperty(F)&&(K!=null||et!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==et&&ee(e,i,F,K,l,et)}}ya(e,_,b,O,q,$,d,h);return;case"select":K=_=b=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&ee(e,i,h,d,l,O)}i=b,a=_,l=K,F!=null?Sr(e,!!a,F,!1):!!l!=!!a&&(i!=null?Sr(e,!!a,i,!0):Sr(e,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ee(e,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ee(e,i,_,h,l,d)}Vu(e,F,K);return;case"option":for(var mt in a)F=a[mt],a.hasOwnProperty(mt)&&F!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?e.selected=!1:ee(e,i,mt,null,l,F));for(O in l)F=l[O],K=a[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null)&&(O==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":ee(e,i,O,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)F=a[Tt],a.hasOwnProperty(Tt)&&F!=null&&!l.hasOwnProperty(Tt)&&ee(e,i,Tt,null,l,F);for(q in l)if(F=l[q],K=a[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:ee(e,i,q,F,l,K)}return;default:if(_a(i)){for(var ne in a)F=a[ne],a.hasOwnProperty(ne)&&F!==void 0&&!l.hasOwnProperty(ne)&&Wd(e,i,ne,void 0,l,F);for($ in l)F=l[$],K=a[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||Wd(e,i,$,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&ee(e,i,U,null,l,F);for(et in l)F=l[et],K=a[et],!l.hasOwnProperty(et)||F===K||F==null&&K==null||ee(e,i,et,F,l,K)}function uv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&uv(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>b)break;var $=O.transferSize,et=O.initiatorType;$&&uv(et)&&(O=O.responseEnd,_+=$*(O<b?1:(b-q)/(O-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,tm=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function cv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function T1(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(e){return dv.resolve(null).then(e).catch(A1)}:fv;function A1(e){setTimeout(function(){throw e})}function Yr(e){return e==="head"}function mv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[vi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Il(e.ownerDocument.body);a=h}while(a);Za(i)}function pv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function im(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function w1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[vi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function R1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gn(e.nextSibling),e===null))return null;return e}function gv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Gn(e.nextSibling),e===null))return null;return e}function rm(e){return e.data==="$?"||e.data==="$~"}function sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function C1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var am=null;function yv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Gn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function _v(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function vv(e,i,a){switch(i=Lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Il(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);pa(e)}var Qn=new Map,Ev=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var or=st.d;st.d={f:I1,r:x1,D:D1,C:N1,L:O1,m:M1,X:k1,S:V1,M:P1};function I1(){var e=or.f(),i=xc();return e||i}function x1(e){var i=kn(e);i!==null&&i.tag===5&&i.type==="form"?Ly(i):or.r(e)}var $a=typeof document>"u"?null:document;function Tv(e,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=fn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ev.has(h)||(Ev.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),We(i,"link",e),Ce(i),l.head.appendChild(i)))}}function D1(e){or.D(e),Tv("dns-prefetch",e,null)}function N1(e,i){or.C(e,i),Tv("preconnect",e,i)}function O1(e,i,a){or.L(e,i,a);var l=$a;if(l&&e&&i){var h='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var d=h;switch(i){case"style":d=Ja(e);break;case"script":d=Wa(e)}Qn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Qn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),We(i,"link",e),Ce(i),l.head.appendChild(i)))}}function M1(e,i){or.m(e,i);var a=$a;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(e)}if(!Qn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Qn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),We(l,"link",e),Ce(l),a.head.appendChild(l)}}}function V1(e,i,a){or.S(e,i,a);var l=$a;if(l&&e){var h=Ti(l).hoistableStyles,d=Ja(e);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(xl(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Qn.get(d))&&om(e,a);var O=_=l.createElement("link");Ce(O),We(O,"link",e),O._p=new Promise(function(q,$){O.onload=q,O.onerror=$}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function k1(e,i){or.X(e,i);var a=$a;if(a&&e){var l=Ti(a).hoistableScripts,h=Wa(e),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(e=T({src:e,async:!0},i),(i=Qn.get(h))&&lm(e,i),d=a.createElement("script"),Ce(d),We(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function P1(e,i){or.M(e,i);var a=$a;if(a&&e){var l=Ti(a).hoistableScripts,h=Wa(e),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Qn.get(h))&&lm(e,i),d=a.createElement("script"),Ce(d),We(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bv(e,i,a,l){var h=(h=Dt.current)?Uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=Ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ja(a.href);var d=Ti(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(xl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),d||L1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=Ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ja(e){return'href="'+fn(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function Sv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function L1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),We(i,"link",a),Ce(i),e.head.appendChild(i))}function Wa(e){return'[src="'+fn(e)+'"]'}function Dl(e){return"script[async]"+e}function Av(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,Ce(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ce(l),We(l,"style",h),zc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ja(a.href);var d=e.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,Ce(d),d;l=Sv(a),(h=Qn.get(h))&&om(l,h),d=(e.ownerDocument||e).createElement("link"),Ce(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),We(d,"link",l),i.state.loading|=4,zc(d,a.precedence,e),i.instance=d;case"script":return d=Wa(a.src),(h=e.querySelector(Dl(d)))?(i.instance=h,Ce(h),h):(l=a,(h=Qn.get(d))&&(l=T({},a),lm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),We(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,e));return i.instance}function zc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var jc=null;function wv(e,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[vi]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Rv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function U1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Cv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function z1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(l.href),d=i.querySelector(xl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Bc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ce(d);return}d=i.ownerDocument||i,l=Sv(l),(h=Qn.get(h))&&om(l,h),d=d.createElement("link"),Ce(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),We(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Bc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function j1(e,i){return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&um===0&&(um=62500*E1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>um?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qc=null;function Hc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qc=new Map,i.forEach(B1,e),qc=null,Bc.call(e))}function B1(e,i){if(!(i.state.loading&4)){var a=qc.get(e);if(a)var l=a.get(null);else{a=new Map,qc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Nl={$$typeof:W,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function q1(e,i,a,l,h,d,_,b,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Iv(e,i,a,l,h,d,_,b,O,q,$,et){return e=new q1(e,i,a,_,O,q,$,et,b),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),e.current=d,d.stateNode=e,i=qf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),e}function xv(e){return e?(e=xa,e):xa}function Dv(e,i,a,l,h,d){h=xv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(e,l,i),a!==null&&(_n(a,e,i),ul(a,e,i))}function Nv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function cm(e,i){Nv(e,i),(e=e.alternate)&&Nv(e,i)}function Ov(e){if(e.tag===13||e.tag===31){var i=Ls(e,67108864);i!==null&&_n(i,e,67108864),cm(e,67108864)}}function Mv(e){if(e.tag===13||e.tag===31){var i=In();i=ws(i);var a=Ls(e,i);a!==null&&_n(a,e,i),cm(e,i)}}var Fc=!0;function H1(e,i,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=2,hm(e,i,a,l)}finally{st.p=d,Y.T=h}}function F1(e,i,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=8,hm(e,i,a,l)}finally{st.p=d,Y.T=h}}function hm(e,i,a,l){if(Fc){var h=fm(l);if(h===null)Jd(e,i,l,Gc,a),kv(e,l);else if(Q1(h,e,i,a,l))l.stopPropagation();else if(kv(e,l),i&4&&-1<G1.indexOf(e)){for(;h!==null;){var d=kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-ve(_);b.entanglements[1]|=O,_&=~O}Vi(d),(Kt&6)===0&&(Cc=ln()+500,wl(0))}}break;case 31:case 13:b=Ls(d,2),b!==null&&_n(b,d,2),xc(),cm(d,2)}if(d=fm(l),d===null&&Jd(e,i,l,Gc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(e,i,l,null,a)}}function fm(e){return e=Pn(e),dm(e)}var Gc=null;function dm(e){if(Gc=null,e=Ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Gc=e,null}function Vv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Vo:return 2;case ko:return 8;case Tr:case vf:return 32;case Su:return 268435456;default:return 32}default:return 32}}var mm=!1,Kr=null,Xr=null,$r=null,Ol=new Map,Ml=new Map,Jr=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(e,i){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=kn(i),i!==null&&Ov(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Q1(e,i,a,l,h){switch(i){case"focusin":return Kr=Vl(Kr,e,i,a,l,h),!0;case"dragenter":return Xr=Vl(Xr,e,i,a,l,h),!0;case"mouseover":return $r=Vl($r,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,e,i,a,l,h)),!0}return!1}function Pv(e){var i=Ei(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,$n(e.priority,function(){Mv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,$n(e.priority,function(){Mv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=fm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=kn(a),i!==null&&Ov(i),e.blockedOn=a,!1;i.shift()}return!0}function Lv(e,i,a){Qc(e)&&a.delete(i)}function Y1(){mm=!1,Kr!==null&&Qc(Kr)&&(Kr=null),Xr!==null&&Qc(Xr)&&(Xr=null),$r!==null&&Qc($r)&&($r=null),Ol.forEach(Lv),Ml.forEach(Lv)}function Yc(e,i){e.blockedOn===i&&(e.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Y1)))}var Kc=null;function Uv(e){Kc!==e&&(Kc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=kn(a);d!==null&&(e.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(e){function i(O){return Yc(O,e)}Kr!==null&&Yc(Kr,e),Xr!==null&&Yc(Xr,e),$r!==null&&Yc($r,e),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)Pv(a),a.blockedOn===null&&Jr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[qe]||null;if(typeof d=="function")_||Uv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[qe]||null)b=_.formAction;else if(dm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Uv(a)}}}function zv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function pm(e){this._internalRoot=e}Xc.prototype.render=pm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();Dv(a,l,e,i,null,null)},Xc.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Dv(e.current,2,null,e,null,null),xc(),i[_i]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var i=xu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,e),a===0&&Pv(e)}};var jv=t.version;if(jv!=="19.2.3")throw Error(s(527,jv,"19.2.3"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var K1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Kn=$c.inject(K1),Ye=$c}catch{}}return Pl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Yy,d=Ky,_=Xy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Iv(e,1,!1,null,null,a,l,null,h,d,_,zv),e[_i]=i.current,$d(e),new pm(i)},Pl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Yy,_=Ky,b=Xy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=Iv(e,1,!0,i,a??null,l,h,O,d,_,b,zv),i.context=xv(null),a=i.current,l=In(),l=ws(l),h=Pr(l),h.callback=null,Lr(a,h,l),a=l,i.current.lanes=a,Ss(i,a),Vi(i),e[_i]=i.current,$d(e),new Xc(i)},Pl.version="19.2.3",Pl}var $v;function sA(){if($v)return _m.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=rA(),_m.exports}var aA=sA();var Jv="popstate";function oA(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return jm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return uA(t,n,null,r)}function he(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Yn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lA(){return Math.random().toString(36).substring(2,10)}function Wv(r,t){return{usr:r.state,key:r.key,idx:t}}function jm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?vo(t):t,state:n,key:t&&t.key||s||lA()}}function $l({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function vo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function uA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let B=E(),J=B==null?null:B-y;y=B,p&&p({action:m,location:G.location,delta:J})}function w(B,J){m="PUSH";let X=jm(G.location,B,J);y=E()+1;let W=Wv(X,y),rt=G.createHref(X);try{f.pushState(W,"",rt)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(rt)}u&&p&&p({action:m,location:G.location,delta:1})}function L(B,J){m="REPLACE";let X=jm(G.location,B,J);y=E();let W=Wv(X,y),rt=G.createHref(X);f.replaceState(W,"",rt),u&&p&&p({action:m,location:G.location,delta:0})}function H(B){return cA(B)}let G={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jv,T),p=B,()=>{o.removeEventListener(Jv,T),p=null}},createHref(B){return t(o,B)},createURL:H,encodeLocation(B){let J=H(B);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:L,go(B){return f.go(B)}};return G}function cA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function OE(r,t,n="/"){return hA(r,t,n,!1)}function hA(r,t,n,s){let o=typeof t=="string"?vo(t):t,u=dr(o.pathname||"/",n);if(u==null)return null;let f=ME(r);fA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=SA(u);m=TA(f[p],y,s)}return m}function ME(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;he(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=fr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(he(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ME(f.children,t,w,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:vA(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of VE(f.path))u(f,m,!0,p)}),t}function VE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=VE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:EA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dA=/^:[\w-]+$/,mA=3,pA=2,gA=1,yA=10,_A=-2,Zv=r=>r==="*";function vA(r,t){let n=r.split("/"),s=n.length;return n.some(Zv)&&(s+=_A),t&&(s+=pA),n.filter(o=>!Zv(o)).reduce((o,u)=>o+(dA.test(u)?mA:u===""?gA:yA),s)}function EA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function TA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:fr([u,T.pathname]),pathnameBase:CA(fr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=fr([u,T.pathnameBase]))}return f}function vh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=bA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let H=m[w]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const L=m[w];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function bA(r,t=!1,n=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function SA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function dr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AA=r=>kE.test(r);function wA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?vo(r):r,u;if(n)if(AA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=t0(n.substring(1),"/"):u=t0(n,t)}else u=t;return{pathname:u,search:IA(s),hash:xA(o)}}function t0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function bm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mp(r){let t=RA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function pp(r,t,n,s=!1){let o;typeof r=="string"?o=vo(r):(o={...r},he(!o.pathname||!o.pathname.includes("?"),bm("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),bm("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),bm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?t[T]:"/"}let p=wA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),CA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),IA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,xA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,DA=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function NA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function OA(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LE(r,t){let n=r;if(typeof n!="string"||!kE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(PE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=dr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Yn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var MA=["GET",...UE];new Set(MA);var Eo=P.createContext(null);Eo.displayName="DataRouter";var qh=P.createContext(null);qh.displayName="DataRouterState";var VA=P.createContext(!1),zE=P.createContext({isTransitioning:!1});zE.displayName="ViewTransition";var kA=P.createContext(new Map);kA.displayName="Fetchers";var PA=P.createContext(null);PA.displayName="Await";var Mn=P.createContext(null);Mn.displayName="Navigation";var au=P.createContext(null);au.displayName="Location";var fi=P.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var gp=P.createContext(null);gp.displayName="RouteError";var jE="REACT_ROUTER_ERROR",LA="REDIRECT",UA="ROUTE_ERROR_RESPONSE";function zA(r){if(r.startsWith(`${jE}:${LA}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function jA(r){if(r.startsWith(`${jE}:${UA}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new DA(t.status,t.statusText,t.data)}catch{}}function BA(r,{relative:t}={}){he(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Mn),{hash:o,pathname:u,search:f}=ou(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function To(){return P.useContext(au)!=null}function gs(){return he(To(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(au).location}var BE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(r){P.useContext(Mn).static||P.useLayoutEffect(r)}function bo(){let{isDataRoute:r}=P.useContext(fi);return r?ew():qA()}function qA(){he(To(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Eo),{basename:t,navigator:n}=P.useContext(Mn),{matches:s}=P.useContext(fi),{pathname:o}=gs(),u=JSON.stringify(mp(s)),f=P.useRef(!1);return qE(()=>{f.current=!0}),P.useCallback((p,y={})=>{if(Yn(f.current,BE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=pp(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:fr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}P.createContext(null);function HA(){let{matches:r}=P.useContext(fi),t=r[r.length-1];return t?t.params:{}}function ou(r,{relative:t}={}){let{matches:n}=P.useContext(fi),{pathname:s}=gs(),o=JSON.stringify(mp(n));return P.useMemo(()=>pp(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function FA(r,t){return HE(r,t)}function HE(r,t,n,s,o){he(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Mn),{matches:f}=P.useContext(fi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";GE(y,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=gs(),L;if(t){let X=typeof t=="string"?vo(t):t;he(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),L=X}else L=w;let H=L.pathname||"/",G=H;if(E!=="/"){let X=E.replace(/^\//,"").split("/");G="/"+H.replace(/^\//,"").split("/").slice(X.length).join("/")}let B=OE(r,{pathname:G});Yn(T||B!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Yn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=XA(B&&B.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:fr([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:fr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,o);return t&&J?P.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},J):J}function GA(){let r=tw(),t=NA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:o},n):null,f)}var QA=P.createElement(GA,null),FE=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=jA(r.digest);n&&(r=n)}let t=r!==void 0?P.createElement(fi.Provider,{value:this.props.routeContext},P.createElement(gp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(YA,{error:r},t):t}};FE.contextType=VA;var Sm=new WeakMap;function YA({children:r,error:t}){let{basename:n}=P.useContext(Mn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=zA(t.digest);if(s){let o=Sm.get(t);if(o)throw o;let u=LE(s.location,n);if(PE&&!Sm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Sm.set(t,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function KA({routeContext:r,match:t,children:n}){let s=P.useContext(Eo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(fi.Provider,{value:r},n)}function XA(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);he(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:L}=n,H=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:OA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let L,H=!1,G=null,B=null;n&&(L=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||QA,m&&(p<0&&w===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,B=null):p===w&&(H=!0,B=T.route.hydrateFallbackElement||null)));let J=t.concat(u.slice(0,w+1)),X=()=>{let W;return L?W=G:H?W=B:T.route.Component?W=P.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=E,P.createElement(KA,{match:T,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:W})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?P.createElement(FE,{location:n.location,revalidation:n.revalidation,component:G,error:L,children:X(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):X()},null)}function yp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(r){let t=P.useContext(Eo);return he(t,yp(r)),t}function JA(r){let t=P.useContext(qh);return he(t,yp(r)),t}function WA(r){let t=P.useContext(fi);return he(t,yp(r)),t}function _p(r){let t=WA(r),n=t.matches[t.matches.length-1];return he(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ZA(){return _p("useRouteId")}function tw(){let r=P.useContext(gp),t=JA("useRouteError"),n=_p("useRouteError");return r!==void 0?r:t.errors?.[n]}function ew(){let{router:r}=$A("useNavigate"),t=_p("useNavigate"),n=P.useRef(!1);return qE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Yn(n.current,BE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var e0={};function GE(r,t,n){!t&&!e0[r]&&(e0[r]=!0,Yn(!1,n))}P.memo(nw);function nw({routes:r,future:t,state:n,onError:s}){return HE(r,void 0,n,s,t)}function iw({to:r,replace:t,state:n,relative:s}){he(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Mn);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(fi),{pathname:f}=gs(),m=bo(),p=pp(r,mp(u),f,s==="path"),y=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function rh(r){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){he(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=vo(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:L="default"}=n,H=P.useMemo(()=>{let G=dr(y,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:w,key:L},navigationType:s}},[m,y,E,T,w,L,s]);return Yn(H!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:P.createElement(Mn.Provider,{value:p},P.createElement(au.Provider,{children:t,value:H}))}function sw({children:r,location:t}){return FA(Bm(r),t)}function Bm(r,t=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...t,o];if(s.type===P.Fragment){n.push.apply(n,Bm(s.props.children,u));return}he(s.type===rh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Hh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function aw(r){return Hh(r)&&r.tagName.toLowerCase()==="button"}function ow(r){return Hh(r)&&r.tagName.toLowerCase()==="form"}function lw(r){return Hh(r)&&r.tagName.toLowerCase()==="input"}function uw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cw(r,t){return r.button===0&&(!t||t==="_self")&&!uw(r)}var Jc=null;function hw(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!fw.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function dw(r,t){let n,s,o,u,f;if(ow(r)){let m=r.getAttribute("action");s=m?dr(m,t):null,n=r.getAttribute("method")||sh,o=Am(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(aw(r)||lw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!hw()){let{name:y,type:E,value:T}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(Hh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function mw(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&dr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function pw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await pw(u,n);return f.links?f.links():[]}return[]}));return Tw(s.flat(1).filter(gw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n0(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function _w(r,t,{includeHydrateFallback:n}={}){return vw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function vw(r){return[...new Set(r)]}function Ew(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Tw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Ew(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function QE(){let r=P.useContext(Eo);return vp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bw(){let r=P.useContext(qh);return vp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ep=P.createContext(void 0);Ep.displayName="FrameworkContext";function YE(){let r=P.useContext(Ep);return vp(r,"You must render this element inside a <HydratedRouter> element"),r}function Sw(r,t){let n=P.useContext(Ep),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,w=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=J=>{J.forEach(X=>{f(X.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return w.current&&B.observe(w.current),()=>{B.disconnect()}}},[r]),P.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let L=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ll(m,L),onBlur:Ll(p,H),onMouseEnter:Ll(y,L),onMouseLeave:Ll(E,H),onTouchStart:Ll(T,L)}]:[!1,w,{}]}function Ll(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Aw({page:r,...t}){let{router:n}=QE(),s=P.useMemo(()=>OE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(Rw,{page:r,matches:s,...t}):null}function ww(r){let{manifest:t,routeModules:n}=YE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return yw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Rw({page:r,matches:t,...n}){let s=gs(),{manifest:o,routeModules:u}=YE(),{basename:f}=QE(),{loaderData:m,matches:p}=bw(),y=P.useMemo(()=>n0(r,t,p,o,s,"data"),[r,t,p,o,s]),E=P.useMemo(()=>n0(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,G=!1;if(t.forEach(J=>{let X=o.routes[J.route.id];!X||!X.hasLoader||(!y.some(W=>W.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||X.hasClientLoader?G=!0:H.add(J.route.id))}),H.size===0)return[];let B=mw(r,f,"data");return G&&H.size>0&&B.searchParams.set("_routes",t.filter(J=>H.has(J.route.id)).map(J=>J.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,y,t,r,u]),w=P.useMemo(()=>_w(E,o),[E,o]),L=ww(E);return P.createElement(P.Fragment,null,T.map(H=>P.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),w.map(H=>P.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),L.map(({key:H,link:G})=>P.createElement("link",{key:H,nonce:n.nonce,...G})))}function Cw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iw&&(window.__reactRouterVersion="7.11.0")}catch{}function xw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=oA({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(y=>{n===!1?m(y):P.startTransition(()=>m(y))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(rw,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XE=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...L},H){let{basename:G,unstable_useTransitions:B}=P.useContext(Mn),J=typeof y=="string"&&KE.test(y),X=LE(y,G);y=X.to;let W=BA(y,{relative:o}),[rt,ot,dt]=Sw(s,L),D=Mw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:B});function I(x){t&&t(x),x.defaultPrevented||D(x)}let S=P.createElement("a",{...L,...dt,href:X.absoluteURL||W,onClick:X.isExternal||u?t:I,ref:Cw(H,ot),target:p,"data-discover":!J&&n==="render"?"true":void 0});return rt&&!J?P.createElement(P.Fragment,null,S,P.createElement(Aw,{page:W})):S});XE.displayName="Link";var Dw=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=ou(f,{relative:y.relative}),w=gs(),L=P.useContext(qh),{navigator:H,basename:G}=P.useContext(Mn),B=L!=null&&Uw(T)&&m===!0,J=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,X=w.pathname,W=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(X=X.toLowerCase(),W=W?W.toLowerCase():null,J=J.toLowerCase()),W&&G&&(W=dr(W,G)||W);const rt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ot=X===J||!o&&X.startsWith(J)&&X.charAt(rt)==="/",dt=W!=null&&(W===J||!o&&W.startsWith(J)&&W.charAt(J.length)==="/"),D={isActive:ot,isPending:dt,isTransitioning:B},I=ot?t:void 0,S;typeof s=="function"?S=s(D):S=[s,ot?"active":null,dt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(D):u;return P.createElement(XE,{...y,"aria-current":I,className:S,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(D):p)});Dw.displayName="NavLink";var Nw=P.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...L},H)=>{let{unstable_useTransitions:G}=P.useContext(Mn),B=Pw(),J=Lw(m,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&KE.test(m),rt=ot=>{if(p&&p(ot),ot.defaultPrevented)return;ot.preventDefault();let dt=ot.nativeEvent.submitter,D=dt?.getAttribute("formmethod")||f,I=()=>B(dt||ot.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w});G&&n!==!1?P.startTransition(()=>I()):I()};return P.createElement("form",{ref:H,method:X,action:J,onSubmit:s?p:rt,...L,"data-discover":!W&&r==="render"?"true":void 0})});Nw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $E(r){let t=P.useContext(Eo);return he(t,Ow(r)),t}function Mw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=bo(),E=gs(),T=ou(r,{relative:u});return P.useCallback(w=>{if(cw(w,t)){w.preventDefault();let L=n!==void 0?n:$l(E)===$l(T),H=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>H()):H()}},[E,y,T,n,s,t,r,o,u,f,m,p])}var Vw=0,kw=()=>`__${String(++Vw)}__`;function Pw(){let{router:r}=$E("useSubmit"),{basename:t}=P.useContext(Mn),n=ZA(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=dw(u,t);if(f.navigate===!1){let w=f.fetcherKey||kw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Lw(r,{relative:t}={}){let{basename:n}=P.useContext(Mn),s=P.useContext(fi);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ou(r||".",{relative:t})},f=gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),$l(u)}function Uw(r,{relative:t}={}){let n=P.useContext(zE);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$E("useViewTransitionState"),o=ou(r,{relative:t});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const zw=()=>{};var i0={};const JE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},jw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(w=64)),s.push(n[E],n[T],n[w],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(JE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):jw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new Bw;const w=u<<2|m>>4;if(s.push(w),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const H=y<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qw=function(r){const t=JE(r);return WE.encodeByteArray(t,!0)},Eh=function(r){return qw(r).replace(/\./g,"")},ZE=function(r){try{return WE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Fw=()=>Hw().__FIREBASE_DEFAULTS__,Gw=()=>{if(typeof process>"u"||typeof i0>"u")return;const r=i0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&ZE(r[1]);return t&&JSON.parse(t)},Fh=()=>{try{return zw()||Fw()||Gw()||Qw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tT=r=>Fh()?.emulatorHosts?.[r],Yw=r=>{const t=tT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},eT=()=>Fh()?.config,nT=r=>Fh()?.[`_${r}`];class Kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iT(r){return(await fetch(r,{credentials:"include"})).ok}function Xw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const Hl={};function $w(){const r={prod:[],emulator:[]};for(const t of Object.keys(Hl))Hl[t]?r.emulator.push(t):r.prod.push(t);return r}function Jw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let r0=!1;function rT(r,t){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Hl[r]===t||Hl[r]||r0)return;Hl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=$w().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{r0=!0,f()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Jw(s),L=n("text"),H=document.getElementById(L)||document.createElement("span"),G=n("learnmore"),B=document.getElementById(G)||document.createElement("a"),J=n("preprendIcon"),X=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;m(W),E(B,G);const rt=y();p(X,J),W.append(X,H,B,rt),document.body.appendChild(W)}u?(H.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Zw(){const r=Fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iR(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rR(){return!Zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sR(){try{return typeof indexedDB=="object"}catch{return!1}}function aR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const oR="FirebaseError";class vr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=oR,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?lR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new vr(o,m,s)}}function lR(r,t){return r.replace(uR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const uR=/\{\$([^}]+)}/g;function cR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function na(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(s0(u)&&s0(f)){if(!na(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function s0(r){return r!==null&&typeof r=="object"}function uu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function hR(r,t){const n=new fR(r,t);return n.subscribe.bind(n)}class fR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function wm(){}function Be(r){return r&&r._delegate?r._delegate:r}class ia{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const $s="[DEFAULT]";class mR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gR(t))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=$s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$s){return this.instances.has(t)}getOptions(t=$s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=$s){return this.component?this.component.multipleInstances?t:$s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(r){return r===$s?void 0:r}function gR(r){return r.instantiationMode==="EAGER"}class yR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new mR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const _R={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},vR=Pt.INFO,ER={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},TR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=ER[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tp{constructor(t){this.name=t,this._logLevel=vR,this._logHandler=TR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_R[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const bR=(r,t)=>t.some(n=>r instanceof n);let a0,o0;function SR(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sT=new WeakMap,qm=new WeakMap,aT=new WeakMap,Rm=new WeakMap,bp=new WeakMap;function wR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&sT.set(n,r)}).catch(()=>{}),bp.set(t,r),t}function RR(r){if(qm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});qm.set(r,t)}let Hm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return qm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||aT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function CR(r){Hm=r(Hm)}function IR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Cm(this),t,...n);return aT.set(s,t.sort?t.sort():[t]),rs(s)}:AR().includes(r)?function(...t){return r.apply(Cm(this),t),rs(sT.get(this))}:function(...t){return rs(r.apply(Cm(this),t))}}function xR(r){return typeof r=="function"?IR(r):(r instanceof IDBTransaction&&RR(r),bR(r,SR())?new Proxy(r,Hm):r)}function rs(r){if(r instanceof IDBRequest)return wR(r);if(Rm.has(r))return Rm.get(r);const t=xR(r);return t!==r&&(Rm.set(r,t),bp.set(t,r)),t}const Cm=r=>bp.get(r);function DR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=rs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(rs(f.result),p.oldVersion,p.newVersion,rs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Im=new Map;function l0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Im.get(t))return Im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=OR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Im.set(t,u),u}CR(r=>({...r,get:(t,n,s)=>l0(t,n)||r.get(t,n,s),has:(t,n)=>!!l0(t,n)||r.has(t,n)}));class MR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VR(r){return r.getComponent()?.type==="VERSION"}const Fm="@firebase/app",u0="0.14.6";const mr=new Tp("@firebase/app"),kR="@firebase/app-compat",PR="@firebase/analytics-compat",LR="@firebase/analytics",UR="@firebase/app-check-compat",zR="@firebase/app-check",jR="@firebase/auth",BR="@firebase/auth-compat",qR="@firebase/database",HR="@firebase/data-connect",FR="@firebase/database-compat",GR="@firebase/functions",QR="@firebase/functions-compat",YR="@firebase/installations",KR="@firebase/installations-compat",XR="@firebase/messaging",$R="@firebase/messaging-compat",JR="@firebase/performance",WR="@firebase/performance-compat",ZR="@firebase/remote-config",tC="@firebase/remote-config-compat",eC="@firebase/storage",nC="@firebase/storage-compat",iC="@firebase/firestore",rC="@firebase/ai",sC="@firebase/firestore-compat",aC="firebase",oC="12.6.0";const Gm="[DEFAULT]",lC={[Fm]:"fire-core",[kR]:"fire-core-compat",[LR]:"fire-analytics",[PR]:"fire-analytics-compat",[zR]:"fire-app-check",[UR]:"fire-app-check-compat",[jR]:"fire-auth",[BR]:"fire-auth-compat",[qR]:"fire-rtdb",[HR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[GR]:"fire-fn",[QR]:"fire-fn-compat",[YR]:"fire-iid",[KR]:"fire-iid-compat",[XR]:"fire-fcm",[$R]:"fire-fcm-compat",[JR]:"fire-perf",[WR]:"fire-perf-compat",[ZR]:"fire-rc",[tC]:"fire-rc-compat",[eC]:"fire-gcs",[nC]:"fire-gcs-compat",[iC]:"fire-fst",[sC]:"fire-fst-compat",[rC]:"fire-vertex","fire-js":"fire-js",[aC]:"fire-js-all"};const Th=new Map,uC=new Map,Qm=new Map;function c0(r,t){try{r.container.addComponent(t)}catch(n){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function uo(r){const t=r.name;if(Qm.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;Qm.set(t,r);for(const n of Th.values())c0(n,r);for(const n of uC.values())c0(n,r);return!0}function Sp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ai(r){return r==null?!1:r.settings!==void 0}const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new lu("app","Firebase",cC);class hC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}const Ao=oC;function oT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Gm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=eT()),!n)throw ss.create("no-options");const u=Th.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const f=new yR(o);for(const p of Qm.values())f.addComponent(p);const m=new hC(n,s,f);return Th.set(o,m),m}function lT(r=Gm){const t=Th.get(r);if(!t&&r===Gm&&eT())return oT();if(!t)throw ss.create("no-app",{appName:r});return t}function as(r,t,n){let s=lC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(f.join(" "));return}uo(new ia(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const fC="firebase-heartbeat-database",dC=1,Jl="firebase-heartbeat-store";let xm=null;function uT(){return xm||(xm=DR(fC,dC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),xm}async function mC(r){try{const n=(await uT()).transaction(Jl),s=await n.objectStore(Jl).get(cT(r));return await n.done,s}catch(t){if(t instanceof vr)mr.warn(t.message);else{const n=ss.create("idb-get",{originalErrorMessage:t?.message});mr.warn(n.message)}}}async function h0(r,t){try{const s=(await uT()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(t,cT(r)),await s.done}catch(n){if(n instanceof vr)mr.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function cT(r){return`${r.name}!${r.options.appId}`}const pC=1024,gC=30;class yC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gC){const o=EC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){mr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f0(),{heartbeatsToSend:n,unsentEntries:s}=_C(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return mr.warn(t),""}}}function f0(){return new Date().toISOString().substring(0,10)}function _C(r,t=pC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),d0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),d0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sR()?aR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function d0(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function EC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function TC(r){uo(new ia("platform-logger",t=>new MR(t),"PRIVATE")),uo(new ia("heartbeat",t=>new yC(t),"PRIVATE")),as(Fm,u0,r),as(Fm,u0,"esm2020"),as("fire-js","")}TC("");function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bC=hT,fT=new lu("auth","Firebase",hT());const bh=new Tp("@firebase/auth");function SC(r,...t){bh.logLevel<=Pt.WARN&&bh.warn(`Auth (${Ao}): ${r}`,...t)}function oh(r,...t){bh.logLevel<=Pt.ERROR&&bh.error(`Auth (${Ao}): ${r}`,...t)}function Bi(r,...t){throw wp(r,...t)}function ci(r,...t){return wp(r,...t)}function Ap(r,t,n){const s={...bC(),[t]:n};return new lu("auth","Firebase",s).create(t,{appName:r.name})}function ta(r){return Ap(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AC(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Bi(r,"argument-error"),Ap(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return fT.create(r,...t)}function St(r,t,...n){if(!r)throw wp(t,...n)}function ur(r){const t="INTERNAL ASSERTION FAILED: "+r;throw oh(t),new Error(t)}function pr(r,t){r||ur(t)}function Ym(){return typeof self<"u"&&self.location?.href||""}function wC(){return m0()==="http:"||m0()==="https:"}function m0(){return typeof self<"u"&&self.location?.protocol||null}function RC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wC()||eR()||"connection"in navigator)?navigator.onLine:!0}function CC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class cu{constructor(t,n){this.shortDelay=t,this.longDelay=n,pr(n>t,"Short delay should be less than long delay!"),this.isMobile=Ww()||nR()}get(){return RC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(r,t){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class dT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DC=new cu(3e4,6e4);function Cp(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function wo(r,t,n,s,o={}){return mT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return tR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(y.credentials="include"),dT.fetch()(await pT(r,r.config.apiHost,n,m),y)})}async function mT(r,t,n){r._canInitEmulator=!1;const s={...IC,...t};try{const o=new OC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ap(r,E,y);Bi(r,E)}}catch(o){if(o instanceof vr)throw o;Bi(r,"network-request-failed",{message:String(o)})}}async function NC(r,t,n,s,o={}){const u=await wo(r,t,n,s,o);return"mfaPendingCredential"in u&&Bi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function pT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Rp(r.config,o):`${r.config.apiScheme}://${o}`;return xC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class OC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),DC.get())})}}function Wc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ci(r,t,s);return o.customData._tokenResponse=n,o}async function MC(r,t){return wo(r,"POST","/v1/accounts:delete",t)}async function Sh(r,t){return wo(r,"POST","/v1/accounts:lookup",t)}function Fl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VC(r,t=!1){const n=Be(r),s=await n.getIdToken(t),o=Ip(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Fl(Dm(o.auth_time)),issuedAtTime:Fl(Dm(o.iat)),expirationTime:Fl(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(r){return Number(r)*1e3}function Ip(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function p0(r){const t=Ip(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Wl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof vr&&kC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(r){const t=r.auth,n=await r.getIdToken(),s=await Wl(r,Sh(t,{idToken:n}));St(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?gT(o.providerUserInfo):[],f=UC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function LC(r){const t=Be(r);await Ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function gT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function zC(r,t){const n=await mT(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await pT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),dT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jC(r,t){return wo(r,"POST","/v2/accounts:revokeToken",Cp(r,t))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):p0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=p0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await zC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ur("not implemented")}}function Zr(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new PC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return VC(this,t)}reload(){return LC(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(ta(this.auth));const t=await this.getIdToken();return await Wl(this,MC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:L,providerData:H,stsTokenManager:G}=n;St(T&&G,t,"internal-error");const B=so.fromJSON(this.name,G);St(typeof T=="string",t,"internal-error"),Zr(s,t.name),Zr(o,t.name),St(typeof w=="boolean",t,"internal-error"),St(typeof L=="boolean",t,"internal-error"),Zr(u,t.name),Zr(f,t.name),Zr(m,t.name),Zr(p,t.name),Zr(y,t.name),Zr(E,t.name);const J=new oi({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:y,lastLoginAt:E});return H&&Array.isArray(H)&&(J.providerData=H.map(X=>({...X}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(t,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?gT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const g0=new Map;function cr(r){pr(r instanceof Function,"Expected a class definition");let t=g0.get(r);return t?(pr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,g0.set(r,t),t)}class yT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}yT.type="NONE";const y0=yT;function lh(r,t,n){return`firebase:${r}:${t}:${n}`}class ao{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Sh(this.auth,{idToken:t}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ao(cr(y0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||cr(y0);const f=lh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Sh(t,{idToken:E}).catch(()=>{});if(!w)break;T=await oi._fromGetAccountInfoResponse(t,w,E)}else T=oi._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,t,s))}}function _0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ST(t))return"Blackberry";if(AT(t))return"Webos";if(vT(t))return"Safari";if((t.includes("chrome/")||ET(t))&&!t.includes("edge/"))return"Chrome";if(bT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function _T(r=on()){return/firefox\//i.test(r)}function vT(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ET(r=on()){return/crios\//i.test(r)}function TT(r=on()){return/iemobile/i.test(r)}function bT(r=on()){return/android/i.test(r)}function ST(r=on()){return/blackberry/i.test(r)}function AT(r=on()){return/webos/i.test(r)}function xp(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BC(r=on()){return xp(r)&&!!window.navigator?.standalone}function qC(){return iR()&&document.documentMode===10}function wT(r=on()){return xp(r)||bT(r)||AT(r)||ST(r)||/windows phone/i.test(r)||TT(r)}function RT(r,t=[]){let n;switch(r){case"Browser":n=_0(on());break;case"Worker":n=`${_0(on())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}class HC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function FC(r,t={}){return wo(r,"GET","/v2/passwordPolicy",Cp(r,t))}const GC=6;class QC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class YC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new HC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Sh(this,{idToken:t}),s=await oi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ah(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(ta(this));const n=t?Be(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FC(this),n=new QC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cr(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gh(r){return Be(r)}class v0{constructor(t){this.auth=t,this.observer=null,this.addObserver=hR(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KC(r){Dp=r}function XC(r){return Dp.loadJS(r)}function $C(){return Dp.gapiScript}function JC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function WC(r,t){const n=Sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,t??{}))return o;Bi(o,"already-initialized")}return n.initialize({options:t})}function ZC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function t2(r,t,n){const s=Gh(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=CT(t),{host:f,port:m}=e2(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(na(y,s.config.emulator)&&na(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,So(f)?(iT(`${u}//${f}${p}`),rT("Auth",!0)):n2()}function CT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function e2(r){const t=CT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:E0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:E0(f)}}}function E0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function n2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class IT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,n){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}async function oo(r,t){return NC(r,"POST","/v1/accounts:signInWithIdp",Cp(r,t))}const i2="http://localhost";class ra extends IT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return oo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,oo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,oo(t,n)}buildRequest(){const t={requestUri:i2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=uu(n)}return t}}class Np{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class hu extends Np{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ts extends hu{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class lr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ra._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return lr.credential(n,s)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class es extends hu{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ns extends hu{constructor(){super("twitter.com")}static credential(t,n){return ra._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";class co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await oi._fromIdTokenResponse(t,s,o),f=T0(s);return new co({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=T0(s);return new co({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function T0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wh extends vr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new wh(t,n,s,o)}}function xT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,t,s):u})}async function r2(r,t,n=!1){const s=await Wl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return co._forOperation(r,"link",s)}async function s2(r,t,n=!1){const{auth:s}=r;if(ai(s.app))return Promise.reject(ta(s));const o="reauthenticate";try{const u=await Wl(r,xT(s,o,t,r),n);St(u.idToken,s,"internal-error");const f=Ip(u.idToken);St(f,s,"internal-error");const{sub:m}=f;return St(r.uid===m,s,"user-mismatch"),co._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Bi(s,"user-mismatch"),u}}async function a2(r,t,n=!1){if(ai(r.app))return Promise.reject(ta(r));const s="signIn",o=await xT(r,s,t),u=await co._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function o2(r,t,n,s){return Be(r).onIdTokenChanged(t,n,s)}function l2(r,t,n){return Be(r).beforeAuthStateChanged(t,n)}function u2(r,t,n,s){return Be(r).onAuthStateChanged(t,n,s)}function c2(r){return Be(r).signOut()}const Rh="__sak";class DT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const h2=1e3,f2=10;class NT extends DT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);qC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,f2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}NT.type="LOCAL";const d2=NT;class OT extends DT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}OT.type="SESSION";const MT=OT;function m2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await m2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];function Op(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class p2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Op("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Pi(){return window}function g2(r){Pi().location.href=r}function VT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function y2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){return navigator?.serviceWorker?.controller||null}function v2(){return VT()?self:null}const kT="firebaseLocalStorageDb",E2=1,Ch="firebaseLocalStorage",PT="fbase_key";class fu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(r,t){return r.transaction([Ch],t?"readwrite":"readonly").objectStore(Ch)}function T2(){const r=indexedDB.deleteDatabase(kT);return new fu(r).toPromise()}function Xm(){const r=indexedDB.open(kT,E2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:PT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?t(s):(s.close(),await T2(),t(await Xm()))})})}async function b0(r,t,n){const s=Yh(r,!0).put({[PT]:t,value:n});return new fu(s).toPromise()}async function b2(r,t){const n=Yh(r,!1).get(t),s=await new fu(n).toPromise();return s===void 0?null:s.value}function S0(r,t){const n=Yh(r,!0).delete(t);return new fu(n).toPromise()}const S2=800,A2=3;class LT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>A2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(v2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xm();return await b0(t,Rh,"1"),await S0(t,Rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>b0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>b2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new fu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LT.type="LOCAL";const w2=LT;new cu(3e4,6e4);function UT(r,t){return t?cr(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mp extends IT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function R2(r){return a2(r.auth,new Mp(r),r.bypassAuthState)}function C2(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),s2(n,new Mp(r),r.bypassAuthState)}async function I2(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),r2(n,new Mp(r),r.bypassAuthState)}class zT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return C2;default:Bi(this.auth,"internal-error")}}resolve(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x2=new cu(2e3,1e4);async function D2(r,t,n){if(ai(r.app))return Promise.reject(ci(r,"operation-not-supported-in-this-environment"));const s=Gh(r);AC(r,t,Np);const o=UT(s,n);return new Js(s,"signInViaPopup",t,o).executeNotNull()}class Js extends zT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const t=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,x2.get())};t()}}Js.currentPopupAction=null;const N2="pendingRedirect",uh=new Map;class O2 extends zT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=uh.get(this.auth._key());if(!t){try{const s=await M2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}uh.set(this.auth._key(),t)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M2(r,t){const n=P2(t),s=k2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function V2(r,t){uh.set(r._key(),t)}function k2(r){return cr(r._redirectPersistence)}function P2(r){return lh(N2,r.config.apiKey,r.name)}async function L2(r,t,n=!1){if(ai(r.app))return Promise.reject(ta(r));const s=Gh(r),o=UT(s,t),f=await new O2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const U2=600*1e3;class z2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!j2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!jT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ci(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=U2&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(t))}saveEventToCache(t){this.cachedEventUids.add(A0(t)),this.lastProcessedEventTime=Date.now()}}function A0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function jT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function j2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(r);default:return!1}}async function B2(r,t={}){return wo(r,"GET","/v1/projects",t)}const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function F2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await B2(r);for(const n of t)try{if(G2(n))return}catch{}Bi(r,"unauthorized-domain")}function G2(r){const t=Ym(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!H2.test(n))return!1;if(q2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Q2=new cu(3e4,6e4);function w0(){const r=Pi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Y2(r){return new Promise((t,n)=>{function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(ci(r,"network-request-failed"))},timeout:Q2.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const o=JC("iframefcb");return Pi()[o]=()=>{gapi.load?s():n(ci(r,"network-request-failed"))},XC(`${$C()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw ch=null,t})}let ch=null;function K2(r){return ch=ch||Y2(r),ch}const X2=new cu(5e3,15e3),$2="__/auth/iframe",J2="emulator/auth/iframe",W2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tI(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Rp(t,J2):`https://${r.config.authDomain}/${$2}`,s={apiKey:t.apiKey,appName:r.name,v:Ao},o=Z2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function eI(r){const t=await K2(r),n=Pi().gapi;return St(n,r,"internal-error"),t.open({where:document.body,url:tI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ci(r,"network-request-failed"),m=Pi().setTimeout(()=>{u(f)},X2.get());function p(){Pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const nI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iI=500,rI=600,sI="_blank",aI="http://localhost";class R0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oI(r,t,n,s=iI,o=rI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...nI,width:s.toString(),height:o.toString(),top:u,left:f},y=on().toLowerCase();n&&(m=ET(y)?sI:n),_T(y)&&(t=t||aI,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[L,H])=>`${w}${L}=${H},`,"");if(BC(y)&&m!=="_self")return lI(t||"",m),new R0(null);const T=window.open(t||"",m,E);St(T,r,"popup-blocked");try{T.focus()}catch{}return new R0(T)}function lI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const uI="__/auth/handler",cI="emulator/auth/handler",hI=encodeURIComponent("fac");async function C0(r,t,n,s,o,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(t instanceof Np){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",cR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof hu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${hI}=${encodeURIComponent(p)}`:"";return`${fI(r)}?${uu(m).slice(1)}${y}`}function fI({config:r}){return r.emulator?Rp(r,cI):`https://${r.authDomain}/${uI}`}const Nm="webStorageSupport";class dI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=L2,this._overrideRedirectResult=V2}async _openPopup(t,n,s,o){pr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await C0(t,n,s,Ym(),o);return oI(t,u,Op())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await C0(t,n,s,Ym(),o);return g2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await eI(t),s=new z2(t);return n.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),Bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wT()||vT()||xp()}}const mI=dI;var I0="@firebase/auth",x0="1.12.0";class pI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yI(r){uo(new ia("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(r)},y=new YC(s,o,u,p);return ZC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),uo(new ia("auth-internal",t=>{const n=Gh(t.getProvider("auth").getImmediate());return(s=>new pI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(I0,x0,gI(r)),as(I0,x0,"esm2020")}const _I=300,vI=nT("authIdTokenMaxAge")||_I;let D0=null;const EI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vI)return;const o=n?.token;D0!==o&&(D0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TI(r=lT()){const t=Sp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=WC(r,{popupRedirectResolver:mI,persistence:[w2,d2,MT]}),s=nT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=EI(u.toString());l2(n,f,()=>f(n.currentUser)),o2(n,m=>f(m))}}const o=tT("auth");return o&&t2(n,`http://${o}`),n}function bI(){return document.getElementsByTagName("head")?.[0]??document}KC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",bI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yI("Browser");var SI="firebase",AI="12.7.0";as(SI,AI,"app");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,BT;(function(){var r;function t(D,I){function S(){}S.prototype=I.prototype,D.F=I.prototype,D.prototype=new S,D.prototype.constructor=D,D.D=function(x,R,M){for(var N=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)N[Et-2]=arguments[Et];return I.prototype[R].apply(x,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,S){S||(S=0);const x=Array(16);if(typeof I=="string")for(var R=0;R<16;++R)x[R]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(R=0;R<16;++R)x[R]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=D.g[0],S=D.g[1],R=D.g[2];let M=D.g[3],N;N=I+(M^S&(R^M))+x[0]+3614090360&4294967295,I=S+(N<<7&4294967295|N>>>25),N=M+(R^I&(S^R))+x[1]+3905402710&4294967295,M=I+(N<<12&4294967295|N>>>20),N=R+(S^M&(I^S))+x[2]+606105819&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(I^R&(M^I))+x[3]+3250441966&4294967295,S=R+(N<<22&4294967295|N>>>10),N=I+(M^S&(R^M))+x[4]+4118548399&4294967295,I=S+(N<<7&4294967295|N>>>25),N=M+(R^I&(S^R))+x[5]+1200080426&4294967295,M=I+(N<<12&4294967295|N>>>20),N=R+(S^M&(I^S))+x[6]+2821735955&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(I^R&(M^I))+x[7]+4249261313&4294967295,S=R+(N<<22&4294967295|N>>>10),N=I+(M^S&(R^M))+x[8]+1770035416&4294967295,I=S+(N<<7&4294967295|N>>>25),N=M+(R^I&(S^R))+x[9]+2336552879&4294967295,M=I+(N<<12&4294967295|N>>>20),N=R+(S^M&(I^S))+x[10]+4294925233&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(I^R&(M^I))+x[11]+2304563134&4294967295,S=R+(N<<22&4294967295|N>>>10),N=I+(M^S&(R^M))+x[12]+1804603682&4294967295,I=S+(N<<7&4294967295|N>>>25),N=M+(R^I&(S^R))+x[13]+4254626195&4294967295,M=I+(N<<12&4294967295|N>>>20),N=R+(S^M&(I^S))+x[14]+2792965006&4294967295,R=M+(N<<17&4294967295|N>>>15),N=S+(I^R&(M^I))+x[15]+1236535329&4294967295,S=R+(N<<22&4294967295|N>>>10),N=I+(R^M&(S^R))+x[1]+4129170786&4294967295,I=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(I^S))+x[6]+3225465664&4294967295,M=I+(N<<9&4294967295|N>>>23),N=R+(I^S&(M^I))+x[11]+643717713&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^I&(R^M))+x[0]+3921069994&4294967295,S=R+(N<<20&4294967295|N>>>12),N=I+(R^M&(S^R))+x[5]+3593408605&4294967295,I=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(I^S))+x[10]+38016083&4294967295,M=I+(N<<9&4294967295|N>>>23),N=R+(I^S&(M^I))+x[15]+3634488961&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^I&(R^M))+x[4]+3889429448&4294967295,S=R+(N<<20&4294967295|N>>>12),N=I+(R^M&(S^R))+x[9]+568446438&4294967295,I=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(I^S))+x[14]+3275163606&4294967295,M=I+(N<<9&4294967295|N>>>23),N=R+(I^S&(M^I))+x[3]+4107603335&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^I&(R^M))+x[8]+1163531501&4294967295,S=R+(N<<20&4294967295|N>>>12),N=I+(R^M&(S^R))+x[13]+2850285829&4294967295,I=S+(N<<5&4294967295|N>>>27),N=M+(S^R&(I^S))+x[2]+4243563512&4294967295,M=I+(N<<9&4294967295|N>>>23),N=R+(I^S&(M^I))+x[7]+1735328473&4294967295,R=M+(N<<14&4294967295|N>>>18),N=S+(M^I&(R^M))+x[12]+2368359562&4294967295,S=R+(N<<20&4294967295|N>>>12),N=I+(S^R^M)+x[5]+4294588738&4294967295,I=S+(N<<4&4294967295|N>>>28),N=M+(I^S^R)+x[8]+2272392833&4294967295,M=I+(N<<11&4294967295|N>>>21),N=R+(M^I^S)+x[11]+1839030562&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^I)+x[14]+4259657740&4294967295,S=R+(N<<23&4294967295|N>>>9),N=I+(S^R^M)+x[1]+2763975236&4294967295,I=S+(N<<4&4294967295|N>>>28),N=M+(I^S^R)+x[4]+1272893353&4294967295,M=I+(N<<11&4294967295|N>>>21),N=R+(M^I^S)+x[7]+4139469664&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^I)+x[10]+3200236656&4294967295,S=R+(N<<23&4294967295|N>>>9),N=I+(S^R^M)+x[13]+681279174&4294967295,I=S+(N<<4&4294967295|N>>>28),N=M+(I^S^R)+x[0]+3936430074&4294967295,M=I+(N<<11&4294967295|N>>>21),N=R+(M^I^S)+x[3]+3572445317&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^I)+x[6]+76029189&4294967295,S=R+(N<<23&4294967295|N>>>9),N=I+(S^R^M)+x[9]+3654602809&4294967295,I=S+(N<<4&4294967295|N>>>28),N=M+(I^S^R)+x[12]+3873151461&4294967295,M=I+(N<<11&4294967295|N>>>21),N=R+(M^I^S)+x[15]+530742520&4294967295,R=M+(N<<16&4294967295|N>>>16),N=S+(R^M^I)+x[2]+3299628645&4294967295,S=R+(N<<23&4294967295|N>>>9),N=I+(R^(S|~M))+x[0]+4096336452&4294967295,I=S+(N<<6&4294967295|N>>>26),N=M+(S^(I|~R))+x[7]+1126891415&4294967295,M=I+(N<<10&4294967295|N>>>22),N=R+(I^(M|~S))+x[14]+2878612391&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~I))+x[5]+4237533241&4294967295,S=R+(N<<21&4294967295|N>>>11),N=I+(R^(S|~M))+x[12]+1700485571&4294967295,I=S+(N<<6&4294967295|N>>>26),N=M+(S^(I|~R))+x[3]+2399980690&4294967295,M=I+(N<<10&4294967295|N>>>22),N=R+(I^(M|~S))+x[10]+4293915773&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~I))+x[1]+2240044497&4294967295,S=R+(N<<21&4294967295|N>>>11),N=I+(R^(S|~M))+x[8]+1873313359&4294967295,I=S+(N<<6&4294967295|N>>>26),N=M+(S^(I|~R))+x[15]+4264355552&4294967295,M=I+(N<<10&4294967295|N>>>22),N=R+(I^(M|~S))+x[6]+2734768916&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~I))+x[13]+1309151649&4294967295,S=R+(N<<21&4294967295|N>>>11),N=I+(R^(S|~M))+x[4]+4149444226&4294967295,I=S+(N<<6&4294967295|N>>>26),N=M+(S^(I|~R))+x[11]+3174756917&4294967295,M=I+(N<<10&4294967295|N>>>22),N=R+(I^(M|~S))+x[2]+718787259&4294967295,R=M+(N<<15&4294967295|N>>>17),N=S+(M^(R|~I))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+R&4294967295,D.g[3]=D.g[3]+M&4294967295}s.prototype.v=function(D,I){I===void 0&&(I=D.length);const S=I-this.blockSize,x=this.C;let R=this.h,M=0;for(;M<I;){if(R==0)for(;M<=S;)o(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<I;)if(x[R++]=D.charCodeAt(M++),R==this.blockSize){o(this,x),R=0;break}}else for(;M<I;)if(x[R++]=D[M++],R==this.blockSize){o(this,x),R=0;break}}this.h=R,this.o+=I},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var S=D.length-8;S<D.length;++S)D[S]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,S=0;S<4;++S)for(let x=0;x<32;x+=8)D[I++]=this.g[S]>>>x&255;return D};function u(D,I){var S=m;return Object.prototype.hasOwnProperty.call(S,D)?S[D]:S[D]=I(D)}function f(D,I){this.h=I;const S=[];let x=!0;for(let R=D.length-1;R>=0;R--){const M=D[R]|0;x&&M==I||(S[R]=M,x=!1)}this.g=S}var m={};function p(D){return-128<=D&&D<128?u(D,function(I){return new f([I|0],I<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return B(y(-D));const I=[];let S=1;for(let x=0;D>=S;x++)I[x]=D/S|0,S*=4294967296;return new f(I,0)}function E(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return B(E(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(I,8));let x=T;for(let M=0;M<D.length;M+=8){var R=Math.min(8,D.length-M);const N=parseInt(D.substring(M,M+R),I);R<8?(R=y(Math.pow(I,R)),x=x.j(R).add(y(N))):(x=x.j(S),x=x.add(y(N)))}return x}var T=p(0),w=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-B(this).m();let D=0,I=1;for(let S=0;S<this.g.length;S++){const x=this.i(S);D+=(x>=0?x:4294967296+x)*I,I*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(G(this))return"-"+B(this).toString(D);const I=y(Math.pow(D,6));var S=this;let x="";for(;;){const R=rt(S,I).g;S=J(S,R.j(I));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(D);if(S=R,H(S))return M+x;for(;M.length<6;)M="0"+M;x=M+x}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function G(D){return D.h==-1}r.l=function(D){return D=J(this,D),G(D)?-1:H(D)?0:1};function B(D){const I=D.g.length,S=[];for(let x=0;x<I;x++)S[x]=~D.g[x];return new f(S,~D.h).add(w)}r.abs=function(){return G(this)?B(this):this},r.add=function(D){const I=Math.max(this.g.length,D.g.length),S=[];let x=0;for(let R=0;R<=I;R++){let M=x+(this.i(R)&65535)+(D.i(R)&65535),N=(M>>>16)+(this.i(R)>>>16)+(D.i(R)>>>16);x=N>>>16,M&=65535,N&=65535,S[R]=N<<16|M}return new f(S,S[S.length-1]&-2147483648?-1:0)};function J(D,I){return D.add(B(I))}r.j=function(D){if(H(this)||H(D))return T;if(G(this))return G(D)?B(this).j(B(D)):B(B(this).j(D));if(G(D))return B(this.j(B(D)));if(this.l(L)<0&&D.l(L)<0)return y(this.m()*D.m());const I=this.g.length+D.g.length,S=[];for(var x=0;x<2*I;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(let R=0;R<D.g.length;R++){const M=this.i(x)>>>16,N=this.i(x)&65535,Et=D.i(R)>>>16,jt=D.i(R)&65535;S[2*x+2*R]+=N*jt,X(S,2*x+2*R),S[2*x+2*R+1]+=M*jt,X(S,2*x+2*R+1),S[2*x+2*R+1]+=N*Et,X(S,2*x+2*R+1),S[2*x+2*R+2]+=M*Et,X(S,2*x+2*R+2)}for(D=0;D<I;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=I;D<2*I;D++)S[D]=0;return new f(S,0)};function X(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function W(D,I){this.g=D,this.h=I}function rt(D,I){if(H(I))throw Error("division by zero");if(H(D))return new W(T,T);if(G(D))return I=rt(B(D),I),new W(B(I.g),B(I.h));if(G(I))return I=rt(D,B(I)),new W(B(I.g),I.h);if(D.g.length>30){if(G(D)||G(I))throw Error("slowDivide_ only works with positive integers.");for(var S=w,x=I;x.l(D)<=0;)S=ot(S),x=ot(x);var R=dt(S,1),M=dt(x,1);for(x=dt(x,2),S=dt(S,2);!H(x);){var N=M.add(x);N.l(D)<=0&&(R=R.add(S),M=N),x=dt(x,1),S=dt(S,1)}return I=J(D,R.j(I)),new W(R,I)}for(R=T;D.l(I)>=0;){for(S=Math.max(1,Math.floor(D.m()/I.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),M=y(S),N=M.j(I);G(N)||N.l(D)>0;)S-=x,M=y(S),N=M.j(I);H(M)&&(M=w),R=R.add(M),D=J(D,N)}return new W(R,D)}r.B=function(D){return rt(this,D).h},r.and=function(D){const I=Math.max(this.g.length,D.g.length),S=[];for(let x=0;x<I;x++)S[x]=this.i(x)&D.i(x);return new f(S,this.h&D.h)},r.or=function(D){const I=Math.max(this.g.length,D.g.length),S=[];for(let x=0;x<I;x++)S[x]=this.i(x)|D.i(x);return new f(S,this.h|D.h)},r.xor=function(D){const I=Math.max(this.g.length,D.g.length),S=[];for(let x=0;x<I;x++)S[x]=this.i(x)^D.i(x);return new f(S,this.h^D.h)};function ot(D){const I=D.g.length+1,S=[];for(let x=0;x<I;x++)S[x]=D.i(x)<<1|D.i(x-1)>>>31;return new f(S,D.h)}function dt(D,I){const S=I>>5;I%=32;const x=D.g.length-S,R=[];for(let M=0;M<x;M++)R[M]=I>0?D.i(M+S)>>>I|D.i(M+S+1)<<32-I:D.i(M+S);return new f(R,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,os=f}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qT,Ul,HT,hh,$m,FT,GT,QT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break t;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,Q){for(var at=Array(arguments.length-2),It=2;It<arguments.length;It++)at[It-2]=arguments[It];return g.prototype[z].apply(A,at)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function H(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Q=z.length||0;c.length=v+Q;for(let at=0;at<Q;at++)c[v+at]=z[at]}else c.push(z)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function B(c){f.setTimeout(()=>{throw c},0)}function J(){var c=D;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,v){const A=W.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new G(()=>new rt,c=>c.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,dt=!1,D=new X,I=()=>{const c=Promise.resolve(void 0);ot=()=>{c.then(S)}};function S(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){B(v)}var g=W;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}dt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Et(c,g){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Et,R),Et.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Et.Z.h.call(this)},Et.prototype.h=function(){Et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function st(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++Y,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ft(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Xt(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function k(c){const g={};for(const v in c)g[v]=c[v];return g}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Q=0;Q<nt.length;Q++)v=nt[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ft(c){this.src=c,this.g={},this.h=0}ft.prototype.add=function(c,g,v,A,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const at=Dt(c,g,A,z);return at>-1?(g=c[at],v||(g.fa=!1)):(g=new st(g,this.src,Q,!!A,z),g.fa=v,c.push(g)),g};function At(c,g){const v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(A,z,1),Q&&(pt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Dt(c,g,v,A){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==A)return z}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Le={};function le(c,g,v,A,z){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)le(c,g[Q],v,A,z);return null}return v=Mo(v),c&&c[jt]?c.J(g,v,m(A)?!!A.capture:!1,z):vs(c,g,v,!1,A,z)}function vs(c,g,v,A,z,Q){if(!g)throw Error("Invalid event type");const at=m(z)?!!z.capture:!!z;let It=Es(c);if(It||(c[Bt]=It=new ft(c)),v=It.add(g,v,A,at,Q),v.proxy)return v;if(A=ca(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)M||(z=at),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(di(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ca(){function c(v){return g.call(c.src,c.listener,v)}const g=No;return c}function ha(c,g,v,A,z){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)ha(c,g[Q],v,A,z);else A=m(A)?!!A.capture:!!A,v=Mo(v),c&&c[jt]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],v=Dt(g,v,A,z),v>-1&&(pt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Es(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Dt(g,v,A,z)),(v=c>-1?g[c]:null)&&fa(v))}function fa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[jt])At(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(di(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Es(g))?(At(v,c),v.h==0&&(v.src=null,g[Bt]=null)):pt(c)}}}function di(c){return c in Le?Le[c]:Le[c]="on"+c}function No(c,g){if(c.da)c=!0;else{g=new Et(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&fa(c),c=v.call(A,g)}return c}function Es(c){return c=c[Bt],c instanceof ft?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(g){return c.handleEvent(g)}),c[Oo])}function Ae(){x.call(this),this.i=new ft(this),this.M=this,this.G=null}T(Ae,x),Ae.prototype[jt]=!0,Ae.prototype.removeEventListener=function(c,g,v,A){ha(this,c,g,v,A)};function Ue(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new R(g,c);else if(g instanceof R)g.target=g.target||c;else{var z=g;g=new R(A,c),ut(g,z)}z=!0;let Q,at;if(v)for(at=v.length-1;at>=0;at--)Q=g.g=v[at],z=Er(Q,A,!0,g)&&z;if(Q=g.g=c,z=Er(Q,A,!0,g)&&z,z=Er(Q,A,!1,g)&&z,v)for(at=0;at<v.length;at++)Q=g.g=v[at],z=Er(Q,A,!1,g)&&z}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)pt(v[A]);delete c.g[g],c.h--}}this.G=null},Ae.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Ae.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function Er(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let Q=0;Q<g.length;++Q){const at=g[Q];if(at&&!at.da&&at.capture==v){const It=at.listener,Ee=at.ha||at.src;at.fa&&At(c.i,at),z=It.call(Ee,A)!==!1&&z}}return z&&!A.defaultPrevented}function _f(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function bu(c){c.g=_f(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ln extends x{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){x.call(this),this.h=c,this.g={}}T(Ts,x);var Vo=[];function ko(c){Ft(c.g,function(g,v){this.g.hasOwnProperty(v)&&fa(g)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),ko(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=f.JSON.stringify,vf=f.JSON.parse,Su=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Au(){}function wu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){R.call(this,"d")}T(Ye,R);function Vn(){R.call(this,"c")}T(Vn,R);var ve={},Ru=null;function da(){return Ru=Ru||new Ae}ve.Ia="serverreachability";function Cu(c){R.call(this,ve.Ia,c)}T(Cu,R);function mi(c){const g=da();Ue(g,new Cu(g))}ve.STAT_EVENT="statevent";function bs(c,g){R.call(this,ve.STAT_EVENT,c),this.stat=g}T(bs,R);function we(c){const g=da();Ue(g,new bs(g,c))}ve.Ja="timingevent";function pi(c,g){R.call(this,ve.Ja,c),this.size=g}T(pi,R);function gi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Ef(c,g,v,A,z,Q){c.info(function(){if(c.g)if(Q){var at="",It=Q.split("&");for(let Yt=0;Yt<It.length;Yt++){var Ee=It[Yt].split("=");if(Ee.length>1){const ue=Ee[0];Ee=Ee[1];const Un=ue.split("_");at=Un.length>=2&&Un[1]=="type"?at+(ue+"="+Ee+"&"):at+(ue+"=redacted&")}}}else at=null;else at=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+at})}function Iu(c,g,v,A,z,Q,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+Q+" "+at})}function yi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Tf(c,v)+(A?" "+A:"")})}function Ss(c,g){c.info(function(){return"TIMEOUT: "+g})}Xn.prototype.info=function(){};function Tf(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let at=1;at<A.length;at++)A[at]=""}}}}return Tr(Q)}catch{return g}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function ws(){}T(ws,Au),ws.prototype.g=function(){return new XMLHttpRequest},Lo=new ws;function Hi(c){return encodeURIComponent(String(c))}function xu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function $n(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function _i(c,g,v){c.M=1,c.A=Rs(Ie(g)),c.u=v,c.R=!0,ma(c,null)}function ma(c,g){c.F=Date.now(),vi(c),c.B=Ie(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),_a(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Jn,c.g=Fu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new ln(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Vo[0]=z.toString()),z=Vo);for(let Q=0;Q<z.length;Q++){const at=le(v,z[Q],A||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),mi(),Ef(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const g=this.O;g&&ti(c)==3?g.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)t:{const It=ti(this.g),Ee=this.g.ya(),Yt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||It!=4||Ee==7||(Ee==8||Yt<=0?mi(3):mi(2)),Ei(this);var g=this.g.ca();this.X=g;var v=bf(this);if(this.o=g==200,Iu(this.i,this.v,this.B,this.l,this.S,It,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Q=A;break e}}Q=null}if(c=Q)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,we(12),En(this),kn(this);break t}}if(this.R){c=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=Nu(this,v),ue==qe){It==4&&(this.m=4,we(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Re){this.m=4,we(15),yi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,ue,null),Ti(this,ue);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,we(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Wo(at),at.P=!0,we(11))}}else yi(this.i,this.l,v,null),Ti(this,v);It==4&&En(this),this.o&&!this.K&&(It==4?ju(this.j,this):(this.o=!1,vi(this)))}else Gi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),En(this),kn(this)}}}catch{}};function bf(c){if(!Du(c))return c.g.la();const g=Ke(c.g);if(g==="")return"";let v="";const A=g.length,z=ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),kn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(g[Q],{stream:!(z&&Q==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?qe:(v=Number(g.substring(v,A)),isNaN(v)?Re:(A+=1,A+v>g.length?qe:(g=g.slice(A,A+v),c.C=A+v,g)))}$n.prototype.cancel=function(){this.K=!0,En(this)};function vi(c){c.T=Date.now()+c.H,pa(c,c.H)}function pa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(y(c.aa,c),g)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(mi(),we(17)),En(this),this.m=2,kn(this)):pa(this,this.T-c)};function kn(c){c.j.I==0||c.K||ju(c.j,c)}function En(c){Ei(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,ko(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ti(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Si(v.h,c))){if(!c.L&&Si(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Sa(v),xr(v);else break t;Ms(v),we(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(y(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((c.L||v.g==c)&&Sa(v),!N(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Yt=z[g];const ue=Yt[0];if(!(ue<=v.K))if(v.K=ue,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Un=Yt[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const Di=Yt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ei=Yt[5];ei!=null&&typeof ei=="number"&&ei>0&&(A=1.5*ei,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ni=c.g;if(ni){const Vs=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var Q=A.h;Q.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(jo(Q,Q.h),Q.h=null))}if(A.G){const Aa=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(A.wa=Aa,$t(A.J,A.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var at=c;if(A.na=Hu(A,A.L?A.ba:null,A.W),at.L){Bo(A.h,at);var It=at,Ee=A.O;Ee&&(It.H=Ee),It.D&&(Ei(It),vi(It)),A.g=at}else Uu(A);v.i.length>0&&Ii(v)}else Yt[0]!="stop"&&Yt[0]!="close"||xi(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?xi(v,7):$o(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}mi(4)}catch{}}var Ce=class{constructor(c,g){this.g=c,this.map=g}};function Uo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bi(c){return c.h?1:c.g?c.g.size:0}function Si(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function jo(c,g){c.g?c.g.add(g):c.h=g}function Bo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,Q=null;A>=0?(z=c[v].substring(0,A),Q=c[v].substring(A+1)):z=c[v],g(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Tn?(this.l=c.l,He(this,c.j),this.o=c.o,this.g=c.g,br(this,c.u),this.h=c.h,Ho(this,Pu(c.i)),this.m=c.m):c&&(g=String(c).match(Ou))?(this.l=!1,He(this,g[1]||"",!0),this.o=Ai(g[2]||""),this.g=Ai(g[3]||"",!0),br(this,g[4]),this.h=Ai(g[5]||"",!0),Ho(this,g[6]||"",!0),this.m=Ai(g[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}Tn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Cs(g,ya,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Cs(g,ya,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cs(v,v.charAt(0)=="/"?Fo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cs(v,Vu)),c.join("")},Tn.prototype.resolve=function(c){const g=Ie(this);let v=!!c.j;v?He(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)br(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let at=0;at<z.length;){const It=z[at++];It=="."?A&&at==z.length&&Q.push(""):It==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&at==z.length&&Q.push("")):(Q.push(It),A=!0)}A=Q.join("/")}else A=z}return v?g.h=A:v=c.i.toString()!=="",v?Ho(g,Pu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Ie(c){return new Tn(c)}function He(c,g,v){c.j=v?Ai(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Ho(c,g,v){g instanceof Ar?(c.i=g,va(c.i,c.l)):(v||(g=Cs(g,Sr)),c.i=new Ar(g,c.l))}function $t(c,g,v){c.i.set(g,v)}function Rs(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ya=/[#\/\?@]/g,Mu=/[#\?:]/g,Fo=/[#\?]/g,Sr=/[#\?@]/g,Vu=/#/g;function Ar(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,g){dn(this),this.i=null,c=wr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ku(c,g){dn(c),g=wr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Go(c,g){return dn(c),g=wr(c,g),c.g.has(g)}r.forEach=function(c,g){dn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Qo(c,g){dn(c);let v=[];if(typeof g=="string")Go(c,g)&&(v=v.concat(c.g.get(wr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return dn(this),this.i=null,c=wr(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Qo(this,c),c.length>0?String(c[0]):g):g};function _a(c,g,v){ku(c,g),v.length>0&&(c.i=null,c.g.set(wr(c,g),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=Hi(v);v=Qo(this,v);for(let Q=0;Q<v.length;Q++){let at=z;v[Q]!==""&&(at+="="+Hi(v[Q])),c.push(at)}}return this.i=c.join("&")};function Pu(c){const g=new Ar;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function wr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function va(c,g){g&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(ku(this,A),_a(this,z,v))},c)),c.j=g}function Wn(c,g){const v=new Xn;if(f.Image){const A=new Image;A.onload=E(Pn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Pn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Pn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Pn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Yo(c,g){const v=new Xn,A=new AbortController,z=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?Pn(v,"TestPingServer: ok",!0,g):Pn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Pn(v,"TestPingServer: error",!1,g)})}function Pn(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Rr(){this.g=new Su}function wi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(wi,Au),wi.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,g){Ae.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,Ae),r=Is.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Cr(this):Zn(this),this.readyState==3&&Ea(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Na=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ln(c){let g="";return Ft(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function xs(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Ln(v),typeof c=="string"?v!=null&&Hi(v):$t(c,g,v))}function Zt(c){Ae.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Zt,Ae);var Ri=/^https?$/i,Ko=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Ds(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ko,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of v)this.g.setRequestHeader(Q,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ds(this,Q)}};function Ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Xo(c),Fi(c)}function Xo(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ue(this,"complete"),Ue(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ue(c,"readystatechange"),ti(c)==4){c.h=!1;try{const Q=c.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=Q===0){let at=String(c.D).match(Ou)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),A=!Ri.test(at?at.toLowerCase():"")}v=A}if(v)Ue(c,"complete"),Ue(c,"success");else{c.o=6;try{var z=ti(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Xo(c)}}finally{Fi(c)}}}}function Fi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ue(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),vf(g)}};function Ke(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const g={};c=(c.g&&ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=xu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[z]||[];g[z]=Q,Q.push(v)}Xt(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ir(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new Rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){we(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Hu(this,null,this.W),Ii(this)};function $o(c){if(Ta(c),c.I==3){var g=c.V++,v=Ie(c.J);if($t(v,"SID",c.M),$t(v,"RID",g),$t(v,"TYPE","terminate"),Os(c,v),g=new $n(c,c.j,g),g.M=2,g.A=Rs(Ie(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Fu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),vi(g)}qu(c)}function xr(c){c.g&&(Wo(c),c.g.cancel(),c.g=null)}function Ta(c){xr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ii(c){if(!zo(c.h)&&!c.m){c.m=!0;var g=c.Ea;ot||I(),dt||(ot(),dt=!0),D.add(g,c),c.D=0}}function ba(c,g){return bi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(y(c.Ea,c,g),Bu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new $n(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Lu(this,z,g),v=Ie(this.J),$t(v,"RID",c),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Os(this,v),Q&&(this.R?g="headers="+Hi(Ln(Q))+"&"+g:this.u&&xs(v,this.u,Q)),jo(this.h,z),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",g),$t(v,"SID","null"),z.U=!0,_i(z,v,null)):_i(z,v,g),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,g){var v;g?v=g.l:v=c.V++;const A=Ie(c.J);$t(A,"SID",c.M),$t(A,"RID",v),$t(A,"AID",c.K),Os(c,A),c.u&&c.o&&xs(A,c.u,c.o),v=new $n(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Lu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),_i(v,A,g)}function Os(c,g){c.H&&Ft(c.H,function(v,A){$t(g,A,v)}),c.l&&Ft({},function(v,A){$t(g,A,v)})}function Lu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var z=c.i;let It=-1;for(;;){const Ee=["count="+v];It==-1?v>0?(It=z[0].g,Ee.push("ofs="+It)):It=0:Ee.push("ofs="+It);let Yt=!0;for(let ue=0;ue<v;ue++){var Q=z[ue].g;const Un=z[ue].map;if(Q-=It,Q<0)It=Math.max(0,z[ue].g-100),Yt=!1;else try{Q="req"+Q+"_"||"";try{var at=Un instanceof Map?Un:Object.entries(Un);for(const[Di,ei]of at){let ni=ei;m(ei)&&(ni=Tr(ei)),Ee.push(Q+Di+"="+encodeURIComponent(ni))}}catch(Di){throw Ee.push(Q+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(Un)}}if(Yt){at=Ee.join("&");break t}}at=void 0}return c=c.i.splice(0,v),g.G=c,at}function Uu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ot||I(),dt||(ot(),dt=!0),D.add(g,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(y(c.Da,c),Bu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),xr(this),zu(this))};function Wo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ie(c.na);$t(g,"RID","rpc"),$t(g,"SID",c.M),$t(g,"AID",c.K),$t(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(g,"TO",c.ia),$t(g,"TYPE","xmlhttp"),Os(c,g),c.u&&c.o&&xs(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rs(Ie(g)),v.u=null,v.R=!0,ma(v,c)}r.Va=function(){this.C!=null&&(this.C=null,xr(this),Ms(this),we(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ju(c,g){var v=null;if(c.g==g){Sa(c),Wo(c),c.g=null;var A=2}else if(Si(c.h,g))v=g.G,Bo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=da(),Ue(A,new pi(A,v)),Ii(c)}else Uu(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&ba(c,g)||A==2&&Ms(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Bu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function xi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||He(A,"https"),Rs(A),z?Wn(A.toString(),v):Yo(A.toString(),v)}else we(2);c.I=0,c.l&&c.l.pa(g),qu(c),Ta(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const g=qo(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Hu(c,g,v){var A=v instanceof Tn?Ie(v):new Tn(v);if(A.g!="")g&&(A.g=g+"."+A.g),br(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const Q=new Tn(null);A&&He(Q,A),g&&(Q.g=g),z&&br(Q,z),v&&(Q.h=v),A=Q}return v=c.G,g=c.wa,v&&g&&$t(A,v,g),$t(A,"VER",c.ka),Os(c,A),A}function Fu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Zt(new wi({ab:v})):new Zt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}r=Gu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,g){return new un(c,g)};function un(c,g){Ae.call(this),this.g=new Ir(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Qi(this)}T(un,Ae),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){$o(this.g)},un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Tr(c),c=v);g.i.push(new Ce(g.Ya++,c)),g.I==3&&Ii(g)},un.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,un.Z.N.call(this)};function Qu(c){Ye.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Qu,Ye);function Yu(){Vn.call(this),this.status=1}T(Yu,Vn);function Qi(c){this.g=c}T(Qi,Gu),Qi.prototype.ra=function(){Ue(this.g,"a")},Qi.prototype.qa=function(c){Ue(this.g,new Qu(c))},Qi.prototype.pa=function(c){Ue(this.g,new Yu)},Qi.prototype.oa=function(){Ue(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,QT=function(){return new Dr},GT=function(){return da()},FT=ve,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,hh=As,Po.COMPLETE="complete",HT=Po,wu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Ul=wu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,qT=Zt}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Ro="12.7.0";const sa=new Tp("@firebase/firestore");function to(){return sa.logLevel}function ht(r,...t){if(sa.logLevel<=Pt.DEBUG){const n=t.map(Vp);sa.debug(`Firestore (${Ro}): ${r}`,...n)}}function gr(r,...t){if(sa.logLevel<=Pt.ERROR){const n=t.map(Vp);sa.error(`Firestore (${Ro}): ${r}`,...n)}}function ho(r,...t){if(sa.logLevel<=Pt.WARN){const n=t.map(Vp);sa.warn(`Firestore (${Ro}): ${r}`,...n)}}function Vp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,YT(r,s,n)}function YT(r,t,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||YT(t,o,s)}function wt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends vr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class KT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class RI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CI{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Li,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Li)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new KT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class II{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new II(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class kp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Lt(r,t){return r<t?-1:r>t?1:0}function Jm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Om(o)===Om(u)?Lt(o,u):Om(o)?1:-1}return Lt(r.length,t.length)}const OI=55296,MI=57343;function Om(r){const t=r.charCodeAt(0);return t>=OI&&t<=MI}function fo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const k0="__name__";class ki{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Lt(t.length,n.length)}static compareSegments(t,n){const s=ki.isNumericId(t),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(t).compare(ki.extractNumericId(n)):Jm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return os.fromString(t.substring(4,t.length-2))}}class ie extends ki{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends ki{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return VI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new tn([k0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ie.fromString(t))}static fromName(t){return new yt(ie.fromString(t).popFirst(5))}static empty(){return new yt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ie(t.slice()))}}function XT(r,t,n){if(!n)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function kI(r,t,n,s){if(t===!0&&s===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P0(r){if(!yt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L0(r){if(yt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $T(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Nn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Pe(r,t){const n={typeString:r};return t&&(n.value=t),n}function du(r,t){if(!$T(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(Z.INVALID_ARGUMENT,n);return!0}const U0=-62135596800,z0=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*z0);return new oe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<U0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(du(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-U0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Pe("string",oe._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new oe(0,0))}static max(){return new bt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function PI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new oe(n+1,0):new oe(n,s));return new cs(o,yt.empty(),t)}function LI(r){return new cs(r.readTime,r.key,Zl)}class cs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(bt.min(),yt.empty(),Zl)}static max(){return new cs(bt.max(),yt.empty(),Zl)}}function UI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Lt(r.largestBatchId,t.largestBatchId))}const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Co(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==zI)throw r;ht("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new it(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function BI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class Xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xh.ce=-1;const Pp=-1;function mu(r){return r==null}function Ih(r){return r===0&&1/r==-1/0}function qI(r){return typeof r=="number"&&Number.isInteger(r)&&!Ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const JT="";function HI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=j0(t)),t=FI(r.get(n),t);return j0(t)}function FI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case JT:n+="";break;default:n+=u}}return n}function j0(r){return r+JT+""}function B0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ys(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function WT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class fe{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ze(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(t){return new q0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new je(this.comparator);return n.data=t,n}}class q0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new je(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class ZT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZT("Invalid base64 string: "+u):u}})(t);return new en(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const GI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=GI.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const tb="server_timestamp",eb="__type__",nb="__previous_value__",ib="__local_write_time__";function Lp(r){return(r?.mapValue?.fields||{})[eb]?.stringValue===tb}function $h(r){const t=r.mapValue.fields[nb];return Lp(t)?$h(t):t}function tu(r){const t=hs(r.mapValue.fields[ib].timestampValue);return new oe(t.seconds,t.nanos)}class QI{constructor(t,n,s,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const xh="(default)";class eu{constructor(t,n){this.projectId=t,this.database=n||xh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(t){return t instanceof eu&&t.projectId===this.projectId&&t.database===this.database}}const rb="__type__",YI="__max__",eh={mapValue:{}},sb="__vector__",Dh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lp(r)?4:XI(r)?9007199254740991:KI(r)?10:11:vt(28295,{value:r})}function qi(r,t){if(r===t)return!0;const n=ds(r);if(n!==ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return tu(r).isEqual(tu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Se(o.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Se(o.integerValue)===Se(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Se(o.doubleValue),m=Se(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return fo(r.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(B0(f)!==B0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!qi(f[p],m[p])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function nu(r,t){return(r.values||[]).find((n=>qi(n,t)))!==void 0}function mo(r,t){if(r===t)return 0;const n=ds(r),s=ds(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Se(u.integerValue||u.doubleValue),p=Se(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return H0(r.timestampValue,t.timestampValue);case 4:return H0(tu(r),tu(t));case 5:return Jm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Lt(m[y],p[y]);if(E!==0)return E}return Lt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Lt(Se(u.latitude),Se(f.latitude));return m!==0?m:Lt(Se(u.longitude),Se(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return F0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Dh]?.arrayValue,E=p[Dh]?.arrayValue,T=Lt(y?.values?.length||0,E?.values?.length||0);return T!==0?T:F0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Jm(p[T],E[T]);if(w!==0)return w;const L=mo(m[p[T]],y[E[T]]);if(L!==0)return L}return Lt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function H0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const n=hs(r),s=hs(t),o=Lt(n.seconds,s.seconds);return o!==0?o:Lt(n.nanos,s.nanos)}function F0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Lt(n.length,s.length)}function po(r){return Wm(r)}function Wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return yt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Wm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Wm(n.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function fh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$h(r);return t?16+fh(t):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function G0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zm(r){return!!r&&"integerValue"in r}function Up(r){return!!r&&"arrayValue"in r}function Q0(r){return!!r&&"nullValue"in r}function Y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function KI(r){return(r?.mapValue?.fields||{})[rb]?.stringValue===sb}function Gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ys(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Gl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gl(r.arrayValue.values[n]);return t}return{...r}}function XI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YI}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gl(n)}setAll(t){let n=tn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ys(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new hn(Gl(this.value))}}function ab(r){const t=[];return ys(r.fields,((n,s)=>{const o=new tn([n]);if(dh(s)){const u=ab(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Dn(t)}class Qe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Qe(t,0,bt.min(),bt.min(),bt.min(),hn.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,bt.min(),bt.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,bt.min(),bt.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nh{constructor(t,n){this.position=t,this.inclusive=n}}function K0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function X0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qi(r.position[n],t.position[n]))return!1;return!0}class Oh{constructor(t,n="asc"){this.field=t,this.dir=n}}function $I(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class ob{}class ke extends ob{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new WI(t,n,s):n==="array-contains"?new ex(t,s):n==="in"?new nx(t,s):n==="not-in"?new ix(t,s):n==="array-contains-any"?new rx(t,s):new ke(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new ZI(t,s):new tx(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends ob{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new hi(t,n)}matches(t){return lb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lb(r){return r.op==="and"}function ub(r){return JI(r)&&lb(r)}function JI(r){for(const t of r.filters)if(t instanceof hi)return!1;return!0}function tp(r){if(r instanceof ke)return r.field.canonicalString()+r.op.toString()+po(r.value);if(ub(r))return r.filters.map((t=>tp(t))).join(",");{const t=r.filters.map((n=>tp(n))).join(",");return`${r.op}(${t})`}}function cb(r,t){return r instanceof ke?(function(s,o){return o instanceof ke&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(r,t):r instanceof hi?(function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&cb(f,o.filters[m])),!0):!1})(r,t):void vt(19439)}function hb(r){return r instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(hb).join(" ,")+"}"})(r):"Filter"}class WI extends ke{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class ZI extends ke{constructor(t,n){super(t,"in",n),this.keys=fb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class tx extends ke{constructor(t,n){super(t,"not-in",n),this.keys=fb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function fb(r,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class ex extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Up(n)&&nu(n.arrayValue,this.value)}}class nx extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class ix extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class rx extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class sx{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function $0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new sx(r,t,n,s,o,u,f)}function zp(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>tp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),mu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>po(s))).join(",")),t.Te=n}return t.Te}function jp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$I(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cb(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!X0(r.startAt,t.startAt)&&X0(r.endAt,t.endAt)}function ep(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class pu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ax(r,t,n,s,o,u,f,m){return new pu(r,t,n,s,o,u,f,m)}function Jh(r){return new pu(r)}function J0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function db(r){return r.collectionGroup!==null}function Ql(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new je(tn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Oh(u,s))})),n.has(tn.keyField().canonicalString())||t.Ie.push(new Oh(tn.keyField(),s))}return t.Ie}function Ui(r){const t=wt(r);return t.Ee||(t.Ee=ox(t,Ql(r))),t.Ee}function ox(r,t){if(r.limitType==="F")return $0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)}));const n=r.endAt?new Nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nh(r.startAt.position,r.startAt.inclusive):null;return $0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function np(r,t){const n=r.filters.concat([t]);return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ip(r,t,n){return new pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Wh(r,t){return jp(Ui(r),Ui(t))&&r.limitType===t.limitType}function mb(r){return`${zp(Ui(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>hb(o))).join(", ")}]`),mu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ui(r))}; limitType=${r.limitType})`}function Zh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=K0(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,m,p){const y=K0(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Ql(s),o))})(r,t)}function lx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pb(r){return(t,n)=>{let s=!1;for(const o of Ql(r)){const u=ux(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ux(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?mo(p,y):vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}class oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ys(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}const cx=new fe(yt.comparator);function yr(){return cx}const gb=new fe(yt.comparator);function zl(...r){let t=gb;for(const n of r)t=t.insert(n.key,n);return t}function yb(r){let t=gb;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ws(){return Yl()}function _b(){return Yl()}function Yl(){return new oa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hx=new fe(yt.comparator),fx=new je(yt.comparator);function Ut(...r){let t=fx;for(const n of r)t=t.add(n);return t}const dx=new je(Lt);function mx(){return dx}function Bp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(t)?"-0":t}}function vb(r){return{integerValue:""+r}}function px(r,t){return qI(t)?vb(t):Bp(r,t)}class tf{constructor(){this._=void 0}}function gx(r,t,n){return r instanceof iu?(function(o,u){const f={fields:{[eb]:{stringValue:tb},[ib]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=$h(u)),u&&(f.fields[nb]=u),{mapValue:f}})(n,t):r instanceof ru?Tb(r,t):r instanceof su?bb(r,t):(function(o,u){const f=Eb(o,u),m=W0(f)+W0(o.Ae);return Zm(f)&&Zm(o.Ae)?vb(m):Bp(o.serializer,m)})(r,t)}function yx(r,t,n){return r instanceof ru?Tb(r,t):r instanceof su?bb(r,t):n}function Eb(r,t){return r instanceof Mh?(function(s){return Zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class iu extends tf{}class ru extends tf{constructor(t){super(),this.elements=t}}function Tb(r,t){const n=Sb(t);for(const s of r.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends tf{constructor(t){super(),this.elements=t}}function bb(r,t){let n=Sb(t);for(const s of r.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class Mh extends tf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function W0(r){return Se(r.integerValue||r.doubleValue)}function Sb(r){return Up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _x{constructor(t,n){this.field=t,this.transform=n}}function vx(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?fo(s.elements,o.elements,qi):s instanceof Mh&&o instanceof Mh?qi(s.Ae,o.Ae):s instanceof iu&&o instanceof iu})(r.transform,t.transform)}class Ex{constructor(t,n){this.version=t,this.transformResults=n}}class an{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ef{}function Ab(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new nf(r.key,an.none()):new gu(r.key,r.data,an.none());{const n=r.data,s=hn.empty();let o=new je(tn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new Dn(o.toArray()),an.none())}}function Tx(r,t,n){r instanceof gu?(function(o,u,f){const m=o.value.clone(),p=tE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof _s?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=tE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(wb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Kl(r,t,n,s){return r instanceof gu?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const y=u.value.clone(),E=eE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof _s?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const y=eE(u.fieldTransforms,p,f),E=f.data;return E.setAll(wb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function bx(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=Eb(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function Z0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,f)=>vx(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class gu extends ef{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends ef{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wb(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function tE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,yx(f,m,n[o]))}return s}function eE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,gx(u,f,t))}return s}class nf extends ef{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rb extends ef{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sx{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Tx(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Kl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Kl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=_b();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Ab(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((n,s)=>Z0(n,s)))&&fo(this.baseMutations,t.baseMutations,((n,s)=>Z0(n,s)))}}class qp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return hx})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new qp(t,n,s,o)}}class Ax{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wx{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,qt;function Cb(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function Ib(r){if(r===void 0)return gr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ve.OK:return Z.OK;case Ve.CANCELLED:return Z.CANCELLED;case Ve.UNKNOWN:return Z.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return Z.INTERNAL;case Ve.UNAVAILABLE:return Z.UNAVAILABLE;case Ve.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ve.NOT_FOUND:return Z.NOT_FOUND;case Ve.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ve.ABORTED:return Z.ABORTED;case Ve.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ve.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(qt=Ve||(Ve={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function Rx(){return new TextEncoder}const Cx=new os([4294967295,4294967295],0);function nE(r){const t=Rx().encode(r),n=new BT;return n.update(t),new Uint8Array(n.digest())}function iE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Hp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=os.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(os.fromNumber(s)));return o.compare(Cx)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=nE(t),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Hp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=nE(t),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,yu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new rf(bt.min(),o,new fe(Lt),yr(),Ut())}}class yu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new yu(s,n,Ut(),Ut(),Ut())}}class ph{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class xb{constructor(t,n){this.targetId=t,this.Ce=n}}class Db{constructor(t,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class rE{constructor(){this.ve=0,this.Fe=sE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new yu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=sE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ix{constructor(t){this.Ge=t,this.ze=new Map,this.je=yr(),this.Je=nh(),this.He=nh(),this.Ye=new fe(Lt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ep(u))if(s===0){const f=new yt(u.path);this.et(n,f,Qe.newNoDocument(f,bt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof ZT)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hp(f,o,u)}catch(p){return ho(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ep(m.target)){const p=new yt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Qe.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ut();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new rf(t,n,this.Ye,this.je,s);return this.je=yr(),this.Je=nh(),this.He=nh(),this.Ye=new fe(Lt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new rE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new je(Lt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new je(Lt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function nh(){return new fe(yt.comparator)}function sE(){return new fe(yt.comparator)}const xx={asc:"ASCENDING",desc:"DESCENDING"},Dx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nx={and:"AND",or:"OR"};class Ox{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function rp(r,t){return r.useProto3Json||mu(t)?t:{value:t}}function Vh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Mx(r,t){return Vh(r,t.toTimestamp())}function On(r){return Ht(!!r,49232),bt.fromTimestamp((function(n){const s=hs(n);return new oe(s.seconds,s.nanos)})(r))}function Fp(r,t){return sp(r,t).canonicalString()}function sp(r,t){const n=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function Ob(r){const t=ie.fromString(r);return Ht(Ub(t),10190,{key:t.toString()}),t}function kh(r,t){return Fp(r.databaseId,t.path)}function Xl(r,t){const n=Ob(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(Vb(n))}function Mb(r,t){return Fp(r.databaseId,t)}function Vx(r){const t=Ob(r);return t.length===4?ie.emptyPath():Vb(t)}function ap(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Vb(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function aE(r,t,n){return{name:kh(r,t),fields:n.value.mapValue.fields}}function kx(r,t){return"found"in t?(function(s,o){Ht(!!o.found,43571),o.found.name,o.found.updateTime;const u=Xl(s,o.found.name),f=On(o.found.updateTime),m=o.found.createTime?On(o.found.createTime):bt.min(),p=new hn({mapValue:{fields:o.found.fields}});return Qe.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Ht(!!o.missing,3894),Ht(!!o.readTime,22933);const u=Xl(s,o.missing),f=On(o.readTime);return Qe.newNoDocument(u,f)})(r,t):vt(7234,{result:t})}function Px(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:Ib(y.code);return new ct(E,y.message||"")})(f);n=new Db(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Xl(r,s.document.name),u=On(s.document.updateTime),f=s.document.createTime?On(s.document.createTime):bt.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Xl(r,s.document),u=s.readTime?On(s.readTime):bt.min(),f=Qe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Xl(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new wx(o,u),m=s.targetId;n=new xb(m,f)}}return n}function kb(r,t){let n;if(t instanceof gu)n={update:aE(r,t.key,t.value)};else if(t instanceof nf)n={delete:kh(r,t.key)};else if(t instanceof _s)n={update:aE(r,t.key,t.data),updateMask:Gx(t.fieldMask)};else{if(!(t instanceof Rb))return vt(16599,{Vt:t.type});n={verify:kh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof iu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Mx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,t.precondition)),n}function Lx(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?On(o.updateTime):On(u);return f.isEqual(bt.min())&&(f=On(u)),new Ex(f,o.transformResults||[])})(n,t)))):[]}function Ux(r,t){return{documents:[Mb(r,t.path)]}}function zx(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Mb(r,o);const u=(function(y){if(y.length!==0)return Lb(hi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:no(w.field),direction:qx(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rp(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function jx(r){let t=Vx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=Pb(T);return w instanceof hi&&ub(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(H){return new Oh(io(H.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,mu(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,L=T.values||[];return new Nh(L,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,L=T.values||[];return new Nh(L,w)})(n.endAt)),ax(t,o,f,u,m,"F",p,y)}function Bx(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Pb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=io(n.unaryFilter.field);return ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return ke.create(io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((s=>Pb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(r):vt(30097,{filter:r})}function qx(r){return xx[r]}function Hx(r){return Dx[r]}function Fx(r){return Nx[r]}function no(r){return{fieldPath:r.canonicalString()}}function io(r){return tn.fromServerFormat(r.fieldPath)}function Lb(r){return r instanceof ke?(function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(Q0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(Q0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:Hx(n.op),value:n.value}}})(r):r instanceof hi?(function(n){const s=n.getFilters().map((o=>Lb(o)));return s.length===1?s[0]:{compositeFilter:{op:Fx(n.op),filters:s}}})(r):vt(54877,{filter:r})}function Gx(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Ub(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class is{constructor(t,n,s,o,u=bt.min(),f=bt.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Qx{constructor(t){this.yt=t}}function Yx(r){const t=jx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ip(t,t.limit,"L"):t}class Kx{constructor(){this.Cn=new Xx}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(cs.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(cs.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class Xx{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new je(ie.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new je(ie.comparator)).toArray()}}const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zb=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(zb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class go{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const lE="LruGarbageCollector",$x=1048576;function uE([r,t],[n,s]){const o=Lt(r,n);return o===0?Lt(t,s):o}class Jx{constructor(t){this.Ir=t,this.buffer=new je(uE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Wx{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(lE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?ht(lE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class Zx{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(Xh.ce);const s=new Jx(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(oE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),to()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function tD(r,t){return new Zx(r,t)}class eD{constructor(){this.changes=new oa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class iD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Kl(s.mutation,o,Dn.empty(),oe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const o=Ws();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=zl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ws();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=yr();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Kl(E.mutation,y,E.mutation.getFieldMask(),oe.now())):f.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new nD(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Yl();let o=new fe(((f,m)=>f-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Dn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=_b();E.forEach((w=>{if(!u.has(w)){const L=Ab(n.get(w),s.get(w));L!==null&&T.set(w,L),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return it.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):db(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):it.resolve(Ws());let m=Zl,p=u;return f.next((y=>it.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Ut()))).next((E=>({batchId:m,changes:yb(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(t,u).next((m=>it.forEach(m,(p=>{const y=(function(T,w){return new pu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Qe.newInvalidDocument(E)))}));let m=zl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,y,Dn.empty(),oe.now()),Zh(n,y)&&(m=m.insert(p,y))})),m}))}}class rD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:On(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Yx(o.bundledQuery),readTime:On(o.readTime)}})(n)),it.resolve()}}class sD{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ws();return it.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=Ws(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ws(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ws(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return it.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ax(n,s));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class aD{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class Gp{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ge(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ge(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ie([])),s=new Ge(n,t),o=new Ge(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ie([])),s=new Ge(n,t),o=new Ge(n,t+1);let u=Ut();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ge(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Lt(t.Yr,n.Yr)}static Kr(t,n){return Lt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class oD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Sx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ge(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(f)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ge(n,0),o=new Ge(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new je(Lt);return n.forEach((o=>{const u=new Ge(o,0),f=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ge(new yt(u),0);let m=new je(Lt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),it.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(o=>{const u=new Ge(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ge(n,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lD{constructor(t){this.ri=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qe.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=yr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||UI(LI(E),s)<=0||(o.has(E.key)||Zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new uD(this)}getSize(t){return it.resolve(this.size)}}class uD extends eD{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class cD{constructor(t){this.persistence=t,this.si=new oa((n=>zp(n)),jp),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Gp,this.targetCount=0,this.ai=go.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class jb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new aD,this.referenceDelegate=t(this),this.Pi=new cD(this),this.indexManager=new Kx,this.remoteDocumentCache=(function(o){return new lD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Qx(n),this.Ii=new rD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new oD(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new hD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class hD extends jI{constructor(t){super(),this.currentSequenceNumber=t}}class Qp{constructor(t){this.persistence=t,this.Ri=new Gp,this.Vi=null}static mi(t){return new Qp(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ph{constructor(t,n){this.persistence=t,this.pi=new oa((s=>HI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=tD(this,n)}static mi(t,n){return new Ph(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,bt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=fh(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Yp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yp(t,n.fromCache,s,o)}}class fD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rR()?8:BI(on())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new fD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(to()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(to()<=Pt.DEBUG&&ht("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(to()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(n))):it.resolve())}ys(t,n){if(J0(n))return it.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Ut(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(t,ip(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,s,o){return J0(n)||o.isEqual(bt.min())?it.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?it.resolve(null):(to()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(t,f,n,PI(o,Zl)).next((m=>m)))}))}Ds(t,n){let s=new je(pb(t));return n.forEach(((o,u)=>{Zh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return to()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(t,n,cs.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Kp="LocalStore",mD=3e8;class pD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(Lt),this.xs=new oa((u=>zp(u)),jp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function gD(r,t,n,s){return new pD(r,t,n,s)}async function Bb(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ut();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function yD(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let L=it.resolve();return w.forEach((H=>{L=L.next((()=>E.getEntry(p,H))).next((G=>{const B=y.docVersions.get(H);Ht(B!==null,48541),G.version.compareTo(B)<0&&(T.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function qb(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function _D(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?L=L.withResumeToken(en.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(G,B,J){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=mD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=yr(),y=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(vD(u,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(bt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return it.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function vD(r,t,n){let s=Ut(),o=Ut();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=yr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(Kp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function ED(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function TD(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new is(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function op(r,t,n){const s=wt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;ht(Kp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function cE(r,t,n){const s=wt(r);let o=bt.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=wt(p),w=T.xs.get(E);return w!==void 0?it.resolve(T.Ms.get(w)):T.Pi.getTargetData(y,E)})(s,f,Ui(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Ut()))).next((m=>(bD(s,lx(t),m),{documents:m,Qs:u})))))}function bD(r,t,n){let s=r.Os.get(t)||bt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class hE{constructor(){this.activeTargetIds=mx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SD{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AD{Oo(t){}shutdown(){}}const fE="ConnectivityMonitor";class dE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(fE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(fE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function lp(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const Mm="RestConnection",wD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=lp(),m=this.zo(t,n.toUriEncodedString());ht(Mm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=So(y);return this.Jo(t,m,p,s,E).then((T=>(ht(Mm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw ho(Mm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=wD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class CD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class ID extends RD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=lp();return new Promise(((m,p)=>{const y=new qT;y.setWithCredentials(!0),y.listenOnce(HT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case hh.NO_ERROR:const T=y.getResponseJson();ht(rn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case hh.TIMEOUT:ht(rn,`RPC '${t}' ${f} timed out`),p(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const w=y.getStatus();if(ht(rn,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const H=L?.error;if(H&&H.status&&H.message){const G=(function(J){const X=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN})(H.status);p(new ct(G,H.message))}else p(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(rn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(rn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=QT(),m=GT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(rn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let w=!1,L=!1;const H=new CD({Yo:B=>{L?ht(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(w||(ht(rn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),ht(rn,`RPC '${t}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),G=(B,J,X)=>{B.listen(J,(W=>{try{X(W)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return G(T,Ul.EventType.OPEN,(()=>{L||(ht(rn,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),G(T,Ul.EventType.CLOSE,(()=>{L||(L=!0,ht(rn,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(T))})),G(T,Ul.EventType.ERROR,(B=>{L||(L=!0,ho(rn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),H.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),G(T,Ul.EventType.MESSAGE,(B=>{if(!L){const J=B.data[0];Ht(!!J,16349);const X=J,W=X?.error||X[0]?.error;if(W){ht(rn,`RPC '${t}' stream ${o} received error:`,W);const rt=W.status;let ot=(function(I){const S=Ve[I];if(S!==void 0)return Ib(S)})(rt),dt=W.message;ot===void 0&&(ot=Z.INTERNAL,dt="Unknown error status: "+rt+" with message "+W.message),L=!0,H.a_(new ct(ot,dt)),T.close()}else ht(rn,`RPC '${t}' stream ${o} received:`,J),H.u_(J)}})),G(m,FT.STAT_EVENT,(B=>{B.stat===$m.PROXY?ht(rn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===$m.NOPROXY&&ht(rn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Vm(){return typeof document<"u"?document:null}function sf(r){return new Ox(r,!0)}class Xp{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mE="PersistentStream";class Hb{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(mE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xD extends Hb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Px(this.serializer,t),s=(function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?On(f.readTime):bt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ap(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ep(p)?{documents:Ux(u,p)}:{query:zx(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Nb(u,f.resumeToken);const y=rp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(bt.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const y=rp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=Bx(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ap(this.serializer),n.removeTarget=t,this.q_(n)}}class DD extends Hb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Lx(t.writeResults,t.commitTime),s=On(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ap(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>kb(this.serializer,s)))};this.q_(n)}}class ND{}class OD extends ND{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,sp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,sp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class VD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{la(this)&&(ht(aa,"Restarting streams for network reachability change."),await(async function(p){const y=wt(p);y.Ea.add(4),await _u(y),y.Ra.set("Unknown"),y.Ea.delete(4),await af(y)})(this))}))})),this.Ra=new MD(s,o)}}async function af(r){if(la(r))for(const t of r.da)await t(!0)}async function _u(r){for(const t of r.da)await t(!1)}function Fb(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Zp(n)?Wp(n):xo(n).O_()&&Jp(n,t))}function $p(r,t){const n=wt(r),s=xo(n);n.Ia.delete(t),s.O_()&&Gb(n,t),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Ra.set("Unknown"))}function Jp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xo(r).Y_(t)}function Gb(r,t){r.Va.Ue(t),xo(r).Z_(t)}function Wp(r){r.Va=new Ix({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.Ra.ua()}function Zp(r){return la(r)&&!xo(r).x_()&&r.Ia.size>0}function la(r){return wt(r).Ea.size===0}function Qb(r){r.Va=void 0}async function kD(r){r.Ra.set("Online")}async function PD(r){r.Ia.forEach(((t,n)=>{Jp(r,t)}))}async function LD(r,t){Qb(r),Zp(r)?(r.Ra.ha(t),Wp(r)):r.Ra.set("Unknown")}async function UD(r,t,n){if(r.Ra.set("Online"),t instanceof Db&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ht(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Lh(r,s)}else if(t instanceof ph?r.Va.Ze(t):t instanceof xb?r.Va.st(t):r.Va.tt(t),!n.isEqual(bt.min()))try{const s=await qb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),Gb(u,p);const T=new is(E.target,p,y,E.sequenceNumber);Jp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ht(aa,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,t,n){if(!Io(t))throw t;r.Ea.add(1),await _u(r),r.Ra.set("Offline"),n||(n=()=>qb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await af(r)}))}function Yb(r,t){return t().catch((n=>Lh(r,n,t)))}async function of(r){const t=wt(r),n=ms(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pp;for(;zD(t);)try{const o=await ED(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,jD(t,o)}catch(o){await Lh(t,o)}Kb(t)&&Xb(t)}function zD(r){return la(r)&&r.Ta.length<10}function jD(r,t){r.Ta.push(t);const n=ms(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Kb(r){return la(r)&&!ms(r).x_()&&r.Ta.length>0}function Xb(r){ms(r).start()}async function BD(r){ms(r).ra()}async function qD(r){const t=ms(r);for(const n of r.Ta)t.ea(n.mutations)}async function HD(r,t,n){const s=r.Ta.shift(),o=qp.from(s,t,n);await Yb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await of(r)}async function FD(r,t){t&&ms(r).X_&&await(async function(s,o){if((function(f){return Cb(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await Yb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(s)}})(r,t),Kb(r)&&Xb(r)}async function pE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ht(aa,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await _u(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await af(n)}async function GD(r,t){const n=wt(r);t?(n.Ea.delete(2),await af(n)):t||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function xo(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.sa(),new xD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:kD.bind(null,r),t_:PD.bind(null,r),r_:LD.bind(null,r),H_:UD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Zp(r)?Wp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Qb(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=wt(n);return u.sa(),new DD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BD.bind(null,r),r_:FD.bind(null,r),ta:qD.bind(null,r),na:HD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await of(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new tg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,t){if(gr("AsyncQueue",`${t}: ${r}`),Io(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class gE{constructor(){this.ga=new fe(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class yo{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(t,n,lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class QD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class YD{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=yE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function yE(){return new oa((r=>mb(r)),Wh)}async function ng(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new QD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=eg(f,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&rg(n)}async function ig(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function KD(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&rg(n)}function XD(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var up,_E;(_E=up||(up={})).Ma="default",_E.Cache="cache";class sg{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==up.Cache}}class $b{constructor(t){this.key=t}}class Jb{constructor(t){this.key=t}}class $D{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=pb(t),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new gE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),L=Zh(this.query,T)?T:null,H=!!w&&this.mutatedKeys.has(w.key),G=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let B=!1;w&&L?w.data.isEqual(L.data)?H!==G&&(s.track({type:3,doc:L}),B=!0):this.su(w,L)||(s.track({type:2,doc:L}),B=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),B=!0):w&&!L&&(s.track({type:1,doc:w}),B=!0,(p||y)&&(m=!0)),B&&(L?(f=f.add(L),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(L,H){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:B})}};return G(L)-G(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new yo(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Jb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new $b(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class JD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class WD{constructor(t){this.key=t,this.hu=!1}}class ZD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((m=>mb(m)),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new Gp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tN(r,t,n=!0){const s=iS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Wb(s,t,n,!0),o}async function eN(r,t){const n=iS(r);await Wb(n,t,!0,!1)}async function Wb(r,t,n,s){const o=await TD(r.localStore,Ui(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await nN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Fb(r.remoteStore,o),m}async function nN(r,t,n,s,o){r.pu=(T,w,L)=>(async function(G,B,J,X){let W=B.view.ru(J);W.Cs&&(W=await cE(G.localStore,B.query,!1).then((({documents:D})=>B.view.ru(D,W))));const rt=X&&X.targetChanges.get(B.targetId),ot=X&&X.targetMismatches.get(B.targetId)!=null,dt=B.view.applyChanges(W,G.isPrimaryClient,rt,ot);return EE(G,B.targetId,dt.au),dt.snapshot})(r,T,w,L);const u=await cE(r.localStore,t,!0),f=new $D(t,u.Qs),m=f.ru(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);EE(r,n,y.au);const E=new JD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function iN(r,t,n){const s=wt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Wh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$p(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(Co)):(cp(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function rN(r,t){const n=wt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$p(n.remoteStore,s.targetId))}async function sN(r,t,n){const s=fN(r);try{const o=await(function(f,m){const p=wt(f),y=oe.now(),E=m.reduce(((L,H)=>L.add(H.key)),Ut());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let H=yr(),G=Ut();return p.Ns.getEntries(L,E).next((B=>{H=B,H.forEach(((J,X)=>{X.isValidDocument()||(G=G.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,H))).next((B=>{T=B;const J=[];for(const X of m){const W=bx(X,T.get(X.key).overlayedDocument);W!=null&&J.push(new _s(X.key,W,ab(W.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,J,m)})).next((B=>{w=B;const J=B.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(L,B.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:yb(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new fe(Lt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await vu(s,o.changes),await of(s.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");n.reject(u)}}async function Zb(r,t){const n=wt(r);try{const s=await _D(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await vu(n,s,t)}catch(s){await Co(s)}}function vE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(y=!0)})),y&&rg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function aN(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new fe(yt.comparator);f=f.insert(u,Qe.newNoDocument(u,bt.min()));const m=Ut().add(u),p=new rf(bt.min(),new Map,new fe(Lt),f,m);await Zb(s,p),s.du=s.du.remove(u),s.Au.delete(t),og(s)}else await op(s.localStore,t,!1).then((()=>cp(s,t,n))).catch(Co)}async function oN(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await yD(n.localStore,t);eS(n,s,null),tS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await Co(o)}}async function lN(r,t,n){const s=wt(r);try{const o=await(function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ht(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);eS(s,t,n),tS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await vu(s,o)}catch(o){await Co(o)}}function tS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function eS(r,t,n){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function cp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||nS(r,s)}))}function nS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&($p(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),og(r))}function EE(r,t,n){for(const s of n)s instanceof $b?(r.Ru.addReference(s.key,t),uN(r,s)):s instanceof Jb?(ht(ag,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||nS(r,s.key)):vt(19791,{wu:s})}function uN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(ag,"New document in limbo: "+n),r.Eu.add(s),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new yt(ie.fromString(t)),s=r.fu.next();r.Au.set(s,new WD(n)),r.du=r.du.insert(n,s),Fb(r.remoteStore,new is(Ui(Jh(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function vu(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Yp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>it.forEach(y,(w=>it.forEach(w.Es,(L=>E.persistence.referenceDelegate.addReference(T,w.targetId,L))).next((()=>it.forEach(w.ds,(L=>E.persistence.referenceDelegate.removeReference(T,w.targetId,L)))))))))}catch(T){if(!Io(T))throw T;ht(Kp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const L=E.Ms.get(w),H=L.snapshotVersion,G=L.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(w,G)}}})(s.localStore,u))}async function cN(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ht(ag,"User change. New user:",t.toKey());const s=await Bb(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ct(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function hN(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function iS(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aN.bind(null,t),t.Pu.H_=KD.bind(null,t.eventManager),t.Pu.yu=XD.bind(null,t.eventManager),t}function fN(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lN.bind(null,t),t}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return gD(this.persistence,new dD,t.initialUser,this.serializer)}Cu(t){return new jb(Qp.mi,this.serializer)}Du(t){return new SD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class dN extends Uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Wx(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new jb((s=>Ph.mi(s,n)),this.serializer)}}class hp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cN.bind(null,this.syncEngine),await GD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new YD})()}createDatastore(t){const n=sf(t.databaseInfo.databaseId),s=(function(u){return new ID(u)})(t.databaseInfo);return(function(u,f,m,p){return new OD(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new VD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>vE(this.syncEngine,n,0)),(function(){return dE.v()?new dE:new AD})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const T=new ZD(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ht(aa,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};class lg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}class mN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=wt(o),m={documents:u.map((T=>kh(f.serializer,T)))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,ie.emptyPath(),m,u.length),y=new Map;p.forEach((T=>{const w=kx(f.serializer,T);y.set(w.key.toString(),w)}));const E=[];return u.forEach((T=>{const w=y.get(T.toString());Ht(!!w,55234,{key:T}),E.push(w)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new nf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=yt.fromPath(s);this.mutations.push(new Rb(o,this.precondition(o)))})),await(async function(s,o){const u=wt(s),f={writes:o.map((m=>kb(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,ie.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Gu:t.constructor.name});n=bt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ct(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(bt.min())?an.exists(!1):an.updateTime(n):an.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(bt.min()))throw new ct(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class pN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Xp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new mN(this.datastore),n=this.Hu(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const n=this.updateFunction(t);return!mu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Cb(n)}return!1}}const ps="FirestoreClient";class gN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=eg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function km(r,t){r.asyncQueue.verifyOperationInProgress(),ht(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Bb(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function TE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await yN(r);ht(ps,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>pE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>pE(t.remoteStore,o))),r._onlineComponents=t}async function yN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(ps,"Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await km(r,new Uh)}}else ht(ps,"Using default OfflineComponentProvider"),await km(r,new dN(void 0));return r._offlineComponents}async function ug(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(ps,"Using user provided OnlineComponentProvider"),await TE(r,r._uninitializedComponentsProvider._online)):(ht(ps,"Using default OnlineComponentProvider"),await TE(r,new hp))),r._onlineComponents}function _N(r){return ug(r).then((t=>t.syncEngine))}function vN(r){return ug(r).then((t=>t.datastore))}async function zh(r){const t=await ug(r),n=t.eventManager;return n.onListen=tN.bind(null,t.syncEngine),n.onUnlisten=iN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rN.bind(null,t.syncEngine),n}function EN(r,t,n={}){const s=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new lg({next:w=>{E.Nu(),f.enqueueAndForget((()=>ig(u,T)));const L=w.docs.has(m);!L&&w.fromCache?y.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&p&&p.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new sg(Jh(m.path),E,{includeMetadataChanges:!0,qa:!0});return ng(u,T)})(await zh(r),r.asyncQueue,t,n,s))),s.promise}function TN(r,t,n={}){const s=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new lg({next:w=>{E.Nu(),f.enqueueAndForget((()=>ig(u,T))),w.fromCache&&p.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new sg(m,E,{includeMetadataChanges:!0,qa:!0});return ng(u,T)})(await zh(r),r.asyncQueue,t,n,s))),s.promise}function rS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const bE=new Map;const sS="firestore.googleapis.com",SE=!0;class AE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=SE}else this.host=t.host,this.ssl=t.ssl??SE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$x)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wI;switch(s.type){case"firstParty":return new xI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),bE.delete(n),s.terminate())})(this),Promise.resolve()}}function bN(r,t,n,s={}){r=Nn(r,lf);const o=So(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(iT(`https://${m}`),rT("Firestore",!0)),u.host!==sS&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!na(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=sn.MOCK_USER;else{y=Xw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(T)}r._authCredentials=new RI(new KT(y,E))}}class ua{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class _e{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(du(n,_e._jsonSchema))return new _e(t,s||null,new yt(ie.fromString(n.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Pe("string",_e._jsonSchemaVersion),referencePath:Pe("string")};class ls extends ua{constructor(t,n,s){super(t,n,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new yt(t))}withConverter(t){return new ls(this.firestore,t,this._path)}}function li(r,t,...n){if(r=Be(r),XT("collection","path",t),r instanceof lf){const s=ie.fromString(t,...n);return L0(s),new ls(r,null,s)}{if(!(r instanceof _e||r instanceof ls))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return L0(s),new ls(r.firestore,null,s)}}function ui(r,t,...n){if(r=Be(r),arguments.length===1&&(t=kp.newId()),XT("doc","path",t),r instanceof lf){const s=ie.fromString(t,...n);return P0(s),new _e(r,null,new yt(s))}{if(!(r instanceof _e||r instanceof ls))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return P0(s),new _e(r.firestore,r instanceof ls?r.converter:null,new yt(s))}}const wE="AsyncQueue";class RE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xp(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&ht(wE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Io(t))throw t;ht(wE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",CE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=tg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function IE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class _r extends lf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RE(t),this._firestoreClient=void 0,await t}}}function SN(r,t){const n=typeof r=="object"?r:lT(),s=typeof r=="string"?r:xh,o=Sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Yw("firestore");u&&bN(o,...u)}return o}function Eu(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AN(r),r._firestoreClient}function AN(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new QI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new gN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(en.fromBase64String(t))}catch(n){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(du(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Pe("string",xn._jsonSchemaVersion),bytes:Pe("string")};class uf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cf{constructor(t){this._methodName=t}}class zi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(du(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Pe("string",zi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class ji{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(du(t,ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ji(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Pe("string",ji._jsonSchemaVersion),vectorValues:Pe("object")};const wN=/^__.*__$/;class RN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new _s(t,this.data,this.fieldMask,n,this.fieldTransforms):new gu(t,this.data,n,this.fieldTransforms)}}class aS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new _s(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function oS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class cg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return jh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(oS(this.Ac)&&wN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||sf(t)}Cc(t,n,s,o=!1){return new cg({Ac:t,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(r){const t=r._freezeSettings(),n=sf(r._databaseId);return new CN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function hg(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);dg("Data must be an object, but it was:",f,s);const m=lS(s,f);let p,y;if(u.merge)p=new Dn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=fp(t,T,n);if(!f.contains(w))throw new ct(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cS(E,w)||E.push(w)}p=new Dn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new RN(new hn(m),p,y)}class ff extends cf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ff}}class fg extends cf{_toFieldTransform(t){return new _x(t.path,new iu)}isEqual(t){return t instanceof fg}}function IN(r,t,n,s){const o=r.Cc(1,t,n);dg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();ys(s,((p,y)=>{const E=mg(t,p,n);y=Be(y);const T=o.yc(E);if(y instanceof ff)u.push(E);else{const w=Tu(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Dn(u);return new aS(f,m,o.fieldTransforms)}function xN(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[fp(t,s,n)],p=[o];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(fp(t,u[w])),p.push(u[w+1]);const y=[],E=hn.empty();for(let w=m.length-1;w>=0;--w)if(!cS(y,m[w])){const L=m[w];let H=p[w];H=Be(H);const G=f.yc(L);if(H instanceof ff)y.push(L);else{const B=Tu(H,G);B!=null&&(y.push(L),E.set(L,B))}}const T=new Dn(y);return new aS(E,T,f.fieldTransforms)}function DN(r,t,n,s=!1){return Tu(n,r.Cc(s?4:3,t))}function Tu(r,t){if(uS(r=Be(r)))return dg("Unsupported field value:",t,r),lS(r,t);if(r instanceof cf)return(function(s,o){if(!oS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Tu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return px(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=oe.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof oe){const u=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:Nb(o.serializer,s._byteString)};if(s instanceof _e){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(f,m){return{mapValue:{fields:{[rb]:{stringValue:sb},[Dh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Bp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Kh(s)}`)})(r,t)}function lS(r,t){const n={};return WT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ys(r,((s,o)=>{const u=Tu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function uS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof zi||r instanceof xn||r instanceof _e||r instanceof cf||r instanceof ji)}function dg(r,t,n){if(!uS(n)||!$T(n)){const s=Kh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function fp(r,t,n){if((t=Be(t))instanceof uf)return t._internalPath;if(typeof t=="string")return mg(r,t);throw jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const NN=new RegExp("[~\\*/\\[\\]]");function mg(r,t,n){if(t.search(NN)>=0)throw jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new uf(...t.split("."))._internalPath}catch{throw jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(Z.INVALID_ARGUMENT,m+r+p)}function cS(r,t){return r.some((n=>n.isEqual(t)))}class Bh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ON(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ON extends Bh{data(){return super.data()}}function pg(r,t){return typeof t=="string"?mg(r,t):t instanceof uf?t._internalPath:t._delegate._internalPath}function hS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class MN extends gg{}function df(r,t,...n){let s=[];t instanceof gg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof yg)).length,m=u.filter((p=>p instanceof mf)).length;if(f>1||f>0&&m>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class mf extends MN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new mf(t,n,s)}_apply(t){const n=this._parse(t);return fS(t._query,n),new ua(t.firestore,t.converter,np(t._query,n))}_parse(t){const n=hf(t.firestore);return(function(u,f,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){DE(T,E);const H=[];for(const G of T)H.push(xE(p,u,G));w={arrayValue:{values:H}}}else w=xE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||DE(T,E),w=DN(m,f,T,E==="in"||E==="not-in");return ke.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function _o(r,t,n){const s=t,o=pg("where",r);return mf._create(o,s,n)}class yg extends gg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new yg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)fS(f,p),f=np(f,p)})(t._query,n),new ua(t.firestore,t.converter,np(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xE(r,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!db(t)&&n.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!yt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G0(r,new yt(s))}if(n instanceof _e)return G0(r,n._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function DE(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dS{convertValue(t,n="none"){switch(ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ys(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Dh].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new ji(n)}convertGeoPoint(t){return new zi(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=$h(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(t));default:return null}}convertTimestamp(t){const n=hs(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);Ht(Ub(s),9688,{name:t});const o=new eu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function _g(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class VN extends dS{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}class ro{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class us extends Bh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(pg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:Pe("string",us._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class gh extends us{data(t={}){return super.data(t)}}class ea{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:kN(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ea._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function yh(r){r=Nn(r,_e);const t=Nn(r.firestore,_r);return EN(Eu(t),r._key).then((n=>mS(t,r,n)))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Pe("string",ea._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class pf extends dS{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}function gf(r){r=Nn(r,ua);const t=Nn(r.firestore,_r),n=Eu(t),s=new pf(t);return hS(r._query),TN(n,r._query).then((o=>new ea(t,s,r,o)))}function Bl(r,t,n){r=Nn(r,_e);const s=Nn(r.firestore,_r),o=_g(r.converter,t,n);return vg(s,[hg(hf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,an.none())])}function Pm(r){return vg(Nn(r.firestore,_r),[new nf(r._key,an.none())])}function PN(r,t){const n=Nn(r.firestore,_r),s=ui(r),o=_g(r.converter,t);return vg(n,[hg(hf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,an.exists(!1))]).then((()=>s))}function Zs(r,...t){r=Be(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||IE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof _e)f=Nn(r.firestore,_r),m=Jh(r._key.path),u={next:p=>{t[s]&&t[s](mS(f,r,p))},error:t[s+1],complete:t[s+2]};else{const p=Nn(r,ua);f=Nn(p.firestore,_r),m=p._query;const y=new pf(f);u={next:E=>{t[s]&&t[s](new ea(f,y,p,E))},error:t[s+1],complete:t[s+2]},hS(r._query)}return(function(y,E,T,w){const L=new lg(w),H=new sg(E,L,T);return y.asyncQueue.enqueueAndForget((async()=>ng(await zh(y),H))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>ig(await zh(y),H)))}})(Eu(f),m,o,u)}function vg(r,t){return(function(s,o){const u=new Li;return s.asyncQueue.enqueueAndForget((async()=>sN(await _N(s),o,u))),u.promise})(Eu(r),t)}function mS(r,t,n){const s=n.docs.get(t._key),o=new pf(r);return new us(r,o,t._key,s,new ro(n.hasPendingWrites,n.fromCache),t.converter)}const LN={maxAttempts:5};function ql(r,t){if((r=Be(r)).firestore!==t)throw new ct(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class UN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=hf(t)}get(t){const n=ql(t,this._firestore),s=new VN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new Bh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Bh(this._firestore,s,n._key,null,n.converter);throw vt(18433,{doc:u})}))}set(t,n,s){const o=ql(t,this._firestore),u=_g(o.converter,n,s),f=hg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=ql(t,this._firestore);let f;return f=typeof(n=Be(n))=="string"||n instanceof uf?xN(this._dataReader,"Transaction.update",u._key,n,s,o):IN(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=ql(t,this._firestore);return this._transaction.delete(n._key),this}}class zN extends UN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=ql(t,this._firestore),s=new pf(this._firestore);return super.get(t).then((o=>new us(this._firestore,s,n._key,o._document,new ro(!1,!1),n.converter)))}}function jN(r,t,n){r=Nn(r,_r);const s={...LN,...n};return(function(u){if(u.maxAttempts<1)throw new ct(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Li;return u.asyncQueue.enqueueAndForget((async()=>{const y=await vN(u);new pN(u.asyncQueue,y,m,f,p).ju()})),p.promise})(Eu(r),(o=>t(new zN(r,o))),s)}function hr(){return new fg("serverTimestamp")}(function(t,n=!0){(function(o){Ro=o})(Ao),uo(new ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _r(new CI(s.getProvider("auth-internal")),new DI(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),as(O0,M0,t),as(O0,M0,"esm2020")})();const BN={apiKey:"AIzaSyDYdiJjDRBA9nGPj8LGDxAE4O6o6Qlyx68",authDomain:"labyrinth-6dc4f.firebaseapp.com",projectId:"labyrinth-6dc4f",storageBucket:"labyrinth-6dc4f.firebasestorage.app",messagingSenderId:"912154260516",appId:"1:912154260516:web:e118702708fb452fde14b1"},pS=oT(BN),Lm=TI(pS),qN=new lr,ye=SN(pS),gS=P.createContext(),Do=()=>{const r=P.useContext(gS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},HN=({children:r})=>{const[t,n]=P.useState(null),[s,o]=P.useState(!0);P.useEffect(()=>u2(Lm,y=>{n(y),o(!1)}),[]);const m={user:t,loading:s,loginWithGoogle:async()=>{try{return(await D2(Lm,qN)).user}catch(p){throw console.error("Google login error:",p),p}},logout:async()=>{try{await c2(Lm)}catch(p){throw console.error("Logout error:",p),p}},isAuthenticated:!!t};return C.jsx(gS.Provider,{value:m,children:!s&&r})},yS=P.createContext(),yf=()=>{const r=P.useContext(yS);if(!r)throw new Error("useMedia must be used within a MediaProvider");return r},FN=({children:r})=>{const[t,n]=P.useState(null),[s,o]=P.useState(!1),[u,f]=P.useState(!0),[m,p]=P.useState(!1),[y,E]=P.useState(null),T=P.useRef(null),w=P.useRef(null),L=P.useCallback(async(rt,ot=null)=>{try{const dt=rt==="video"?{video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:15},facingMode:"user",...ot&&{deviceId:{exact:ot}}}}:{audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,...ot&&{deviceId:{exact:ot}}}};return(await navigator.mediaDevices.getUserMedia(dt)).getTracks()[0]}catch(dt){if(console.error(`Error getting ${rt} track:`,dt),rt==="video"&&dt.name==="NotReadableError")return console.log("Camera busy, creating test video track for localhost testing"),H();throw dt}},[]),H=()=>{const rt=document.createElement("canvas");rt.width=640,rt.height=480;const ot=rt.getContext("2d"),dt=ot.createLinearGradient(0,0,640,480);return dt.addColorStop(0,"#8b5cf6"),dt.addColorStop(1,"#3b82f6"),ot.fillStyle=dt,ot.fillRect(0,0,640,480),ot.fillStyle="white",ot.font="30px Arial",ot.textAlign="center",ot.fillText("Test Video",320,240),ot.font="20px Arial",ot.fillText("Localhost Mode",320,280),rt.captureStream(15).getVideoTracks()[0]},G=P.useCallback(async(rt={})=>{p(!0),E(null);try{console.log("Initializing media with options:",rt),T.current&&(T.current.stop(),T.current=null),w.current&&(w.current.stop(),w.current=null);const ot=new MediaStream;if(rt.video!==!1)try{T.current=await L("video"),ot.addTrack(T.current),o(!0),console.log("Video track added")}catch(dt){console.warn("Could not get video track:",dt),o(!1)}else o(!1);if(rt.audio!==!1)try{w.current=await L("audio"),ot.addTrack(w.current),f(!0),console.log("Audio track added")}catch(dt){console.warn("Could not get audio track:",dt),f(!1)}else f(!1);return n(ot),console.log("Media initialized:",{hasVideo:!!T.current,hasAudio:!!w.current}),ot}catch(ot){throw console.error("Error initializing media:",ot),E(`Failed to initialize media: ${ot.message}`),ot}finally{p(!1)}},[L]),B=P.useCallback(async()=>{p(!0);try{if(s){console.log("Turning camera OFF..."),T.current&&(T.current.stop(),T.current=null);const rt=new MediaStream;w.current&&rt.addTrack(w.current),n(rt),o(!1),console.log("Camera turned OFF")}else{console.log("Turning camera ON...");try{T.current=await L("video");const rt=new MediaStream;w.current&&rt.addTrack(w.current),rt.addTrack(T.current),n(rt),o(!0),console.log("Camera turned ON")}catch(rt){console.error("Failed to enable camera:",rt),E("Cannot enable camera");return}}}catch(rt){console.error("Error toggling camera:",rt),E(`Failed to toggle camera: ${rt.message}`)}finally{p(!1)}},[s,L]),J=P.useCallback(async()=>{p(!0);try{if(u){console.log("Muting microphone..."),w.current&&(w.current.stop(),w.current=null);const rt=new MediaStream;T.current&&rt.addTrack(T.current),n(rt),f(!1),console.log("Microphone MUTED")}else{console.log("Unmuting microphone...");try{w.current=await L("audio");const rt=new MediaStream;T.current&&rt.addTrack(T.current),rt.addTrack(w.current),n(rt),f(!0),console.log("Microphone UNMUTED")}catch(rt){console.error("Failed to enable microphone:",rt),E("Cannot enable microphone");return}}}catch(rt){console.error("Error toggling microphone:",rt),E(`Failed to toggle microphone: ${rt.message}`)}finally{p(!1)}},[u,L]),X=P.useCallback(()=>{T.current&&(T.current.stop(),T.current=null),w.current&&(w.current.stop(),w.current=null),n(null),o(!1),f(!1)},[]);zm.useEffect(()=>{(async()=>{try{await G({video:!0,audio:!0})}catch{console.log("Auto-initialize failed, user will need to manually enable")}})()},[G]),zm.useEffect(()=>()=>{X()},[X]);const W={localStream:t,isCameraOn:s,isMicOn:u,isLoading:m,error:y,initializeMedia:G,toggleCamera:B,toggleMicrophone:J,stopMedia:X};return C.jsx(yS.Provider,{value:W,children:r})},GN=()=>Math.floor(1e5+Math.random()*9e5).toString(),QN=async r=>{const t=li(ye,"rooms"),n=df(t,_o("roomCode","==",r));return(await gf(n)).empty},YN=async(r,t)=>{try{let n,s=!1;for(let f=0;f<5&&(n=GN(),s=await QN(n),!s);f++);if(!s)throw new Error("Could not generate unique room code. Please try again.");const o={name:r.name||`${t.displayName}'s Room`,maxParticipants:Math.min(Math.max(r.maxParticipants,2),10),currentParticipants:1,hostId:t.uid,hostName:t.displayName,hostPhotoURL:t.photoURL||"",createdAt:hr(),lastActivity:hr(),isActive:!0,status:"waiting",roomCode:n},u=await PN(li(ye,"rooms"),o);return await Bl(ui(ye,"rooms",u.id,"participants",t.uid),{name:t.displayName,email:t.email,photoURL:t.photoURL||"",joinedAt:hr(),isHost:!0,isActive:!0}),{id:u.id,...o,roomCode:n}}catch(n){throw console.error("Error creating room:",n),n}},_h=async r=>{try{const t=ui(ye,"rooms",r),n=await yh(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){throw console.error("Error getting room:",t),t}},KN=async r=>{try{const t=li(ye,"rooms"),n=df(t,_o("roomCode","==",r)),s=await gf(n);if(!s.empty){const o=s.docs[0];return{id:o.id,...o.data()}}return null}catch(t){throw console.error("Error getting room by code:",t),t}},XN=async()=>{try{const r=li(ye,"rooms"),t=df(r,_o("isActive","==",!0),_o("status","in",["waiting","active"]));return(await gf(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){throw console.error("Error getting active rooms:",r),r}},Um=async r=>{try{const t=li(ye,"rooms",r,"participants");return(await gf(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting participants:",t),t}},$N=async(r,t)=>{try{console.log("=== JOIN ROOM ATTEMPT ==="),console.log(`User: ${t.uid} (${t.displayName})`),console.log(`Room: ${r}`);const n=ui(ye,"rooms",r,"participants",t.uid);if((await yh(n)).exists())return console.log("User already a participant, skipping join"),{alreadyJoined:!0};const o=ui(ye,"rooms",r),u=await yh(o);if(!u.exists())throw new Error("Room not found");const f=u.data();if(console.log("Current room state:",f),f.currentParticipants>=f.maxParticipants)throw console.log("Room is full, cannot join"),new Error("Room is full");return console.log("Starting transaction to join room..."),await jN(ye,async m=>{const p=await m.get(o);if(!p.exists())throw new Error("Room not found");const y=p.data();if(console.log("Fresh room data in transaction:",y),y.currentParticipants>=y.maxParticipants)throw new Error("Room is now full");if((await m.get(n)).exists()){console.log("User already joined (race condition detected)");return}m.set(n,{name:t.displayName,email:t.email,photoURL:t.photoURL||"",joinedAt:hr(),isHost:!1,isActive:!0}),m.update(o,{currentParticipants:y.currentParticipants+1,lastActivity:hr()}),console.log("Transaction successful - user joined")}),console.log("=== JOIN SUCCESSFUL ==="),{success:!0}}catch(n){console.error("Join room error:",n);try{if((await yh(ui(ye,"rooms",r,"participants",t.uid))).exists())return console.log("User was added despite error (race condition)"),{alreadyJoined:!0}}catch(s){console.error("Final check error:",s)}throw n}},JN=(r,t)=>{try{const n=ui(ye,"rooms",r);return console.log(`Setting up room listener for: ${r}`),Zs(n,o=>{if(console.log(`Room snapshot received for ${r}:`,o.exists()),o.exists()){const u={id:o.id,...o.data()};console.log("Room data:",u),t(u)}else console.log("Room does not exist"),t(null)},o=>{console.error("Error in room listener:",o),t(null,o)})}catch(n){throw console.error("Error setting up room listener:",n),n}},WN=(r,t)=>{try{const n=li(ye,"rooms",r,"participants");return console.log(`Setting up participants listener for room: ${r}`),Zs(n,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));console.log(`Participants snapshot: ${u.length} participants`),t(u)},o=>{console.error("Error in participants listener:",o),t([],o)})}catch(n){throw console.error("Error setting up participants listener:",n),n}},ZN=r=>{try{const t=li(ye,"rooms"),n=df(t,_o("isActive","==",!0),_o("status","in",["waiting","active"]));return Zs(n,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));r(u)},o=>{console.error("Error listening to active rooms:",o)})}catch(t){throw console.error("Error setting up active rooms listener:",t),t}},_S=P.createContext(),Eg=()=>{const r=P.useContext(_S);if(!r)throw new Error("useRoom must be used within a RoomProvider");return r},tO=({children:r})=>{const{user:t}=Do(),[n,s]=P.useState([]),[o,u]=P.useState(null),[f,m]=P.useState(!1),[p,y]=P.useState(null),E=async J=>{if(!t)throw new Error("User must be logged in");m(!0),y(null);try{const X=await YN(J,t);return s(W=>[X,...W]),u(X),X}catch(X){throw y(X.message),X}finally{m(!1)}},T=async()=>{m(!0);try{const J=await XN();return s(J),J}catch(J){throw y(J.message),J}finally{m(!1)}},w=async J=>{m(!0);try{const X=await _h(J);if(!X||!X.isActive)throw new Error("Room not found or inactive");return u(X),X}catch(X){throw y(X.message),X}finally{m(!1)}},L=async J=>{m(!0);try{const X=await KN(J);if(!X||!X.isActive)throw new Error("Room not found or inactive");return u(X),X}catch(X){throw y(X.message),X}finally{m(!1)}},H=()=>{u(null)},G=()=>{y(null)};P.useEffect(()=>{t&&T()},[t]);const B={rooms:n,currentRoom:o,loading:f,error:p,createRoom:E,fetchActiveRooms:T,joinRoomById:w,joinRoomByCode:L,leaveRoom:H,clearError:G,setCurrentRoom:u};return C.jsx(_S.Provider,{value:B,children:r})},vS=P.createContext(),eO=()=>{const r=P.useContext(vS);if(!r)throw new Error("usePeer must be used within a PeerProvider");return r},nO=({children:r})=>{const{user:t}=Do(),{localStream:n}=yf(),{currentRoom:s}=Eg(),[o,u]=P.useState({}),[f,m]=P.useState("idle"),[p,y]=P.useState(0),E=P.useRef({}),T=P.useRef(null),w=P.useRef([]),L={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"}]},H=P.useCallback(()=>{console.log("Cleaning up peer connections"),Object.values(E.current).forEach(S=>{S&&S.signalingState!=="closed"&&S.close()}),E.current={},w.current.forEach(S=>S()),w.current=[],u({}),m("idle"),y(0),console.log("Peer cleanup complete")},[]),G=P.useCallback(async S=>{if(!t||!S)return;console.log("Initializing signaling for room:",S);const x=ui(ye,"rooms",S,"signaling",t.uid);try{await Bl(x,{userId:t.uid,userName:t.displayName,isOnline:!0,lastSeen:hr(),status:"waiting"}),console.log("Signaling document created for user:",t.uid)}catch(R){console.error("Error creating signaling document:",R)}},[t]),B=P.useCallback((S,x)=>{console.log("Creating peer connection to:",S);try{const R=new RTCPeerConnection(L);return E.current[S]=R,T.current&&T.current.getTracks().forEach(M=>{R.addTrack(M,T.current)}),R.ontrack=M=>{console.log("Received remote track from:",S);const N=M.streams[0];N&&u(Et=>({...Et,[S]:{...Et[S],stream:N,connectionState:R.connectionState||"connected",userData:x}}))},R.onicecandidate=M=>{M.candidate&&(console.log("New ICE candidate for:",S),J(S,M.candidate))},R.onconnectionstatechange=()=>{console.log(`Connection state with ${S}:`,R.connectionState),u(M=>({...M,[S]:{...M[S],connectionState:R.connectionState}})),R.connectionState==="connected"?(console.log(` Connected to ${S}`),m("connected")):(R.connectionState==="disconnected"||R.connectionState==="failed"||R.connectionState==="closed")&&(console.log(` Connection lost with ${S}`),E.current[S]&&delete E.current[S],u(M=>{const N={...M};return delete N[S],N}))},R.oniceconnectionstatechange=()=>{console.log(`ICE connection state with ${S}:`,R.iceConnectionState)},console.log("Peer connection created for:",S),R}catch(R){return console.error("Error creating peer connection:",R),null}},[]),J=P.useCallback(async(S,x)=>{if(!(!s?.id||!t))try{const R=ui(ye,"rooms",s.id,"signaling",t.uid,"candidates",Date.now().toString());await Bl(R,{to:S,from:t.uid,candidate:JSON.stringify(x.toJSON()),timestamp:hr()}),console.log("ICE candidate sent to:",S)}catch(R){console.error("Error sending ICE candidate:",R)}},[s?.id,t]),X=P.useCallback(async(S,x)=>{if(!(!s?.id||!t))try{const R=ui(ye,"rooms",s.id,"signaling",t.uid,"offers",S);await Bl(R,{to:S,from:t.uid,sdp:JSON.stringify(x),timestamp:hr()}),console.log("Offer sent to:",S)}catch(R){console.error("Error sending offer:",R)}},[s?.id,t]),W=P.useCallback(async(S,x)=>{if(!(!s?.id||!t))try{const R=ui(ye,"rooms",s.id,"signaling",t.uid,"answers",S);await Bl(R,{to:S,from:t.uid,sdp:JSON.stringify(x),timestamp:hr()}),console.log("Answer sent to:",S)}catch(R){console.error("Error sending answer:",R)}},[s?.id,t]),rt=P.useCallback(async(S,x)=>{console.log("Handling incoming offer from:",S);try{let R=E.current[S];if(!R&&(R=B(S,{id:S,name:"Remote User"}),!R))return;await R.setRemoteDescription(new RTCSessionDescription(x));const M=await R.createAnswer();await R.setLocalDescription(M),await W(S,M),console.log("Answer created and sent to:",S)}catch(R){console.error("Error handling incoming offer:",R)}},[B,W]),ot=P.useCallback(async(S,x)=>{console.log("Handling incoming answer from:",S);const R=E.current[S];if(!R){console.error("No peer connection found for:",S);return}try{await R.setRemoteDescription(new RTCSessionDescription(x)),console.log("Remote description set for:",S)}catch(M){console.error("Error setting remote description:",M)}},[]),dt=P.useCallback(async(S,x)=>{console.log("Handling incoming ICE candidate from:",S);const R=E.current[S];if(!R){console.error("No peer connection found for ICE candidate:",S);return}try{await R.addIceCandidate(new RTCIceCandidate(x)),console.log("ICE candidate added for:",S)}catch(M){console.error("Error adding ICE candidate:",M)}},[]),D=P.useCallback(async(S,x)=>{if(!(!t||t.uid===S)){console.log("Connecting to user:",S),m("connecting");try{const R=B(S,x);if(!R)throw new Error("Failed to create peer connection");const M=await R.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await R.setLocalDescription(M),await X(S,M),console.log("Offer created and sent to:",S)}catch(R){console.error("Error connecting to user:",R),m("error")}}},[t,B,X]);P.useEffect(()=>{if(!s?.id||!t||!n)return;console.log("Setting up peer connections for room:",s.id),T.current=n,m("connecting"),G(s.id);const S=li(ye,"rooms",s.id,"participants"),x=Zs(S,R=>{R.docs.map(Et=>({id:Et.id,...Et.data()})).filter(Et=>Et.id!==t.uid&&!E.current[Et.id]).forEach(Et=>{console.log("Found new participant:",Et.id),D(Et.id,Et)})});return w.current.push(x),()=>{H()}},[s?.id,t,n,G,D,H]),P.useEffect(()=>{if(!s?.id||!t)return;console.log("Setting up signaling listeners");const S=li(ye,"rooms",s.id,"signaling",t.uid,"offers"),x=Zs(S,jt=>{jt.docChanges().forEach(Y=>{if(Y.type==="added"){const st=Y.doc.data();if(st.to===t.uid){const pt=JSON.parse(st.sdp);rt(st.from,pt),Pm(Y.doc.ref)}}})}),R=li(ye,"rooms",s.id,"signaling",t.uid,"answers"),M=Zs(R,jt=>{jt.docChanges().forEach(Y=>{if(Y.type==="added"){const st=Y.doc.data();if(st.to===t.uid){const pt=JSON.parse(st.sdp);ot(st.from,pt),Pm(Y.doc.ref)}}})}),N=li(ye,"rooms",s.id,"signaling",t.uid,"candidates"),Et=Zs(N,jt=>{jt.docChanges().forEach(Y=>{if(Y.type==="added"){const st=Y.doc.data();if(st.to===t.uid){const pt=JSON.parse(st.candidate);dt(st.from,pt),Pm(Y.doc.ref)}}})});return w.current.push(x,M,Et),()=>{[x,M,Et].forEach(jt=>jt&&jt())}},[s?.id,t,rt,ot,dt]),P.useEffect(()=>{const S=Object.keys(o).length;y(S),S>0&&f!=="connected"&&m("connected")},[o,f]);const I={peers:o,connectionStatus:f,activeConnections:p,connectToUser:D,cleanup:H};return C.jsx(vS.Provider,{value:I,children:r})},NE=({children:r})=>{const{user:t,loading:n}=Do();return n?C.jsx("div",{className:"flex-center",style:{minHeight:"100vh",backgroundColor:"var(--bg-dark)"},children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"spinner"}),C.jsx("p",{style:{marginTop:"1rem",color:"var(--text-light)"},children:"Loading Labyrinth..."})]})}):t?r:C.jsx(iw,{to:"/",replace:!0})},iO=()=>{const{loginWithGoogle:r}=Do(),t=bo(),[n,s]=zm.useState(!1),o=async()=>{s(!0);try{await r(),t("/dashboard")}catch(u){console.error("Login failed:",u),alert("Login failed. Please try again.")}finally{s(!1)}};return C.jsx("div",{style:{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, var(--primary-darker) 0%, var(--primary-dark) 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--space-md)"},children:C.jsxs("div",{style:{background:"var(--bg-card)",backdropFilter:"blur(20px)",borderRadius:"var(--radius-xl)",border:"1px solid var(--border-medium)",padding:"var(--space-xl)",width:"90%",maxWidth:"400px",boxShadow:"var(--shadow-xl)",margin:"0 auto"},children:[C.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-xl)"},children:[C.jsx("h1",{style:{fontSize:"3rem",fontWeight:"700",background:"linear-gradient(135deg, var(--primary-purple), var(--accent-pink))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:"var(--space-xs)",letterSpacing:"1px"},children:"Labyrinth"}),C.jsx("p",{style:{color:"var(--text-gray)",fontSize:"1.1rem",fontWeight:"300"},children:"Video Chat Maze"})]}),C.jsxs("div",{style:{textAlign:"center"},children:[C.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",marginBottom:"var(--space-sm)",color:"var(--text-light)"},children:"Welcome to Labyrinth"}),C.jsx("p",{style:{color:"var(--text-gray)",marginBottom:"var(--space-lg)",fontSize:"1rem",lineHeight:"1.5"},children:"Enter the maze of conversations. Connect, collaborate, and converse."}),C.jsx("button",{onClick:o,disabled:n,style:{width:"100%",background:"white",color:"#333",border:"none",padding:"var(--space-md)",borderRadius:"var(--radius-md)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)",transition:"all 0.2s ease",boxShadow:"var(--shadow-md)",opacity:n?.6:1},onMouseOver:u=>{n||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="var(--shadow-lg)")},onMouseOut:u=>{n||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="var(--shadow-md)")},children:n?C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid rgba(0, 0, 0, 0.1)",borderTopColor:"#333",borderRadius:"50%",animation:"spin 1s linear infinite"}}),C.jsx("span",{children:"Signing in..."})]}):C.jsxs(C.Fragment,{children:[C.jsxs("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:[C.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),C.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),C.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),C.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),C.jsx("span",{children:"Continue with Google"})]})}),C.jsx("div",{style:{marginTop:"var(--space-lg)",paddingTop:"var(--space-md)",borderTop:"1px solid var(--border-light)"},children:C.jsx("p",{style:{color:"var(--text-gray)",fontSize:"0.9rem",lineHeight:"1.4"},children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})]})})},rO=({isOpen:r,onClose:t})=>{const{createRoom:n,loading:s}=Eg(),o=bo(),[u,f]=P.useState({name:"",maxParticipants:4}),[m,p]=P.useState("");if(!r)return null;const y=async T=>{if(T.preventDefault(),p(""),u.maxParticipants<2||u.maxParticipants>10){p("Participants must be between 2 and 10");return}try{const w=await n(u);t(),o(`/room/${w.id}`)}catch(w){p(w.message||"Failed to create room")}},E=T=>{const{name:w,value:L}=T.target;f(H=>({...H,[w]:w==="maxParticipants"?parseInt(L)||2:L}))};return C.jsx("div",{style:pe.overlay,children:C.jsxs("div",{style:pe.modal,children:[C.jsxs("div",{style:pe.header,children:[C.jsx("h2",{style:pe.title,children:"Create New Room"}),C.jsx("button",{onClick:t,style:pe.closeButton,children:""})]}),C.jsxs("form",{onSubmit:y,style:pe.form,children:[C.jsx("div",{style:pe.formGroup,children:C.jsxs("label",{style:pe.label,children:["Room Name (Optional)",C.jsx("input",{type:"text",name:"name",value:u.name,onChange:E,placeholder:"Enter room name",style:pe.input,maxLength:30})]})}),C.jsx("div",{style:pe.formGroup,children:C.jsxs("label",{style:pe.label,children:["Maximum Participants: ",u.maxParticipants,C.jsxs("div",{style:pe.sliderContainer,children:[C.jsx("input",{type:"range",name:"maxParticipants",min:"2",max:"10",value:u.maxParticipants,onChange:E,style:pe.slider}),C.jsxs("div",{style:pe.sliderLabels,children:[C.jsx("span",{children:"2"}),C.jsx("span",{children:"10"})]})]}),C.jsx("div",{style:pe.participantHint,children:u.maxParticipants===10?"Max capacity (10 participants)":`${u.maxParticipants} participants maximum`})]})}),m&&C.jsx("div",{style:pe.error,children:m}),C.jsxs("div",{style:pe.buttonGroup,children:[C.jsx("button",{type:"button",onClick:t,style:pe.cancelButton,disabled:s,children:"Cancel"}),C.jsx("button",{type:"submit",style:pe.createButton,disabled:s,children:s?C.jsxs(C.Fragment,{children:[C.jsx("div",{style:pe.spinner}),"Creating..."]}):"Create Room"})]})]}),C.jsx("div",{style:pe.note,children:C.jsxs("p",{style:pe.noteText,children:[C.jsx("strong",{children:"Note:"})," You'll become the host of this room. You can invite others using the room code that will be generated."]})})]})})},pe={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{backgroundColor:"var(--bg-card)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-medium)",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"var(--shadow-xl)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-lg)",borderBottom:"1px solid var(--border-light)"},title:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-light)",margin:0},closeButton:{background:"none",border:"none",fontSize:"2rem",color:"var(--text-gray)",cursor:"pointer",padding:"0",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease"},form:{padding:"var(--space-lg)"},formGroup:{marginBottom:"var(--space-lg)"},label:{display:"block",color:"var(--text-light)",marginBottom:"var(--space-sm)",fontSize:"0.95rem",fontWeight:"500"},input:{width:"100%",padding:"var(--space-sm)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",marginTop:"var(--space-xs)",transition:"all 0.2s ease"},sliderContainer:{marginTop:"var(--space-sm)"},slider:{width:"100%",height:"6px",borderRadius:"3px",backgroundColor:"rgba(255, 255, 255, 0.1)",outline:"none",opacity:"0.7",transition:"opacity 0.2s",WebkitAppearance:"none"},sliderLabels:{display:"flex",justifyContent:"space-between",marginTop:"var(--space-xs)",color:"var(--text-gray)",fontSize:"0.9rem"},participantHint:{marginTop:"var(--space-xs)",color:"var(--accent-blue)",fontSize:"0.9rem",fontStyle:"italic"},error:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"var(--space-sm)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-md)",fontSize:"0.9rem"},buttonGroup:{display:"flex",gap:"var(--space-md)",marginTop:"var(--space-xl)"},cancelButton:{flex:1,padding:"var(--space-md)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},createButton:{flex:2,padding:"var(--space-md)",background:"linear-gradient(135deg, var(--primary-purple), var(--primary-indigo))",border:"none",borderRadius:"var(--radius-md)",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)",transition:"all 0.2s ease"},spinner:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"},note:{padding:"var(--space-lg)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderTop:"1px solid rgba(59, 130, 246, 0.3)",borderBottomLeftRadius:"var(--radius-lg)",borderBottomRightRadius:"var(--radius-lg)"},noteText:{margin:0,color:"#93c5fd",fontSize:"0.9rem",lineHeight:1.5}},sO=()=>{const{user:r,logout:t}=Do(),{rooms:n,loading:s,error:o,fetchActiveRooms:u}=Eg(),f=bo(),[m,p]=P.useState(n),[y,E]=P.useState(!1),[T,w]=P.useState(!1),[L,H]=P.useState("");P.useEffect(()=>{if(!r)return;console.log("Setting up dashboard room listeners");const W=ZN(rt=>{console.log("Dashboard rooms updated:",rt.length,"rooms"),rt.forEach(ot=>{console.log(`Room ${ot.id}: ${ot.currentParticipants}/${ot.maxParticipants}`)}),p(rt)});return()=>{console.log("Cleaning up dashboard listeners"),W()}},[r]),P.useEffect(()=>{p(n)},[n]);const G=async()=>{try{await t(),f("/")}catch(W){console.error("Logout failed:",W)}},B=async W=>{w(!0),H("");try{const rt=m.find(ot=>ot.id===W);if(!rt){H("Room not found");return}if(rt.currentParticipants>=rt.maxParticipants){H("This room is now full");return}if(!rt.isActive||rt.status==="ended"){H("This room is no longer active");return}f(`/room/${W}`)}catch(rt){console.error("Error joining room:",rt),H("Failed to join room. Please try again.")}finally{w(!1)}},J=W=>{if(!W)return"Just now";let rt;if(W.toDate)rt=W.toDate();else if(W instanceof Date)rt=W;else if(W.seconds)rt=new Date(W.seconds*1e3);else return"Just now";const dt=new Date-rt,D=Math.floor(dt/6e4);if(D<1)return"Just now";if(D<60)return`${D}m ago`;const I=Math.floor(D/60);return I<24?`${I}h ago`:`${Math.floor(I/24)}d ago`},X=W=>W.currentParticipants>=W.maxParticipants;return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"dashboard-page",children:[C.jsx("nav",{className:"dashboard-nav",children:C.jsxs("div",{className:"container nav-container",children:[C.jsxs("div",{className:"nav-left",children:[C.jsx("div",{className:"nav-logo"}),C.jsx("h1",{className:"nav-title",children:"Labyrinth"})]}),C.jsxs("div",{className:"nav-right",children:[C.jsxs("div",{className:"user-info",children:[r?.photoURL&&C.jsx("img",{src:r.photoURL,alt:r.displayName,className:"user-avatar"}),C.jsx("span",{className:"user-name",children:r?.displayName})]}),C.jsx("button",{onClick:G,className:"logout-btn",children:"Logout"})]})]})}),C.jsx("main",{className:"dashboard-main",children:C.jsx("div",{className:"container",children:C.jsxs("div",{className:"dashboard-content",children:[C.jsxs("div",{className:"dashboard-header",children:[C.jsx("h2",{className:"dashboard-title",children:"Labyrinth Dashboard"}),C.jsx("p",{className:"dashboard-subtitle",children:"Create or join video chat rooms. Host meetings, collaborate, and connect."})]}),C.jsxs("div",{style:Ct.quickActions,children:[C.jsxs("div",{style:Ct.actionCard,children:[C.jsx("div",{style:Ct.actionIcon,children:""}),C.jsx("h3",{style:Ct.actionTitle,children:"Create Room"}),C.jsx("p",{style:Ct.actionDescription,children:"Start a new video chat room. Set participant limits and invite others."}),C.jsx("button",{onClick:()=>E(!0),style:Ct.actionButton,children:"Create New Room"})]}),C.jsxs("div",{style:Ct.actionCard,children:[C.jsx("div",{style:Ct.actionIcon,children:""}),C.jsx("h3",{style:Ct.actionTitle,children:"Active Rooms"}),C.jsx("p",{style:Ct.actionDescription,children:m.length===0?"No active rooms. Be the first to create one!":`${m.length} room${m.length!==1?"s":""} available`}),C.jsx("button",{onClick:u,style:Ct.refreshButton,disabled:s,children:s?"Refreshing...":" Refresh List"})]})]}),C.jsxs("div",{style:Ct.roomsSection,children:[C.jsxs("div",{style:Ct.sectionHeader,children:[C.jsxs("h3",{style:Ct.sectionTitle,children:["Available Rooms ",m.length>0&&`(${m.length})`]}),L&&C.jsxs("div",{style:Ct.joinErrorBanner,children:[L,C.jsx("button",{onClick:()=>H(""),style:Ct.dismissError,children:""})]})]}),o&&C.jsxs("div",{style:Ct.errorMessage,children:["Error: ",o,C.jsx("button",{onClick:u,style:Ct.retryButton,children:"Retry"})]}),s&&m.length===0?C.jsxs("div",{style:Ct.loading,children:[C.jsx("div",{style:Ct.spinner}),C.jsx("p",{children:"Loading rooms..."})]}):m.length===0?C.jsxs("div",{style:Ct.emptyState,children:[C.jsx("div",{style:Ct.emptyIcon,children:""}),C.jsx("h4",{style:Ct.emptyTitle,children:"No Active Rooms"}),C.jsx("p",{style:Ct.emptyText,children:'Be the first to create a room! Click "Create New Room" above.'})]}):C.jsx("div",{style:Ct.roomsGrid,children:m.map(W=>{const rt=X(W);return C.jsxs("div",{style:{...Ct.roomCard,...rt?Ct.roomCardFull:{},...T?Ct.roomCardDisabled:{}},children:[C.jsxs("div",{style:Ct.roomHeader,children:[C.jsxs("div",{style:Ct.roomHost,children:[W.hostPhotoURL?C.jsx("img",{src:W.hostPhotoURL,alt:W.hostName,style:Ct.hostAvatar}):C.jsx("div",{style:Ct.defaultAvatar,children:W.hostName.charAt(0)}),C.jsx("span",{style:Ct.hostName,children:W.hostName})]}),C.jsxs("div",{style:Ct.roomCode,children:["#",W.roomCode]})]}),C.jsx("h4",{style:Ct.roomName,children:W.name}),C.jsxs("div",{style:Ct.roomDetails,children:[C.jsxs("div",{style:Ct.participantInfo,children:[C.jsxs("span",{style:{...Ct.participantCount,...rt?Ct.participantCountFull:{}},children:[W.currentParticipants,"/",W.maxParticipants]}),C.jsx("span",{style:Ct.participantLabel,children:rt?"FULL":"participants"})]}),C.jsx("div",{style:Ct.roomTime,children:J(W.createdAt)})]}),rt?C.jsx("div",{style:Ct.fullRoomBadge,children:C.jsx("span",{style:Ct.fullRoomText,children:"Room Full"})}):C.jsx("button",{style:Ct.joinRoomButton,onClick:()=>B(W.id),disabled:T,children:T?"Joining...":"Join Room"})]},W.id)})})]})]})})})]}),C.jsx(rO,{isOpen:y,onClose:()=>E(!1)})]})},Ct={quickActions:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"var(--space-lg)",marginBottom:"var(--space-xl)"},actionCard:{backgroundColor:"var(--bg-card-light)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-lg)",padding:"var(--space-lg)",transition:"all 0.3s ease"},actionIcon:{fontSize:"2.5rem",marginBottom:"var(--space-md)"},actionTitle:{fontSize:"1.3rem",fontWeight:"600",marginBottom:"var(--space-sm)",color:"var(--text-light)"},actionDescription:{color:"var(--text-gray)",marginBottom:"var(--space-md)",lineHeight:1.5},actionButton:{width:"100%",padding:"var(--space-md)",background:"linear-gradient(135deg, var(--primary-purple), var(--primary-indigo))",border:"none",borderRadius:"var(--radius-md)",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},refreshButton:{width:"100%",padding:"var(--space-md)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},roomsSection:{marginTop:"var(--space-xl)"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},sectionTitle:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-light)",margin:0},joinErrorBanner:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"8px 16px",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"10px"},dismissError:{background:"none",border:"none",color:"#f87171",fontSize:"1.2rem",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},errorMessage:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"var(--space-md)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-md)"},retryButton:{marginLeft:"10px",padding:"4px 12px",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"4px",color:"#93c5fd",cursor:"pointer",fontSize:"0.9rem"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"var(--space-xl)",color:"var(--text-gray)"},spinner:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"var(--space-md)"},emptyState:{textAlign:"center",padding:"var(--space-xl)",color:"var(--text-gray)"},emptyIcon:{fontSize:"4rem",marginBottom:"var(--space-md)",opacity:.5},emptyTitle:{fontSize:"1.5rem",marginBottom:"var(--space-sm)",color:"var(--text-light)"},emptyText:{fontSize:"1rem",lineHeight:1.5},roomsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-md)"},roomCard:{backgroundColor:"var(--bg-card-light)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-lg)",padding:"var(--space-lg)",transition:"all 0.3s ease"},roomCardFull:{borderColor:"rgba(239, 68, 68, 0.3)",backgroundColor:"rgba(30, 41, 59, 0.5)"},roomCardDisabled:{pointerEvents:"none",opacity:.5},roomHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-md)"},roomHost:{display:"flex",alignItems:"center",gap:"var(--space-sm)"},hostAvatar:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid var(--border-light)"},defaultAvatar:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--primary-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.9rem"},hostName:{fontSize:"0.9rem",color:"var(--text-light)",fontWeight:"500"},roomCode:{backgroundColor:"rgba(124, 58, 237, 0.2)",color:"#a78bfa",padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",fontSize:"0.8rem",fontWeight:"600",fontFamily:"monospace"},roomName:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-light)",marginBottom:"var(--space-md)"},roomDetails:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},participantInfo:{display:"flex",alignItems:"baseline",gap:"var(--space-xs)"},participantCount:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-light)"},participantCountFull:{color:"#f87171"},participantLabel:{fontSize:"0.9rem",color:"var(--text-gray)"},roomTime:{fontSize:"0.9rem",color:"var(--text-gray)"},fullRoomBadge:{width:"100%",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"var(--radius-md)",textAlign:"center"},fullRoomText:{color:"#f87171",fontWeight:"600",fontSize:"0.9rem"},joinRoomButton:{width:"100%",padding:"var(--space-sm)",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"var(--radius-md)",color:"#93c5fd",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"}},aO=()=>{const{localStream:r,isMicOn:t}=yf(),n=P.useRef(null),s=P.useRef(null),o=P.useRef(null),u=P.useRef(null),f=P.useRef(null),[m,p]=P.useState(!1),[y,E]=P.useState(0);P.useEffect(()=>{if(!r||!t){s.current&&(cancelAnimationFrame(s.current),s.current=null),o.current&&o.current.state!=="closed"&&o.current.close(),p(!1),E(0);return}const G=r.getAudioTracks()[0];if(!G||!G.enabled){p(!1),E(0);return}return(async()=>{try{const J=window.AudioContext||window.webkitAudioContext;o.current||(o.current=new J),u.current=o.current.createAnalyser(),u.current.fftSize=256,u.current.minDecibels=-90,u.current.maxDecibels=-10,u.current.smoothingTimeConstant=.85,f.current=o.current.createMediaStreamSource(r),f.current.connect(u.current),p(!0),T()}catch(J){console.error("Error setting up audio visualizer:",J),p(!1)}})(),()=>{s.current&&cancelAnimationFrame(s.current),f.current&&f.current.disconnect(),u.current&&u.current.disconnect()}},[r,t]);const T=()=>{if(!n.current||!u.current)return;const G=n.current,B=G.getContext("2d"),J=u.current.frequencyBinCount,X=new Uint8Array(J),W=()=>{s.current=requestAnimationFrame(W),u.current.getByteFrequencyData(X);let rt=0;for(let S=0;S<X.length;S++)rt+=X[S];const ot=rt/X.length;E(ot),B.clearRect(0,0,G.width,G.height),B.fillStyle="rgba(0, 0, 0, 0.3)",B.fillRect(0,0,G.width,G.height);const dt=G.width/J*2.5;let D,I=0;for(let S=0;S<J;S++){D=X[S]/2;const x=B.createLinearGradient(0,G.height,0,G.height-D);D<30?(x.addColorStop(0,"#10b981"),x.addColorStop(1,"#34d399")):D<60?(x.addColorStop(0,"#f59e0b"),x.addColorStop(1,"#fbbf24")):(x.addColorStop(0,"#ef4444"),x.addColorStop(1,"#f87171")),B.fillStyle=x,B.fillRect(I,G.height-D,dt,D),I+=dt+1}};W()},w=Math.min(Math.round(y/128*100),100);let L="low",H="#10b981";return w>30&&(L="medium",H="#f59e0b"),w>60&&(L="high",H="#ef4444"),C.jsxs("div",{style:Me.container,children:[C.jsxs("div",{style:Me.header,children:[C.jsxs("div",{style:Me.title,children:[C.jsx("span",{style:Me.icon,children:""}),"Microphone Activity"]}),C.jsxs("div",{style:Me.status,children:[C.jsx("div",{style:{...Me.statusDot,backgroundColor:t?"#10b981":"#ef4444"}}),C.jsx("span",{children:t?"Active":"Muted"})]})]}),C.jsxs("div",{style:Me.visualizerContainer,children:[C.jsx("canvas",{ref:n,width:300,height:80,style:Me.canvas}),C.jsxs("div",{style:Me.volumeInfo,children:[C.jsx("div",{style:Me.volumeBarContainer,children:C.jsx("div",{style:{...Me.volumeBar,width:`${w}%`,backgroundColor:H}})}),C.jsxs("div",{style:Me.volumeText,children:[C.jsx("span",{style:{color:H,fontWeight:"600"},children:L.toUpperCase()}),C.jsxs("span",{children:[w,"%"]})]})]})]}),C.jsx("div",{style:Me.instructions,children:!m&&t?C.jsxs("div",{style:Me.warning,children:[C.jsx("span",{style:Me.warningIcon,children:""}),'Speak to see audio activity. Try saying "Testing, 1, 2, 3"']}):t?C.jsxs("div",{style:Me.active,children:[C.jsx("span",{style:Me.activeIcon,children:""}),"Microphone is working! Volume: ",L]}):C.jsxs("div",{style:Me.muted,children:[C.jsx("span",{style:Me.mutedIcon,children:""}),"Microphone is muted"]})}),C.jsx("button",{onClick:()=>{if(t&&o.current){const G=o.current.createOscillator(),B=o.current.createGain();G.connect(B),B.connect(o.current.destination),G.frequency.value=440,G.type="sine",B.gain.setValueAtTime(0,o.current.currentTime),B.gain.linearRampToValueAtTime(.1,o.current.currentTime+.1),B.gain.linearRampToValueAtTime(0,o.current.currentTime+.5),G.start(o.current.currentTime),G.stop(o.current.currentTime+.5)}},style:Me.testButton,disabled:!t,children:" Test Sound"})]})},Me={container:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--radius-lg)",padding:"15px",border:"1px solid var(--border-light)",marginTop:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},title:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",color:"var(--text-light)",fontSize:"1rem"},icon:{fontSize:"1.2rem"},status:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",color:"var(--text-gray)"},statusDot:{width:"8px",height:"8px",borderRadius:"50%"},visualizerContainer:{position:"relative",marginBottom:"15px"},canvas:{width:"100%",height:"80px",borderRadius:"var(--radius-md)",backgroundColor:"rgba(0, 0, 0, 0.5)"},volumeInfo:{marginTop:"10px"},volumeBarContainer:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden",marginBottom:"5px"},volumeBar:{height:"100%",borderRadius:"3px",transition:"width 0.2s ease"},volumeText:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-gray)"},instructions:{fontSize:"0.85rem",textAlign:"center",marginBottom:"15px",padding:"10px",borderRadius:"var(--radius-md)"},warning:{color:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},warningIcon:{fontSize:"1rem"},muted:{color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},mutedIcon:{fontSize:"1rem"},active:{color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},activeIcon:{fontSize:"1rem"},testButton:{width:"100%",padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"var(--radius-md)",color:"#93c5fd",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}},oO=()=>{const{localStream:r,isCameraOn:t,isMicOn:n,isLoading:s,error:o,initializeMedia:u}=yf(),f=P.useRef(null);return P.useEffect(()=>{f.current&&r&&(f.current.srcObject=r)},[r]),P.useEffect(()=>{(async()=>r||await u())()},[]),s?C.jsxs("div",{style:ge.loadingContainer,children:[C.jsx("div",{style:ge.spinner}),C.jsx("p",{children:"Loading camera and microphone..."})]}):o?C.jsxs("div",{style:ge.errorContainer,children:[C.jsx("div",{style:ge.errorIcon,children:""}),C.jsx("h4",{children:"Camera/Microphone Error"}),C.jsx("p",{style:ge.errorText,children:o}),C.jsx("button",{onClick:u,style:ge.retryButton,children:"Try Again"})]}):C.jsxs("div",{style:ge.container,children:[C.jsxs("div",{style:ge.videoWrapper,children:[t?C.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,style:ge.video}):C.jsxs("div",{style:ge.cameraOffPlaceholder,children:[C.jsx("div",{style:ge.cameraOffIcon,children:""}),C.jsx("p",{children:"Camera is off"})]}),C.jsx("div",{style:ge.statusOverlay,children:C.jsxs("div",{style:ge.statusIcons,children:[C.jsxs("div",{style:{...ge.statusIcon,...t?ge.statusOn:ge.statusOff},children:[t?"":"",C.jsx("span",{style:ge.statusText,children:t?"Camera On":"Camera Off"})]}),C.jsxs("div",{style:{...ge.statusIcon,...n?ge.statusOn:ge.statusOff},children:[n?"":"",C.jsx("span",{style:ge.statusText,children:n?"Mic On":"Mic Muted"})]})]})}),C.jsx("div",{style:ge.nameLabel,children:"You (Preview)"})]}),C.jsx(aO,{})]})},ge={container:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column",gap:"15px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-gray)"},spinner:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"15px"},errorContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",padding:"20px",color:"var(--text-light)"},errorIcon:{fontSize:"3rem",marginBottom:"15px",opacity:.7},errorText:{color:"var(--text-gray)",marginBottom:"20px",fontSize:"0.9rem"},retryButton:{padding:"10px 20px",backgroundColor:"var(--primary-purple)",border:"none",borderRadius:"var(--radius-md)",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},videoWrapper:{position:"relative",width:"100%",flex:1,backgroundColor:"#000",borderRadius:"var(--radius-lg)",overflow:"hidden",minHeight:"300px"},video:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)",backgroundColor:"#000"},cameraOffPlaceholder:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-card)",color:"var(--text-gray)"},cameraOffIcon:{fontSize:"4rem",marginBottom:"15px",opacity:.5},statusOverlay:{position:"absolute",top:"15px",left:"15px",right:"15px",zIndex:10},statusIcons:{display:"flex",gap:"10px",flexWrap:"wrap"},statusIcon:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"500",backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white"},statusOn:{backgroundColor:"rgba(34, 197, 94, 0.7)"},statusOff:{backgroundColor:"rgba(239, 68, 68, 0.7)"},statusText:{fontSize:"0.8rem"},nameLabel:{position:"absolute",bottom:"15px",left:"15px",padding:"6px 12px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",borderRadius:"var(--radius-md)",fontSize:"0.9rem",fontWeight:"500"}},lO=()=>{const{roomId:r}=HA(),t=bo(),{user:n}=Do(),[s,o]=P.useState(null),[u,f]=P.useState([]),[m,p]=P.useState(!0),[y,E]=P.useState(""),[T,w]=P.useState(!1),{peers:L,connectionStatus:H,activeConnections:G}=eO(),{localStream:B,isCameraOn:J,isMicOn:X,toggleCamera:W,toggleMicrophone:rt,isLoading:ot,error:dt}=yf();P.useEffect(()=>{w(!1)},[r]),P.useEffect(()=>{if(!r||!n)return;console.log("Setting up real-time listeners for room:",r);const x=JN(r,M=>{console.log("Room real-time update:",M),M?o(M):E("Room was deleted")}),R=WN(r,M=>{console.log("Participants real-time update:",M),f(M)});return()=>{console.log("Cleaning up real-time listeners"),x(),R()}},[r,n]),P.useEffect(()=>{if(!n){t("/");return}D()},[r,n,t]);const D=async()=>{p(!0),E("");try{console.log("=== LOAD ROOM START ==="),console.log("User:",n?.uid),console.log("Room ID:",r);const x=await _h(r),R=await Um(r);if(console.log("Room data:",x),console.log("Participants:",R),console.log("Participant IDs:",R.map(Et=>Et.id)),!x){E("Room not found"),p(!1);return}if(!x.isActive||x.status==="ended"){E("Room is no longer active"),p(!1);return}const M=R.some(Et=>Et.id===n.uid);console.log("Is user in room?",M);const N=x.currentParticipants>=x.maxParticipants;if(console.log("Is room full?",N,`(${x.currentParticipants}/${x.maxParticipants})`),o(x),f(R),M){console.log("User already in room, loading complete"),p(!1);return}if(N){console.log("Room is full and user not in it"),E("Room is full. Cannot join."),p(!1);return}console.log("Attempting to join room...");try{const Et=await $N(r,n);console.log("Join result:",Et);const jt=await _h(r),Y=await Um(r);console.log("After join - Room:",jt),console.log("After join - Participants:",Y),o(jt),f(Y);const st=Y.some(pt=>pt.id===n.uid);console.log("User now in room?",st),st||E("Failed to join room. Please try again.")}catch(Et){console.error("Join error:",Et);const jt=await Um(r);if(jt.some(st=>st.id===n.uid))console.log("Race condition - user is actually in room"),f(jt);else if(Et.message.includes("full")||Et.message.includes("permission")){const st=await _h(r),pt=st.currentParticipants>=st.maxParticipants;E(pt?"Room is full. Cannot join.":"Permission denied. Please try again.")}else E(`Failed to join: ${Et.message}`)}}catch(x){console.error("Error in loadRoom:",x),E(`Failed to load room: ${x.message}`)}finally{p(!1),console.log("=== LOAD ROOM END ===")}};P.useEffect(()=>{s&&u&&console.log("Room updated - current state:",{roomId:s.id,participantCount:s.currentParticipants,maxParticipants:s.maxParticipants,actualParticipants:u.length})},[s,u]);const I=()=>{t("/dashboard")},S=()=>{s?.roomCode&&(navigator.clipboard.writeText(s.roomCode),alert(`Room code ${s.roomCode} copied to clipboard!`))};return m?C.jsxs("div",{style:lt.loadingContainer,children:[C.jsx("div",{style:lt.spinner}),C.jsx("p",{style:lt.loadingText,children:"Loading room..."})]}):y?C.jsxs("div",{style:lt.errorContainer,children:[C.jsx("div",{style:lt.errorIcon,children:""}),C.jsx("h2",{style:lt.errorTitle,children:"Room Unavailable"}),C.jsx("p",{style:lt.errorMessage,children:y}),C.jsx("button",{onClick:()=>t("/dashboard"),style:lt.backButton,children:"Back to Dashboard"})]}):s?y&&y.includes("Room is full")?C.jsx("div",{style:lt.fullRoomContainer,children:C.jsxs("div",{style:lt.fullRoomContent,children:[C.jsx("div",{style:lt.fullRoomIcon,children:""}),C.jsx("h2",{style:lt.fullRoomTitle,children:"Room Full"}),C.jsxs("p",{style:lt.fullRoomMessage,children:["This room has reached its maximum capacity of ",s?.maxParticipants," participants."]}),C.jsxs("div",{style:lt.fullRoomDetails,children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Room:"})," ",s?.name]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Host:"})," ",s?.hostName]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Current Participants:"})," ",s?.currentParticipants,"/",s?.maxParticipants]})]}),C.jsxs("div",{style:lt.fullRoomActions,children:[C.jsx("button",{onClick:()=>t("/dashboard"),style:lt.fullRoomButton,children:"Back to Dashboard"}),C.jsx("button",{onClick:()=>window.location.reload(),style:lt.fullRoomButtonSecondary,children:"Try Again"})]})]})}):C.jsxs("div",{style:lt.container,children:[C.jsxs("header",{style:lt.header,children:[C.jsxs("div",{style:lt.headerLeft,children:[C.jsx("button",{onClick:()=>t("/dashboard"),style:lt.backButton,children:" Back"}),C.jsxs("div",{style:lt.roomInfo,children:[C.jsx("h1",{style:lt.roomName,children:s.name}),C.jsxs("div",{style:lt.roomMeta,children:[C.jsxs("span",{style:lt.roomCode,onClick:S,title:"Click to copy",children:["#",s.roomCode]}),C.jsxs("span",{style:lt.participantCount,children:[s.currentParticipants,"/",s.maxParticipants," participants"]}),C.jsx("span",{style:lt.roomStatus,"data-status":s.status,children:s.status})]})]})]}),C.jsx("div",{style:lt.headerRight,children:C.jsx("button",{onClick:I,style:lt.leaveButton,children:"Leave Room"})})]}),C.jsxs("main",{style:lt.main,children:[C.jsxs("div",{style:lt.videoSection,children:[C.jsx("div",{style:lt.videoContainer,children:C.jsx(oO,{})}),Object.entries(L).map(([x,R])=>C.jsx("div",{style:lt.videoContainer,children:C.jsx(RemoteVideo,{stream:R.stream,userData:R.userData,connectionState:R.connectionState})},x)),C.jsxs("div",{style:lt.connectionStatus,children:[C.jsx("div",{style:{...lt.statusIndicator,backgroundColor:H==="connected"?"#10b981":H==="connecting"?"#f59e0b":"#ef4444"},children:H.toUpperCase()}),C.jsxs("div",{style:lt.statusText,children:[G," connection",G!==1?"s":""," active"]})]})]}),C.jsxs("aside",{style:lt.sidebar,children:[C.jsxs("div",{style:lt.sidebarHeader,children:[C.jsx("h3",{style:lt.sidebarTitle,children:"Participants"}),C.jsx("span",{style:lt.participantBadge,children:u.length})]}),C.jsx("div",{style:lt.participantsList,children:u.map(x=>C.jsxs("div",{style:{...lt.participantItem,...x.isHost?lt.hostItem:{}},children:[C.jsxs("div",{style:lt.participantAvatar,children:[x.photoURL?C.jsx("img",{src:x.photoURL,alt:x.name,style:lt.avatarImage}):C.jsx("div",{style:lt.defaultAvatar,children:x.name.charAt(0)}),x.isHost&&C.jsx("div",{style:lt.hostBadge,title:"Host",children:""})]}),C.jsxs("div",{style:lt.participantInfo,children:[C.jsxs("div",{style:lt.participantName,children:[x.name,x.id===n?.uid&&C.jsx("span",{style:lt.youBadge,children:" (You)"})]}),C.jsxs("div",{style:lt.participantStatus,children:[C.jsx("span",{style:lt.statusDot}),x.isActive?"Online":"Offline"]})]}),s.hostId===n?.uid&&!x.isHost&&C.jsx("button",{style:lt.kickButton,title:"Kick participant",onClick:()=>alert(`Kick ${x.name} - Coming soon`),children:""})]},x.id))}),C.jsxs("div",{style:lt.controlsSection,children:[C.jsx("h4",{style:lt.controlsTitle,children:"Room Controls"}),C.jsxs("div",{style:lt.controlsGrid,children:[C.jsx("button",{style:{...lt.controlButton,...X?lt.controlButtonActive:lt.controlButtonInactive},onClick:rt,disabled:ot,children:X?" Mic On":" Mic Muted"}),C.jsx("button",{style:{...lt.controlButton,...J?lt.controlButtonActive:lt.controlButtonInactive},onClick:W,disabled:ot,children:J?" Camera On":" Camera Off"}),C.jsx("button",{style:lt.controlButton,onClick:S,children:" Invite"}),s.hostId===n?.uid&&C.jsx("button",{style:lt.controlButtonDanger,onClick:()=>alert("End Room - Coming soon"),children:" End Room"})]}),dt&&C.jsxs("div",{style:lt.mediaError,children:[" ",dt]})]})]})]}),C.jsxs("div",{style:lt.statusContainer,children:[C.jsx("div",{style:{...lt.statusIndicator,backgroundColor:s?.currentParticipants>=s?.maxParticipants?"#ef4444":"#10b981"},children:s?.currentParticipants>=s?.maxParticipants?"FULL":"AVAILABLE"}),C.jsxs("div",{style:lt.statusText,children:[s?.currentParticipants,"/",s?.maxParticipants," participants",s?.currentParticipants>=s?.maxParticipants&&" (Room is full)"]})]}),C.jsx("footer",{style:lt.footer,children:C.jsxs("div",{style:lt.footerContent,children:[C.jsxs("div",{style:lt.footerInfo,children:[C.jsxs("span",{children:["Room created by ",s.hostName]}),C.jsx("span",{style:lt.footerSeparator,children:""}),C.jsx("span",{children:"Host controls enabled"})]}),C.jsxs("div",{style:lt.footerActions,children:[C.jsx("button",{style:lt.footerButton,onClick:S,children:"Copy Invite Code"}),C.jsx("button",{style:lt.footerButton,onClick:()=>alert("Settings - Coming soon"),children:"Settings"})]})]})})]}):C.jsxs("div",{style:lt.errorContainer,children:[C.jsx("h2",{style:lt.errorTitle,children:"Room Not Found"}),C.jsx("button",{onClick:()=>t("/dashboard"),style:lt.backButton,children:"Back to Dashboard"})]})},lt={container:{minHeight:"100vh",backgroundColor:"var(--bg-dark)",color:"var(--text-light)",display:"flex",flexDirection:"column"},loadingContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-dark)"},spinner:{width:"50px",height:"50px",border:"4px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},loadingText:{color:"var(--text-gray)",fontSize:"1.1rem"},errorContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-dark)",textAlign:"center",padding:"20px"},errorIcon:{fontSize:"4rem",marginBottom:"20px"},errorTitle:{fontSize:"2rem",marginBottom:"10px",color:"var(--text-light)"},errorMessage:{color:"var(--text-gray)",marginBottom:"30px",fontSize:"1.1rem",maxWidth:"400px"},header:{backgroundColor:"var(--bg-card)",borderBottom:"1px solid var(--border-light)",padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},headerLeft:{display:"flex",alignItems:"center",gap:"20px"},backButton:{padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},roomInfo:{display:"flex",flexDirection:"column",gap:"5px"},roomName:{fontSize:"1.5rem",fontWeight:"600",margin:0,color:"var(--text-light)"},roomMeta:{display:"flex",alignItems:"center",gap:"15px",fontSize:"0.9rem",color:"var(--text-gray)"},roomCode:{backgroundColor:"rgba(124, 58, 237, 0.2)",color:"#a78bfa",padding:"4px 8px",borderRadius:"4px",fontFamily:"monospace",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},participantCount:{padding:"4px 8px",backgroundColor:"rgba(59, 130, 246, 0.2)",borderRadius:"4px"},roomStatus:{padding:"4px 8px",borderRadius:"4px",fontWeight:"500",textTransform:"capitalize"},headerRight:{display:"flex",alignItems:"center",gap:"10px"},leaveButton:{padding:"10px 20px",backgroundColor:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"var(--radius-md)",color:"#f87171",cursor:"pointer",fontWeight:"500",transition:"all 0.2s ease"},main:{flex:1,display:"flex",padding:"20px",gap:"20px",overflow:"hidden"},videoSection:{flex:3,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px",backgroundColor:"var(--bg-card-light)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-light)",padding:"15px",minHeight:"500px",overflowY:"auto"},sidebar:{flex:1,backgroundColor:"var(--bg-card-light)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-light)",padding:"20px",minWidth:"300px",maxHeight:"600px",overflowY:"auto"},sidebarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border-light)"},sidebarTitle:{fontSize:"1.2rem",fontWeight:"600",margin:0,color:"var(--text-light)"},participantBadge:{backgroundColor:"var(--primary-purple)",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"600"},participantsList:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"30px"},participantItem:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--radius-md)",transition:"all 0.2s ease"},hostItem:{backgroundColor:"rgba(124, 58, 237, 0.1)",borderLeft:"3px solid var(--primary-purple)"},participantAvatar:{position:"relative",width:"40px",height:"40px"},avatarImage:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"},defaultAvatar:{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"var(--primary-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"1.2rem"},hostBadge:{position:"absolute",bottom:"-5px",right:"-5px",backgroundColor:"var(--primary-purple)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},participantInfo:{flex:1,minWidth:0},participantName:{fontWeight:"500",color:"var(--text-light)",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},youBadge:{color:"var(--accent-blue)",fontSize:"0.9rem"},participantStatus:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.8rem",color:"var(--text-gray)"},statusDot:{width:"8px",height:"8px",backgroundColor:"#10b981",borderRadius:"50%"},kickButton:{width:"28px",height:"28px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"50%",color:"#f87171",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",transition:"all 0.2s ease"},controlsSection:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid var(--border-light)"},controlsTitle:{fontSize:"1rem",fontWeight:"600",marginBottom:"15px",color:"var(--text-light)"},controlsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},controlButton:{padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},controlButtonDanger:{gridColumn:"1 / -1",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"var(--radius-md)",color:"#f87171",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},footer:{backgroundColor:"var(--bg-card)",borderTop:"1px solid var(--border-light)",padding:"15px 20px"},footerContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},footerInfo:{display:"flex",alignItems:"center",gap:"10px",color:"var(--text-gray)",fontSize:"0.9rem"},footerSeparator:{opacity:.5},footerActions:{display:"flex",gap:"10px"},footerButton:{padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},statusContainer:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},statusIndicator:{padding:"4px 8px",borderRadius:"12px",color:"white",fontWeight:"600",fontSize:"0.8rem",textTransform:"uppercase"},statusText:{fontSize:"0.8rem",opacity:.9},controlButtonActive:{backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 0.5)",color:"#4ade80"},controlButtonInactive:{backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 0.5)",color:"#f87171"},mediaError:{marginTop:"10px",padding:"8px 12px",backgroundColor:"rgba(245, 158, 11, 0.2)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"var(--radius-md)",color:"#fbbf24",fontSize:"0.8rem"},videoContainer:{position:"relative",backgroundColor:"#000",borderRadius:"var(--radius-md)",overflow:"hidden",aspectRatio:"16/9",minHeight:"250px",border:"2px solid var(--border-light)"},connectionStatus:{position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"8px 12px",borderRadius:"var(--radius-md)",fontSize:"0.9rem",zIndex:100,display:"flex",alignItems:"center",gap:"10px",backdropFilter:"blur(10px)"}};function uO(){return C.jsx(HN,{children:C.jsx(FN,{children:C.jsx(tO,{children:C.jsxs(nO,{children:["  ",C.jsxs(xw,{children:["  ",C.jsxs(sw,{children:[C.jsx(rh,{path:"/",element:C.jsx(iO,{})}),C.jsx(rh,{path:"/dashboard",element:C.jsx(NE,{children:C.jsx(sO,{})})}),C.jsx(rh,{path:"/room/:roomId",element:C.jsx(NE,{children:C.jsx(lO,{})})})]})]})]})})})})}aA.createRoot(document.getElementById("root")).render(C.jsx(P.StrictMode,{children:C.jsx(uO,{})}));
