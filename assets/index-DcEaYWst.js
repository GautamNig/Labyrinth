(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function W1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Ll={};var q_;function Z1(){if(q_)return Ll;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var H_;function eA(){return H_||(H_=1,vm.exports=Z1()),vm.exports}var C=eA(),_m={exports:{}},Re={};var F_;function tA(){if(F_)return Re;F_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function L(P){return P===null||typeof P!="object"?null:(P=R&&P[R]||P["@@iterator"],typeof P=="function"?P:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function J(P,ne,ue){this.props=P,this.context=ne,this.refs=q,this.updater=ue||H}J.prototype.isReactComponent={},J.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},J.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=J.prototype;function W(P,ne,ue){this.props=P,this.context=ne,this.refs=q,this.updater=ue||H}var re=W.prototype=new X;re.constructor=W,G(re,J.prototype),re.isPureReactComponent=!0;var oe=Array.isArray;function fe(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(P,ne,ue){var de=ue.ref;return{$$typeof:r,type:P,key:ne,ref:de!==void 0?de:null,props:ue}}function w(P,ne){return x(P.type,ne,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function M(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ne[ue]})}var D=/\/+/g;function ye(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):ne.toString(36)}function Oe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(fe,fe):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Y(P,ne,ue,de,Ae){var De=typeof P;(De==="undefined"||De==="boolean")&&(P=null);var Be=!1;if(P===null)Be=!0;else switch(De){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(P.$$typeof){case r:case e:Be=!0;break;case E:return Be=P._init,Y(Be(P._payload),ne,ue,de,Ae)}}if(Be)return Ae=Ae(P),Be=de===""?"."+ye(P,0):de,oe(Ae)?(ue="",Be!=null&&(ue=Be.replace(D,"$&/")+"/"),Y(Ae,ne,ue,"",function(Es){return Es})):Ae!=null&&(I(Ae)&&(Ae=w(Ae,ue+(Ae.key==null||P&&P.key===Ae.key?"":(""+Ae.key).replace(D,"$&/")+"/")+Be)),ne.push(Ae)),1;Be=0;var Lt=de===""?".":de+":";if(oe(P))for(var ut=0;ut<P.length;ut++)de=P[ut],De=Lt+ye(de,ut),Be+=Y(de,ne,ue,De,Ae);else if(ut=L(P),typeof ut=="function")for(P=ut.call(P),ut=0;!(de=P.next()).done;)de=de.value,De=Lt+ye(de,ut++),Be+=Y(de,ne,ue,De,Ae);else if(De==="object"){if(typeof P.then=="function")return Y(Oe(P),ne,ue,de,Ae);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Be}function se(P,ne,ue){if(P==null)return P;var de=[],Ae=0;return Y(P,de,"","",function(De){return ne.call(ue,De,Ae++)}),de}function ge(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var Fe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Xe={map:se,forEach:function(P,ne,ue){se(P,function(){ne.apply(this,arguments)},ue)},count:function(P){var ne=0;return se(P,function(){ne++}),ne},toArray:function(P){return se(P,function(ne){return ne})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Re.Activity=T,Re.Children=Xe,Re.Component=J,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=W,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(P,ne,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=G({},P.props),Ae=P.key;if(ne!=null)for(De in ne.key!==void 0&&(Ae=""+ne.key),ne)!S.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(de[De]=ne[De]);var De=arguments.length-2;if(De===1)de.children=ue;else if(1<De){for(var Be=Array(De),Lt=0;Lt<De;Lt++)Be[Lt]=arguments[Lt+2];de.children=Be}return x(P.type,Ae,de)},Re.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Re.createElement=function(P,ne,ue){var de,Ae={},De=null;if(ne!=null)for(de in ne.key!==void 0&&(De=""+ne.key),ne)S.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ae[de]=ne[de]);var Be=arguments.length-2;if(Be===1)Ae.children=ue;else if(1<Be){for(var Lt=Array(Be),ut=0;ut<Be;ut++)Lt[ut]=arguments[ut+2];Ae.children=Lt}if(P&&P.defaultProps)for(de in Be=P.defaultProps,Be)Ae[de]===void 0&&(Ae[de]=Be[de]);return x(P,De,Ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:m,render:P}},Re.isValidElement=I,Re.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ge}},Re.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},Re.startTransition=function(P){var ne=N.T,ue={};N.T=ue;try{var de=P(),Ae=N.S;Ae!==null&&Ae(ue,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(fe,Fe)}catch(De){Fe(De)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),N.T=ne}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(P){return N.H.use(P)},Re.useActionState=function(P,ne,ue){return N.H.useActionState(P,ne,ue)},Re.useCallback=function(P,ne){return N.H.useCallback(P,ne)},Re.useContext=function(P){return N.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ne){return N.H.useDeferredValue(P,ne)},Re.useEffect=function(P,ne){return N.H.useEffect(P,ne)},Re.useEffectEvent=function(P){return N.H.useEffectEvent(P)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(P,ne,ue){return N.H.useImperativeHandle(P,ne,ue)},Re.useInsertionEffect=function(P,ne){return N.H.useInsertionEffect(P,ne)},Re.useLayoutEffect=function(P,ne){return N.H.useLayoutEffect(P,ne)},Re.useMemo=function(P,ne){return N.H.useMemo(P,ne)},Re.useOptimistic=function(P,ne){return N.H.useOptimistic(P,ne)},Re.useReducer=function(P,ne,ue){return N.H.useReducer(P,ne,ue)},Re.useRef=function(P){return N.H.useRef(P)},Re.useState=function(P){return N.H.useState(P)},Re.useSyncExternalStore=function(P,ne,ue){return N.H.useSyncExternalStore(P,ne,ue)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.3",Re}var G_;function pp(){return G_||(G_=1,_m.exports=tA()),_m.exports}var k=pp();const Bm=W1(k);var Em={exports:{}},Ul={},Tm={exports:{}},bm={};var Q_;function nA(){return Q_||(Q_=1,(function(r){function e(Y,se){var ge=Y.length;Y.push(se);e:for(;0<ge;){var Fe=ge-1>>>1,Xe=Y[Fe];if(0<o(Xe,se))Y[Fe]=se,Y[ge]=Xe,ge=Fe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],ge=Y.pop();if(ge!==se){Y[0]=ge;e:for(var Fe=0,Xe=Y.length,P=Xe>>>1;Fe<P;){var ne=2*(Fe+1)-1,ue=Y[ne],de=ne+1,Ae=Y[de];if(0>o(ue,ge))de<Xe&&0>o(Ae,ue)?(Y[Fe]=Ae,Y[de]=ge,Fe=de):(Y[Fe]=ue,Y[ne]=ge,Fe=ne);else if(de<Xe&&0>o(Ae,ge))Y[Fe]=Ae,Y[de]=ge,Fe=de;else break e}}return se}function o(Y,se){var ge=Y.sortIndex-se.sortIndex;return ge!==0?ge:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,R=3,L=!1,H=!1,G=!1,q=!1,J=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function re(Y){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Y)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function oe(Y){if(G=!1,re(Y),!H)if(n(p)!==null)H=!0,fe||(fe=!0,M());else{var se=n(g);se!==null&&Oe(oe,se.startTime-Y)}}var fe=!1,N=-1,S=5,x=-1;function w(){return q?!0:!(r.unstable_now()-x<S)}function I(){if(q=!1,fe){var Y=r.unstable_now();x=Y;var se=!0;try{e:{H=!1,G&&(G=!1,X(N),N=-1),L=!0;var ge=R;try{t:{for(re(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&w());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,R=T.priorityLevel;var Xe=Fe(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Xe=="function"){T.callback=Xe,re(Y),se=!0;break t}T===n(p)&&s(p),re(Y)}else s(p);T=n(p)}if(T!==null)se=!0;else{var P=n(g);P!==null&&Oe(oe,P.startTime-Y),se=!1}}break e}finally{T=null,R=ge,L=!1}se=void 0}}finally{se?M():fe=!1}}}var M;if(typeof W=="function")M=function(){W(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ye=D.port2;D.port1.onmessage=I,M=function(){ye.postMessage(null)}}else M=function(){J(I,0)};function Oe(Y,se){N=J(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var ge=R;R=se;try{return Y()}finally{R=ge}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=R;R=Y;try{return se()}finally{R=ge}},r.unstable_scheduleCallback=function(Y,se,ge){var Fe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Fe+ge:Fe):ge=Fe,Y){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=ge+Xe,Y={id:E++,callback:se,priorityLevel:Y,startTime:ge,expirationTime:Xe,sortIndex:-1},ge>Fe?(Y.sortIndex=ge,e(g,Y),n(p)===null&&Y===n(g)&&(G?(X(N),N=-1):G=!0,Oe(oe,ge-Fe))):(Y.sortIndex=Xe,e(p,Y),H||L||(H=!0,fe||(fe=!0,M()))),Y},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(Y){var se=R;return function(){var ge=R;R=se;try{return Y.apply(this,arguments)}finally{R=ge}}}})(bm)),bm}var Y_;function iA(){return Y_||(Y_=1,Tm.exports=nA()),Tm.exports}var Sm={exports:{}},nn={};var K_;function rA(){if(K_)return nn;K_=1;var r=pp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},nn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var X_;function sA(){if(X_)return Sm.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=rA(),Sm.exports}var $_;function aA(){if($_)return Ul;$_=1;var r=iA(),e=pp(),n=sA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case J:return"Profiler";case q:return"StrictMode";case oe:return"Suspense";case fe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case W:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ye(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return ye(t(i))}catch{}}return null}var Oe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Fe=[],Xe=-1;function P(t){return{current:t}}function ne(t){0>Xe||(t.current=Fe[Xe],Fe[Xe]=null,Xe--)}function ue(t,i){Xe++,Fe[Xe]=t.current,t.current=i}var de=P(null),Ae=P(null),De=P(null),Be=P(null);function Lt(t,i){switch(ue(De,i),ue(Ae,t),ue(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?h_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=h_(i),t=f_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(de),ue(de,t)}function ut(){ne(de),ne(Ae),ne(De)}function Es(t){t.memoizedState!==null&&ue(Be,t);var i=de.current,a=f_(i,t.type);i!==a&&(ue(Ae,t),ue(de,a))}function fa(t){Ae.current===t&&(ne(de),ne(Ae)),Be.current===t&&(ne(Be),Ml._currentValue=ge)}var da,ma;function mi(t){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var Mo=!1;function Ts(t,i){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var F=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){F=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){F=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var O=v.split(`
`),B=b.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===B.length)for(l=O.length-1,h=B.length-1;1<=l&&0<=h&&O[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==B[h]){var $=`
`+O[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return t.child!==i&&i!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ts(t.type,!1);case 11:return Ts(t.type.render,!1);case 1:return Ts(t.type,!0);case 31:return mi("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Tr=r.unstable_cancelCallback,Ef=r.unstable_shouldYield,wu=r.unstable_requestPaint,ln=r.unstable_now,bs=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,Lo=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,Tf=r.unstable_LowPriority,Ru=r.unstable_IdlePriority,Cu=r.log,xu=r.unstable_setDisableYieldValue,$n=null,Yt=null;function Pn(t){if(typeof Cu=="function"&&xu(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode($n,t)}catch{}}var _t=Math.clz32?Math.clz32:Du,Iu=Math.log,pa=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Iu(t)/pa|0)|0}var pi=256,Ss=262144,wt=4194304;function gi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=gi(l):(v&=b,v!==0?h=gi(v):a||(a=b&~t,a!==0&&(h=gi(a))))):(b=l&~d,b!==0?h=gi(b):v!==0?h=gi(v):a||(a=l&~t,a!==0&&(h=gi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sf(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-_t(a),te=1<<$;b[$]=0,O[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&ws(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function zo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:k_(t.type))}function Wn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Zn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Zn,qt="__reactProps$"+Zn,_i="__reactContainer$"+Zn,ga="__reactEvents$"+Zn,Af="__reactListeners$"+Zn,Mu="__reactHandles$"+Zn,Vu="__reactResources$"+Zn,Ei="__reactMarker$"+Zn;function ya(t){delete t[Rt],delete t[qt],delete t[ga],delete t[Af],delete t[Mu]}function Ti(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_i]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=__(t);t!==null;){if(a=t[Rt])return a;t=__(t)}return i}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Rt]||t[_i]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function bi(t){var i=t[Vu];return i||(i=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[Ei]=!0}var jo=new Set,Bo={};function Si(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(Bo[t]=i,t=0;t<i.length;t++)jo.add(i[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function ku(t){return At.call(Fo,t)?!0:At.call(Ho,t)?!1:qo.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function va(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=Sr(t)?"checked":"value";t._valueTracker=Go(t,i,""+t[i])}}function Cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function dn(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,v,Ht(i)):a!=null?Qo(t,v,Ht(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ht(b):t.removeAttribute("name")}function Pu(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function Qo(t,i,a){i==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Lu(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Yo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(t,d,i[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Xo=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ri=null;function Is(t){var i=Ln(t);if(i&&(t=i.stateNode)){var a=t[qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[qt]||null;if(!h)throw Error(s(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cs(l)}break e;case"textarea":Lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ar(t,!!a.multiple,i,!1)}}}var ba=!1;function xr(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(Cr!==null||Ri!==null)&&(Oc(),Cr&&(i=Cr,t=Ri,Ri=Cr=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function ti(t,i){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(zn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ds=!1}var Ci=null,$o=null,Ns=null;function Jo(){if(Ns)return Ns;var t,i=$o,a=i.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ns=h.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function ni(){return!1}function Kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:ni,this.isPropagationStopped=ni,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Kt(Qi),Ir=T({},Qi,{view:0,detail:0}),Wo=Kt(Ir),Dr,Sa,Ii,Aa=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Dr=t.screenX-Ii.screenX,Sa=t.screenY-Ii.screenY):Sa=Dr=0,Ii=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Zo=Kt(Aa),Ms=T({},Aa,{dataTransfer:0}),ju=Kt(Ms),Bu=T({},Ir,{relatedTarget:0}),Vs=Kt(Bu),el=T({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=Kt(el),wa=T({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hu=Kt(wa),Fu=T({},Qi,{data:0}),Di=Kt(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function Nr(){return Ku}var un=T({},Ir,{key:function(t){if(t.key){var i=Gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=Kt(un),$u=T({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Kt($u),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),y=Kt(c),_=T({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(_),z=T({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(z),ae=T({},Qi,{newState:0,oldState:0}),xe=Kt(ae),Et=[9,13,27,32],Ye=zn&&"CompositionEvent"in window,ct=null;zn&&"documentMode"in document&&(ct=document.documentMode);var jn=zn&&"TextEvent"in window&&!ct,Ni=zn&&(!Ye||ct&&8<ct&&11>=ct),ii=" ",ri=!1;function ks(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function bS(t,i){switch(t){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(ri=!0,ii);case"textInput":return t=i.data,t===ii&&ri?null:t;default:return null}}function SS(t,i){if(Ca)return t==="compositionend"||!Ye&&ks(t,i)?(t=Jo(),Ns=$o=Ci=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AS[t.type]:i==="textarea"}function Sg(t,i,a,l){Cr?Ri?Ri.push(l):Ri=[l]:Cr=l,i=zc(i,"onChange"),0<i.length&&(a=new xi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var tl=null,nl=null;function wS(t){s_(t,0)}function Ju(t){var i=Tn(t);if(Cs(i))return t}function Ag(t,i){if(t==="change")return i}var wg=!1;if(zn){var wf;if(zn){var Rf="oninput"in document;if(!Rf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Rf=typeof Rg.oninput=="function"}wf=Rf}else wf=!1;wg=wf&&(!document.documentMode||9<document.documentMode)}function Cg(){tl&&(tl.detachEvent("onpropertychange",xg),nl=tl=null)}function xg(t){if(t.propertyName==="value"&&Ju(nl)){var i=[];Sg(i,nl,t,Un(t)),xr(wS,i)}}function RS(t,i,a){t==="focusin"?(Cg(),tl=i,nl=a,tl.attachEvent("onpropertychange",xg)):t==="focusout"&&Cg()}function CS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(nl)}function xS(t,i){if(t==="click")return Ju(i)}function IS(t,i){if(t==="input"||t==="change")return Ju(i)}function DS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Sn=typeof Object.is=="function"?Object.is:DS;function il(t,i){if(Sn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!At.call(i,h)||!Sn(t[h],i[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,i){var a=Ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Ng(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ng(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wi(t.document)}return i}function Cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var NS=zn&&"documentMode"in document&&11>=document.documentMode,xa=null,xf=null,rl=null,If=!1;function Mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||xa==null||xa!==wi(l)||(l=xa,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=zc(xf,"onSelect"),0<l.length&&(i=new xi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Df={},Vg={};zn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ls(t){if(Df[t])return Df[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return Df[t]=i[a];return t}var kg=Ls("animationend"),Pg=Ls("animationiteration"),Lg=Ls("animationstart"),OS=Ls("transitionrun"),MS=Ls("transitionstart"),VS=Ls("transitioncancel"),Ug=Ls("transitionend"),zg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function si(t,i){zg.set(t,i),Si(i,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Da=0,Of=0;function Zu(){for(var t=Da,i=Of=Da=0;i<t;){var a=Bn[i];Bn[i++]=null;var l=Bn[i];Bn[i++]=null;var h=Bn[i];Bn[i++]=null;var d=Bn[i];if(Bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&jg(a,h,d)}}function ec(t,i,a,l){Bn[Da++]=t,Bn[Da++]=i,Bn[Da++]=a,Bn[Da++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mf(t,i,a,l){return ec(t,i,a,l),tc(t)}function Us(t,i){return ec(t,null,null,i),tc(t)}function jg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-_t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(t){if(50<Rl)throw Rl=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function kS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,a,l){return new kS(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=An(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function nc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=j1(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=An(31,a,i,h),t.elementType=x,t.lanes=d,t;case G:return zs(a.children,h,d,i);case q:v=8,h|=24;break;case J:return t=An(12,a,i,h|2),t.elementType=J,t.lanes=d,t;case oe:return t=An(13,a,i,h),t.elementType=oe,t.lanes=d,t;case fe:return t=An(19,a,i,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:v=10;break e;case X:v=9;break e;case re:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=An(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=An(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=An(6,t,null,i),t.lanes=a,t}function qg(t){var i=An(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Hg=new WeakMap;function qn(t,i){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},Hg.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var Oa=[],Ma=0,ic=null,sl=0,Hn=[],Fn=0,Or=null,Oi=1,Mi="";function Xi(t,i){Oa[Ma++]=sl,Oa[Ma++]=ic,ic=t,sl=i}function Fg(t,i,a){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Or,Or=t;var l=Oi;t=Mi;var h=32-_t(l)-1;l&=~(1<<h),a+=1;var d=32-_t(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-_t(i)+h|a<<h|l,Mi=d+t}else Oi=1<<d|a<<h|l,Mi=t}function Lf(t){t.return!==null&&(Xi(t,1),Fg(t,1,0))}function Uf(t){for(;t===ic;)ic=Oa[--Ma],Oa[Ma]=null,sl=Oa[--Ma],Oa[Ma]=null;for(;t===Or;)Or=Hn[--Fn],Hn[Fn]=null,Mi=Hn[--Fn],Hn[Fn]=null,Oi=Hn[--Fn],Hn[Fn]=null}function Gg(t,i){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Or,Oi=i.id,Mi=i.overflow,Or=t}var Xt=null,at=null,je=!1,Mr=null,Gn=!1,zf=Error(s(519));function Vr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(qn(i,t)),zf}function Qg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[qt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ve(xl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Pu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),wr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||u_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=ei),i=!0):i=!1,i||Vr(t,!0)}function Yg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xt=Xt.return}}function Va(t){if(t!==Xt)return!1;if(!je)return Yg(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&at&&Vr(t),Yg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=v_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=v_(t)}else i===27?(i=at,Kr(t.type)?(t=lm,lm=null,at=t):at=i):at=Xt?Yn(t.stateNode.nextSibling):null;return!0}function js(){at=Xt=null,je=!1}function jf(){var t=Mr;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Mr=null),t}function al(t){Mr===null?Mr=[t]:Mr.push(t)}var Bf=P(null),Bs=null,$i=null;function kr(t,i,a){ue(Bf,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Bf.current,ne(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ka(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;Sn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Be.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Kg(Bs,t)}function sc(t,i){return Bs===null&&qs(t),Kg(t,i)}function Kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var PS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},LS=r.unstable_scheduleCallback,US=r.unstable_NormalPriority,It={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new PS,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&LS(US,function(){t.controller.abort()})}var ll=null,Gf=0,Pa=0,La=null;function zS(t,i){if(ll===null){var a=ll=[];Gf=0,Pa=Kd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(Xg,Xg),i}function Xg(){if(--Gf===0&&ll!==null){La!==null&&(La.status="fulfilled");var t=ll;ll=null,Pa=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=Y.S;Y.S=function(t,i){Mv=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&zS(t,i),$g!==null&&$g(t,i)};var Hs=P(null);function Qf(){var t=Hs.current;return t!==null?t:rt.pooledCache}function ac(t,i){i===null?ue(Hs,Hs.current):ue(Hs,i.pool)}function Jg(){var t=Qf();return t===null?null:{parent:It._currentValue,pool:t}}var Ua=Error(s(460)),Yf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ei,ei),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ty(t),t;default:if(typeof i.status=="string")i.then(ei,ei);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ty(t),t}throw Gs=i,Ua}}function Fs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,Ua):a}}var Gs=null;function ey(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function ty(t){if(t===Ua||t===oc)throw Error(s(483))}var za=null,ul=0;function uc(t){var i=ul;return ul+=1,za===null&&(za=[]),Zg(za,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ny(t){function i(U,V){if(t){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Ki(U,V),U.index=0,U.sibling=null,U}function d(U,V,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,j,ee){return V===null||V.tag!==6?(V=kf(j,U.mode,ee),V.return=U,V):(V=h(V,j),V.return=U,V)}function O(U,V,j,ee){var _e=j.type;return _e===G?$(U,V,j.props.children,ee,j.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Fs(_e)===V.type)?(V=h(V,j.props),cl(V,j),V.return=U,V):(V=nc(j.type,j.key,j.props,null,U.mode,ee),cl(V,j),V.return=U,V)}function B(U,V,j,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Pf(j,U.mode,ee),V.return=U,V):(V=h(V,j.children||[]),V.return=U,V)}function $(U,V,j,ee,_e){return V===null||V.tag!==7?(V=zs(j,U.mode,ee,_e),V.return=U,V):(V=h(V,j),V.return=U,V)}function te(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kf(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return j=nc(V.type,V.key,V.props,null,U.mode,j),cl(j,V),j.return=U,j;case H:return V=Pf(V,U.mode,j),V.return=U,V;case S:return V=Fs(V),te(U,V,j)}if(Oe(V)||M(V))return V=zs(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return te(U,uc(V),j);if(V.$$typeof===W)return te(U,sc(U,V),j);cc(U,V)}return null}function F(U,V,j,ee){var _e=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _e!==null?null:b(U,V,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===_e?O(U,V,j,ee):null;case H:return j.key===_e?B(U,V,j,ee):null;case S:return j=Fs(j),F(U,V,j,ee)}if(Oe(j)||M(j))return _e!==null?null:$(U,V,j,ee,null);if(typeof j.then=="function")return F(U,V,uc(j),ee);if(j.$$typeof===W)return F(U,V,sc(U,j),ee);cc(U,j)}return null}function K(U,V,j,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(j)||null,b(V,U,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return U=U.get(ee.key===null?j:ee.key)||null,O(V,U,ee,_e);case H:return U=U.get(ee.key===null?j:ee.key)||null,B(V,U,ee,_e);case S:return ee=Fs(ee),K(U,V,j,ee,_e)}if(Oe(ee)||M(ee))return U=U.get(j)||null,$(V,U,ee,_e,null);if(typeof ee.then=="function")return K(U,V,j,uc(ee),_e);if(ee.$$typeof===W)return K(U,V,j,sc(V,ee),_e);cc(V,ee)}return null}function me(U,V,j,ee){for(var _e=null,Ge=null,pe=V,Ne=V=0,Pe=null;pe!==null&&Ne<j.length;Ne++){pe.index>Ne?(Pe=pe,pe=null):Pe=pe.sibling;var Qe=F(U,pe,j[Ne],ee);if(Qe===null){pe===null&&(pe=Pe);break}t&&pe&&Qe.alternate===null&&i(U,pe),V=d(Qe,V,Ne),Ge===null?_e=Qe:Ge.sibling=Qe,Ge=Qe,pe=Pe}if(Ne===j.length)return a(U,pe),je&&Xi(U,Ne),_e;if(pe===null){for(;Ne<j.length;Ne++)pe=te(U,j[Ne],ee),pe!==null&&(V=d(pe,V,Ne),Ge===null?_e=pe:Ge.sibling=pe,Ge=pe);return je&&Xi(U,Ne),_e}for(pe=l(pe);Ne<j.length;Ne++)Pe=K(pe,U,Ne,j[Ne],ee),Pe!==null&&(t&&Pe.alternate!==null&&pe.delete(Pe.key===null?Ne:Pe.key),V=d(Pe,V,Ne),Ge===null?_e=Pe:Ge.sibling=Pe,Ge=Pe);return t&&pe.forEach(function(Zr){return i(U,Zr)}),je&&Xi(U,Ne),_e}function Te(U,V,j,ee){if(j==null)throw Error(s(151));for(var _e=null,Ge=null,pe=V,Ne=V=0,Pe=null,Qe=j.next();pe!==null&&!Qe.done;Ne++,Qe=j.next()){pe.index>Ne?(Pe=pe,pe=null):Pe=pe.sibling;var Zr=F(U,pe,Qe.value,ee);if(Zr===null){pe===null&&(pe=Pe);break}t&&pe&&Zr.alternate===null&&i(U,pe),V=d(Zr,V,Ne),Ge===null?_e=Zr:Ge.sibling=Zr,Ge=Zr,pe=Pe}if(Qe.done)return a(U,pe),je&&Xi(U,Ne),_e;if(pe===null){for(;!Qe.done;Ne++,Qe=j.next())Qe=te(U,Qe.value,ee),Qe!==null&&(V=d(Qe,V,Ne),Ge===null?_e=Qe:Ge.sibling=Qe,Ge=Qe);return je&&Xi(U,Ne),_e}for(pe=l(pe);!Qe.done;Ne++,Qe=j.next())Qe=K(pe,U,Ne,Qe.value,ee),Qe!==null&&(t&&Qe.alternate!==null&&pe.delete(Qe.key===null?Ne:Qe.key),V=d(Qe,V,Ne),Ge===null?_e=Qe:Ge.sibling=Qe,Ge=Qe);return t&&pe.forEach(function(J1){return i(U,J1)}),je&&Xi(U,Ne),_e}function nt(U,V,j,ee){if(typeof j=="object"&&j!==null&&j.type===G&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:e:{for(var _e=j.key;V!==null;){if(V.key===_e){if(_e=j.type,_e===G){if(V.tag===7){a(U,V.sibling),ee=h(V,j.props.children),ee.return=U,U=ee;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&Fs(_e)===V.type){a(U,V.sibling),ee=h(V,j.props),cl(ee,j),ee.return=U,U=ee;break e}a(U,V);break}else i(U,V);V=V.sibling}j.type===G?(ee=zs(j.props.children,U.mode,ee,j.key),ee.return=U,U=ee):(ee=nc(j.type,j.key,j.props,null,U.mode,ee),cl(ee,j),ee.return=U,U=ee)}return v(U);case H:e:{for(_e=j.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(U,V.sibling),ee=h(V,j.children||[]),ee.return=U,U=ee;break e}else{a(U,V);break}else i(U,V);V=V.sibling}ee=Pf(j,U.mode,ee),ee.return=U,U=ee}return v(U);case S:return j=Fs(j),nt(U,V,j,ee)}if(Oe(j))return me(U,V,j,ee);if(M(j)){if(_e=M(j),typeof _e!="function")throw Error(s(150));return j=_e.call(j),Te(U,V,j,ee)}if(typeof j.then=="function")return nt(U,V,uc(j),ee);if(j.$$typeof===W)return nt(U,V,sc(U,j),ee);cc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(U,V.sibling),ee=h(V,j),ee.return=U,U=ee):(a(U,V),ee=kf(j,U.mode,ee),ee.return=U,U=ee),v(U)):a(U,V)}return function(U,V,j,ee){try{ul=0;var _e=nt(U,V,j,ee);return za=null,_e}catch(pe){if(pe===Ua||pe===oc)throw pe;var Ge=An(29,pe,null,U.mode);return Ge.lanes=ee,Ge.return=U,Ge}}}var Qs=ny(!0),iy=ny(!1),Pr=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(t),jg(t,null,a),i}return ec(t,l,i,a),tc(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}function $f(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function fl(){if(Jf){var t=La;if(t!==null)throw t}}function dl(t,i,a,l){Jf=!1;var h=t.updateQueue;Pr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,B=O.next;O.next=null,v===null?d=B:v.next=B,v=O;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==v&&(b===null?$.firstBaseUpdate=B:b.next=B,$.lastBaseUpdate=O))}if(d!==null){var te=h.baseState;v=0,$=B=O=null,b=d;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(ke&F)===F:(l&F)===F){F!==0&&F===Pa&&(Jf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=t,Te=b;F=i;var nt=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){te=me.call(nt,te,F);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,F=typeof me=="function"?me.call(nt,te,F):me,F==null)break e;te=T({},te,F);break e;case 2:Pr=!0}}F=b.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(B=$=K,O=te):$=$.next=K,v|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(O=te),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Hr|=v,t.lanes=v,t.memoizedState=te}}function ry(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function sy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],i)}var ja=P(null),hc=P(0);function ay(t,i){t=ar,ue(hc,t),ue(ja,i),ar=t|i.baseLanes}function Wf(){ue(hc,ar),ue(ja,ja.current)}function Zf(){ar=hc.current,ne(ja),ne(hc)}var wn=P(null),Qn=null;function zr(t){var i=t.alternate;ue(Tt,Tt.current&1),ue(wn,t),Qn===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(Qn=t)}function ed(t){ue(Tt,Tt.current),ue(wn,t),Qn===null&&(Qn=t)}function oy(t){t.tag===22?(ue(Tt,Tt.current),ue(wn,t),Qn===null&&(Qn=t)):jr()}function jr(){ue(Tt,Tt.current),ue(wn,wn.current)}function Rn(t){ne(wn),Qn===t&&(Qn=null),ne(Tt)}var Tt=P(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wi=0,Ie=null,et=null,Dt=null,dc=!1,Ba=!1,Ys=!1,mc=0,ml=0,qa=null,BS=0;function mt(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Sn(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Wi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Fy:yd,Ys=!1,d=a(l,h),Ys=!1,Ba&&(d=uy(i,a,l,h)),ly(t),d}function ly(t){Y.H=yl;var i=et!==null&&et.next!==null;if(Wi=0,Dt=et=Ie=null,dc=!1,ml=0,qa=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&rc(t)&&(Nt=!0))}function uy(t,i,a,l){Ie=t;var h=0;do{if(Ba&&(qa=null),ml=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,Dt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Gy,d=i(a,l)}while(Ba);return d}function qS(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function id(){var t=mc!==0;return mc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}Wi=0,Dt=et=Ie=null,Ba=!1,ml=mc=0,qa=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ie.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function bt(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Dt===null?Ie.memoizedState:Dt.next;if(i!==null)Dt=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Dt===null?Ie.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,qa===null&&(qa=[]),t=Zg(qa,t,i),i=Ie,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Fy:yd),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===W)return $t(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=w;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function yc(t){var i=bt();return od(i,et,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,O=null,B=i,$=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(ke&te)===te:(Wi&te)===te){var F=B.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===Pa&&($=!0);else if((Wi&F)===F){B=B.next,F===Pa&&($=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=te,v=d):O=O.next=te,Ie.lanes|=F,Hr|=F;te=B.action,Ys&&a(d,te),d=B.hasEagerState?B.eagerState:a(d,te)}else F={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=F,v=d):O=O.next=F,Ie.lanes|=te,Hr|=te;B=B.next}while(B!==null&&B!==i);if(O===null?v=d:O.next=b,!Sn(d,t.memoizedState)&&(Nt=!0,$&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Sn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(t,i,a){var l=Ie,h=bt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Sn((et||h).memoizedState,a);if(v&&(h.memoizedState=a,Nt=!0),h=h.queue,hd(dy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},fy.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));d||(Wi&127)!==0||hy(l,i,a)}return a}function hy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=pc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function fy(t,i,a,l){i.value=a,i.getSnapshot=l,my(i)&&py(t)}function dy(t,i,a){return a(function(){my(i)&&py(t)})}function my(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Sn(t,a)}catch{return!0}}function py(t){var i=Us(t,2);i!==null&&_n(i,t,2)}function ud(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Ys){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function gy(t,i,a,l){return t.baseState=a,od(t,et,typeof l=="function"?l:Zi)}function HS(t,i,a,l,h){if(Ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,yy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function yy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var b=a(h,l),O=Y.S;O!==null&&O(v,b),vy(t,i,b)}catch(B){cd(t,i,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(h,l),vy(t,i,d)}catch(B){cd(t,i,B)}}function vy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,i,l)},function(l){return cd(t,i,l)}):_y(t,i,a)}function _y(t,i,a){i.status="fulfilled",i.value=a,Ey(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,yy(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ey(i),i=i.next;while(i!==l)}t.action=null}function Ey(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ty(t,i){return i}function by(t,i){if(je){var a=rt.formState;if(a!==null){e:{var l=Ie;if(je){if(at){t:{for(var h=at,d=Gn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Yn(h.nextSibling),l=h.data==="F!";break e}}Vr(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:i},a.queue=l,a=By.bind(null,Ie,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,Ie,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=HS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Sy(t){var i=bt();return Ay(i,et,t)}function Ay(t,i,a){if(i=od(t,i,Ty)[0],t=yc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(v){throw v===Ua?oc:v}else l=i;i=bt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ha(9,{destroy:void 0},FS.bind(null,h,a),null)),[l,d,t]}function FS(t,i){t.action=i}function wy(t){var i=bt(),a=et;if(a!==null)return Ay(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=pc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ry(){return bt().memoizedState}function vc(t,i,a,l){var h=cn();Ie.flags|=t,h.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function _c(t,i,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&td(l,et.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ha(1|i,d,a,l))}function Cy(t,i){vc(8390656,8,t,i)}function hd(t,i){_c(2048,8,t,i)}function GS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=pc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xy(t){var i=bt().memoizedState;return GS({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Iy(t,i){return _c(4,2,t,i)}function Dy(t,i){return _c(4,4,t,i)}function Ny(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Oy(t,i,a){a=a!=null?a.concat([t]):null,_c(4,4,Ny.bind(null,i,t),a)}function fd(){}function My(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Vy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),Ys){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Wi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=kv(),Ie.lanes|=t,Hr|=t,a)}function ky(t,i,a,l){return Sn(a,i)?a:ja.current!==null?(t=dd(t,a,l),Sn(t,i)||(Nt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(ke&261930)===0?(Nt=!0,t.memoizedState=a):(t=kv(),Ie.lanes|=t,Hr|=t,i)}function Py(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=Y.T,b={};Y.T=b,gd(t,!1,i,a);try{var O=h(),B=Y.S;if(B!==null&&B(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=jS(O,l);gl(t,i,$,In(t))}else gl(t,i,l,In(t))}catch(te){gl(t,i,{then:function(){},status:"rejected",reason:te},In())}finally{se.p=d,v!==null&&b.types!==null&&(v.types=b.types),Y.T=v}}function QS(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ly(t).queue;Py(t,h,i,ge,a===null?QS:function(){return Uy(t),a(l)})}function Ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Uy(t){var i=Ly(t);i.next===null&&(i=t.alternate.memoizedState),gl(t,i.next.queue,{},In())}function pd(){return $t(Ml)}function zy(){return bt().memoizedState}function jy(){return bt().memoizedState}function YS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Lr(a);var l=Ur(i,t,a);l!==null&&(_n(l,i,a),hl(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function KS(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?qy(i,a):(a=Mf(t,i,a,l),a!==null&&(_n(a,t,l),Hy(a,i,l)))}function By(t,i,a){var l=In();gl(t,i,a,l)}function gl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))qy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,Sn(b,v))return ec(t,i,h,0),rt===null&&Zu(),!1}catch{}if(a=Mf(t,i,h,l),a!==null)return _n(a,t,l),Hy(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(i)throw Error(s(479))}else i=Mf(t,a,l,2),i!==null&&_n(i,t,2)}function Ec(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function qy(t,i){Ba=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Hy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}var yl={readContext:$t,use:gc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};yl.useEffectEvent=mt;var Fy={readContext:$t,use:gc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:Cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,vc(4194308,4,Ny.bind(null,i,t),a)},useLayoutEffect:function(t,i){return vc(4194308,4,t,i)},useInsertionEffect:function(t,i){vc(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(Ys){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Ys){Pn(!0);try{a(i)}finally{Pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=By.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=cn();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=Py.bind(null,Ie,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=cn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(ke&127)!==0||hy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Cy(dy.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},fy.bind(null,l,d,a,i),null),a},useId:function(){var t=cn(),i=rt.identifierPrefix;if(je){var a=Mi,l=Oi;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=BS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:by,useActionState:by,useOptimistic:function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return cn().memoizedState=YS.bind(null,Ie)},useEffectEvent:function(t){var i=cn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:$t,use:gc,useCallback:My,useContext:$t,useEffect:hd,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:Vy,useReducer:yc,useRef:Ry,useState:function(){return yc(Zi)},useDebugValue:fd,useDeferredValue:function(t,i){var a=bt();return ky(a,et.memoizedState,t,i)},useTransition:function(){var t=yc(Zi)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:cy,useId:zy,useHostTransitionStatus:pd,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,i){var a=bt();return gy(a,et,t,i)},useMemoCache:ad,useCacheRefresh:jy};yd.useEffectEvent=xy;var Gy={readContext:$t,use:gc,useCallback:My,useContext:$t,useEffect:hd,useImperativeHandle:Oy,useInsertionEffect:Iy,useLayoutEffect:Dy,useMemo:Vy,useReducer:ld,useRef:Ry,useState:function(){return ld(Zi)},useDebugValue:fd,useDeferredValue:function(t,i){var a=bt();return et===null?dd(a,t,i):ky(a,et.memoizedState,t,i)},useTransition:function(){var t=ld(Zi)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:cy,useId:zy,useHostTransitionStatus:pd,useFormState:wy,useActionState:wy,useOptimistic:function(t,i){var a=bt();return et!==null?gy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:jy};Gy.useEffectEvent=xy;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=Lr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(_n(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=Lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(_n(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(_n(i,t,a),hl(i,t,a))}};function Qy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Yy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ky(t){Wu(t)}function Xy(t){console.error(t)}function $y(t){Wu(t)}function Tc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,i)},a}function Wy(t){return t=Lr(t),t.tag=3,t}function Zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Jy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Jy(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function XS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?Mc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),Mc(),!1}if(je)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),al(qn(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),al(qn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,a),h=Ed(t.stateNode,l,h),$f(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),wl===null?wl=[d]:wl.push(d),pt!==4&&(pt=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),$f(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wy(h),Zy(h,t,a,l),$f(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),Nt=!1;function Jt(t,i,a,l){i.child=t===null?iy(i,null,a,l):Qs(i,t.child,a,l)}function ev(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return qs(i),l=nd(t,i,a,v,d,h),b=id(),t!==null&&!Nt?(rd(t,i,h),er(t,i,h)):(je&&b&&Lf(i),i.flags|=1,Jt(t,i,l,h),i.child)}function tv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,nv(t,i,d,l,h)):(t=nc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Id(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&t.ref===i.ref)return er(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function nv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Id(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,er(t,i,h)}return bd(t,i,a,l,h)}function iv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return rv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?ay(i,d):Wf(),oy(i);else return l=i.lanes=536870912,rv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),ay(i,d),jr(),i.memoizedState=null):(t!==null&&ac(i,null),Wf(),jr());return Jt(t,i,h,a),i.child}function vl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function rv(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:It._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(i,null),Wf(),oy(i),t!==null&&ka(t,i,l,!0),i.childLanes=h,null}function bc(t,i){return i=Ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function sv(t,i,a){return Qs(i,t.child,null,a),t=bc(i,i.pendingProps),t.flags|=2,Rn(i),i.memoizedState=null,t}function $S(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=bc(i,l),i.lanes=536870912,vl(null,t);if(ed(i),(t=at)?(t=y_(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=i,i.child=a,Xt=i,at=null)):t=null,t===null)throw Vr(i);return i.lanes=536870912,null}return bc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=sv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||ka(t,i,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=rt,l!==null&&(v=zo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Us(t,v),_n(l,t,v),Td;Mc(),i=sv(t,i,a)}else t=d.treeContext,at=Yn(v.nextSibling),Xt=i,je=!0,Mr=null,Gn=!1,t!==null&&Gg(i,t),i=bc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function bd(t,i,a,l,h){return qs(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!Nt?(rd(t,i,h),er(t,i,h)):(je&&l&&Lf(i),i.flags|=1,Jt(t,i,a,h),i.child)}function av(t,i,a,l,h,d){return qs(i),i.updateQueue=null,a=uy(i,l,a,h),ly(t),l=id(),t!==null&&!Nt?(rd(t,i,d),er(t,i,d)):(je&&l&&Lf(i),i.flags|=1,Jt(t,i,a,d),i.child)}function ov(t,i,a,l,h){if(qs(i),i.stateNode===null){var d=Na,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Na,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,O=Ks(a,b);d.props=O;var B=d.context,$=a.contextType;v=Na,typeof $=="object"&&$!==null&&(v=$t($));var te=a.getDerivedStateFromProps;$=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==v)&&Yy(i,d,l,v),Pr=!1;var F=i.memoizedState;d.state=F,dl(i,l,d,h),fl(),B=i.memoizedState,b||F!==B||Pr?(typeof te=="function"&&(vd(i,a,te,l),B=i.memoizedState),(O=Pr||Qy(i,a,O,l,F,B,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Xf(t,i),v=i.memoizedProps,$=Ks(a,v),d.props=$,te=i.pendingProps,F=d.context,B=a.contextType,O=Na,typeof B=="object"&&B!==null&&(O=$t(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||F!==O)&&Yy(i,d,l,O),Pr=!1,F=i.memoizedState,d.state=F,dl(i,l,d,h),fl();var K=i.memoizedState;v!==te||F!==K||Pr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),K=i.memoizedState),($=Pr||Qy(i,a,$,l,F,K,O)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Qs(i,t.child,null,h),i.child=Qs(i,null,a,h)):Jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=er(t,i,h),t}function lv(t,i,a,l){return js(),i.flags|=256,Jt(t,i,a,l),i.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:Jg()}}function wd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function uv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?zr(i):jr(),(t=at)?(t=y_(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=i,i.child=a,Xt=i,at=null)):t=null,t===null)throw Vr(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(jr(),h=i.mode,b=Ac({mode:"hidden",children:b},h),l=zs(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Ad(a),l.childLanes=wd(t,v,a),i.memoizedState=Sd,vl(null,l)):(zr(i),Rd(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(zr(i),i.flags&=-257,i=Cd(t,i,a)):i.memoizedState!==null?(jr(),i.child=t.child,i.flags|=128,i=null):(jr(),b=l.fallback,h=i.mode,l=Ac({mode:"visible",children:l.children},h),b=zs(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Qs(i,t.child,null,a),l=i.child,l.memoizedState=Ad(a),l.childLanes=wd(t,v,a),i.memoizedState=Sd,i=vl(null,l));else if(zr(i),om(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),i=Cd(t,i,a)}else if(Nt||ka(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=rt,v!==null&&(l=zo(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Us(t,l),_n(v,t,l),Td;am(b)||Mc(),i=Cd(t,i,a)}else am(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,at=Yn(b.nextSibling),Xt=i,je=!0,Mr=null,Gn=!1,t!==null&&Gg(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(jr(),b=l.fallback,h=i.mode,O=t.child,B=O.sibling,l=Ki(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,B!==null?b=Ki(B,b):(b=zs(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,vl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Ad(a):(h=b.cachePool,h!==null?(O=It._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Jg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=wd(t,v,a),i.memoizedState=Sd,vl(t.child,l)):(zr(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=An(22,t,null,i),t.lanes=0,t}function Cd(t,i,a){return Qs(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function xd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function hv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Tt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,ue(Tt,v),Jt(t,i,l,a),l=je?sl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cv(t,a,i);else if(t.tag===19)cv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),xd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xd(i,!0,a,null,d,l);break;case"together":xd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function er(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Hr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function JS(t,i,a){switch(i.tag){case 3:Lt(i,i.stateNode.containerInfo),kr(i,It,t.memoizedState.cache),js();break;case 27:case 5:Es(i);break;case 4:Lt(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uv(t,i,a):(zr(i),t=er(t,i,a),t!==null?t.sibling:null);zr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return hv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(Tt,Tt.current),l)break;return null;case 22:return i.lanes=0,iv(t,i,a,i.pendingProps);case 24:kr(i,It,t.memoizedState.cache)}return er(t,i,a)}function fv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Id(t,a)&&(i.flags&128)===0)return Nt=!1,JS(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,je&&(i.flags&1048576)!==0&&Fg(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fs(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Ks(t,l),i.tag=1,i=ov(null,i,t,l,a)):(i.tag=0,i=bd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===re){i.tag=11,i=ev(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=tv(null,i,t,l,a);break e}}throw i=ye(t)||t,Error(s(306,i,""))}}return i;case 0:return bd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),ov(t,i,l,h,a);case 3:e:{if(Lt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Xf(t,i),dl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,kr(i,It,l),l!==d.cache&&Hf(i,[It],a,!0),fl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=lv(t,i,l,a);break e}else if(l!==h){h=qn(Error(s(424)),i),al(h),i=lv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=Yn(t.firstChild),Xt=i,je=!0,Mr=null,Gn=!0,a=iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),l===h){i=er(t,i,a);break e}Jt(t,i,l,a)}i=i.child}return i;case 26:return Sc(t,i),t===null?(a=S_(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=jc(De.current).createElement(a),l[Rt]=i,l[qt]=t,Wt(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=S_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Es(i),t===null&&je&&(l=i.stateNode=E_(i.type,i.pendingProps,De.current),Xt=i,Gn=!0,h=at,Kr(i.type)?(lm=h,at=Yn(l.firstChild)):at=h),Jt(t,i,i.pendingProps.children,a),Sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=at)&&(l=C1(l,i.type,i.pendingProps,Gn),l!==null?(i.stateNode=l,Xt=i,at=Yn(l.firstChild),Gn=!1,h=!0):h=!1),h||Vr(i)),Es(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,qS,null,null,a),Ml._currentValue=h),Sc(t,i),Jt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=at)&&(a=x1(a,i.pendingProps,Gn),a!==null?(i.stateNode=a,Xt=i,at=null,t=!0):t=!1),t||Vr(i)),null;case 13:return uv(t,i,a);case 4:return Lt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Qs(i,null,l,a):Jt(t,i,l,a),i.child;case 11:return ev(t,i,i.type,i.pendingProps,a);case 7:return Jt(t,i,i.pendingProps,a),i.child;case 8:return Jt(t,i,i.pendingProps.children,a),i.child;case 12:return Jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qs(i),h=$t(h),l=l(h),i.flags|=1,Jt(t,i,l,a),i.child;case 14:return tv(t,i,i.type,i.pendingProps,a);case 15:return nv(t,i,i.type,i.pendingProps,a);case 19:return hv(t,i,a);case 31:return $S(t,i,a);case 22:return iv(t,i,a,i.pendingProps);case 24:return qs(i),l=$t(It),t===null?(h=Qf(),h===null&&(h=rt,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),kr(i,It,h)):((t.lanes&a)!==0&&(Xf(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,It,l)):(l=d.cache,kr(i,It,l),l!==h.cache&&Hf(i,[It],a,!0))),Jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function tr(t){t.flags|=4}function Dd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(zv())t.flags|=8192;else throw Gs=lc,Yf}else t.flags&=-16777217}function dv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x_(i))if(zv())t.flags|=8192;else throw Gs=lc,Yf}function wc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nu():536870912,t.lanes|=i,Ya|=i)}function _l(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function WS(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(It),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(i)?tr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(tr(i),d!==null?(ot(i),dv(i,d)):(ot(i),Dd(i,h,null,l,a))):d?d!==t.memoizedState?(tr(i),ot(i),dv(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&tr(i),ot(i),Dd(i,h,t,l,a)),null;case 27:if(fa(i),a=De.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=de.current,Va(i)?Qg(i):(t=E_(h,l,a),i.stateNode=t,tr(i))}return ot(i),null;case 5:if(fa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=de.current,Va(i))Qg(i);else{var v=jc(De.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Rt]=i,d[qt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Wt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(i)}}return ot(i),Dd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&tr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=De.current,Va(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u_(t.nodeValue,a)),t||Vr(i,!0)}else t=jc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Va(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),ot(i),null);case 4:return ut(),t===null&&Wd(i.stateNode.containerInfo),ot(i),null;case 10:return Ji(i.type),ot(i),null;case 19:if(ne(Tt),l=i.memoizedState,l===null)return ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)_l(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,_l(l,!1),t=d.updateQueue,i.updateQueue=t,wc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Bg(a,t),a=a.sibling;return ue(Tt,Tt.current&1|2),je&&Xi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&ln()>Dc&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304)}else{if(!h)if(t=fc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,wc(i,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return ot(i),null}else 2*ln()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,a=Tt.current,ue(Tt,h?a&1|2:a&1),je&&Xi(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return Rn(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ne(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(It),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ZS(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(It),ut(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(Tt),null;case 4:return ut(),null;case 10:return Ji(i.type),null;case 22:case 23:return Rn(i),Zf(),t!==null&&ne(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(It),null;case 25:return null;default:return null}}function mv(t,i){switch(Uf(i),i.tag){case 3:Ji(It),ut();break;case 26:case 27:case 5:fa(i);break;case 4:ut();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:ne(Tt);break;case 10:Ji(i.type);break;case 22:case 23:Rn(i),Zf(),t!==null&&ne(Hs);break;case 24:Ji(It)}}function El(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){We(i,i.return,b)}}function Br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var O=a,B=b;try{B()}catch($){We(h,O,$)}}}l=l.next}while(l!==d)}}catch($){We(i,i.return,$)}}function pv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sy(i,a)}catch(l){We(t,t.return,l)}}}function gv(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Tl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Vi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function yv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Nd(t,i,a){try{var l=t.stateNode;T1(l,t.type,a,i),l[qt]=i}catch(h){We(t,t.return,h)}}function vv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ei));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Md(t,i,a),t=t.sibling;t!==null;)Md(t,i,a),t=t.sibling}function Rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,i,a),t=t.sibling;t!==null;)Rc(t,i,a),t=t.sibling}function _v(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Wt(i,l,a),i[Rt]=t,i[qt]=a}catch(d){We(t,t.return,d)}}var nr=!1,Ot=!1,Vd=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function e1(t,i){if(t=t.containerInfo,tm=Yc,t=Og(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,O=-1,B=0,$=0,te=t,F=null;t:for(;;){for(var K;te!==a||h!==0&&te.nodeType!==3||(b=v+h),te!==d||l!==0&&te.nodeType!==3||(O=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(K=te.firstChild)!==null;)F=te,te=K;for(;;){if(te===t)break t;if(F===a&&++B===h&&(b=v),F===d&&++$===l&&(O=v),(K=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=K}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},Yc=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=Ks(a.type,h);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){We(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function Tv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(t,a),l&4&&El(5,a);break;case 1:if(rr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&pv(a),l&512&&Tl(a,a.return);break;case 3:if(rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&_v(a);case 26:case 5:rr(t,a),i===null&&l&4&&yv(a),l&512&&Tl(a,a.return);break;case 12:rr(t,a);break;case 31:rr(t,a),l&4&&Av(t,a);break;case 13:rr(t,a),l&4&&wv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=u1.bind(null,a),I1(t,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||Ot,h=nr;var d=Ot;nr=l,(Ot=i)&&!d?sr(t,a,(a.subtreeFlags&8772)!==0):rr(t,a),nr=h,Ot=d}break;case 30:break;default:rr(t,a)}}function bv(t){var i=t.alternate;i!==null&&(t.alternate=null,bv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,pn=!1;function ir(t,i,a){for(a=a.child;a!==null;)Sv(t,i,a),a=a.sibling}function Sv(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ot||Vi(a,i),ir(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Vi(a,i);var l=ht,h=pn;Kr(a.type)&&(ht=a.stateNode,pn=!1),ir(t,i,a),Dl(a.stateNode),ht=l,pn=h;break;case 5:Ot||Vi(a,i);case 6:if(l=ht,h=pn,ht=null,ir(t,i,a),ht=l,pn=h,ht!==null)if(pn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ht!==null&&(pn?(t=ht,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):p_(ht,a.stateNode));break;case 4:l=ht,h=pn,ht=a.stateNode.containerInfo,pn=!0,ir(t,i,a),ht=l,pn=h;break;case 0:case 11:case 14:case 15:Br(2,a,i),Ot||Br(4,a,i),ir(t,i,a);break;case 1:Ot||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gv(a,i,l)),ir(t,i,a);break;case 21:ir(t,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,ir(t,i,a),Ot=l;break;default:ir(t,i,a)}}function Av(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){We(i,i.return,a)}}}function wv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){We(i,i.return,a)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ev),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ev),i;default:throw Error(s(435,t.tag))}}function Cc(t,i){var a=t1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=c1.bind(null,t,l);l.then(h,h)}})}function gn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Kr(b.type)){ht=b.stateNode,pn=!1;break e}break;case 5:ht=b.stateNode,pn=!1;break e;case 3:case 4:ht=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(ht===null)throw Error(s(160));Sv(d,v,h),ht=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Rv(i,t),i=i.sibling}var ai=null;function Rv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),l&4&&(Br(3,t,t.return),El(3,t),Br(5,t,t.return));break;case 1:gn(i,t),yn(t),l&512&&(Ot||a===null||Vi(a,a.return)),l&64&&nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ai;if(gn(i,t),yn(t),l&512&&(Ot||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Wt(d,l,a),d[Rt]=t,Ct(d),l=d;break e;case"link":var v=R_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Wt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=R_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Wt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else C_(h,t.type,t.stateNode);else t.stateNode=w_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?C_(h,t.type,t.stateNode):w_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),l&512&&(Ot||a===null||Vi(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),l&512&&(Ot||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(me){We(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Nd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(gn(i,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){We(t,t.return,me)}}break;case 3:if(Hc=null,h=ai,ai=Bc(i.containerInfo),gn(i,t),ai=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(me){We(t,t.return,me)}Vd&&(Vd=!1,Cv(t));break;case 4:l=ai,ai=Bc(t.stateNode.containerInfo),gn(i,t),yn(t),ai=l;break;case 12:gn(i,t),yn(t);break;case 31:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,B=nr,$=Ot;if(nr=B||h,Ot=$||O,gn(i,t),Ot=$,nr=B,yn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||nr||Ot||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=O.stateNode;var te=O.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){We(O,O.return,me)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(me){We(O,O.return,me)}}}else if(i.tag===18){if(a===null){O=i;try{var K=O.stateNode;h?g_(K,!0):g_(O.stateNode,!1)}catch(me){We(O,O.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(t,a))));break;case 19:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(vv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Od(t);Rc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var b=Od(t);Rc(t,b,v);break;case 3:case 4:var O=a.stateNode.containerInfo,B=Od(t);Md(t,B,O);break;default:throw Error(s(161))}}catch($){We(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Cv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function rr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tv(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Xs(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gv(i,i.return,a),Xs(i);break;case 27:Dl(i.stateNode);case 26:case 5:Vi(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function sr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:sr(h,d,a),El(4,d);break;case 1:if(sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)ry(O[h],b)}catch(B){We(l,l.return,B)}}a&&v&64&&pv(d),Tl(d,d.return);break;case 27:_v(d);case 26:case 5:sr(h,d,a),a&&l===null&&v&4&&yv(d),Tl(d,d.return);break;case 12:sr(h,d,a);break;case 31:sr(h,d,a),a&&v&4&&Av(h,d);break;case 13:sr(h,d,a),a&&v&4&&wv(h,d);break;case 22:d.memoizedState===null&&sr(h,d,a),Tl(d,d.return);break;case 30:break;default:sr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function oi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xv(t,i,a,l),i=i.sibling}function xv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(t,i,a,l),h&2048&&El(9,i);break;case 1:oi(t,i,a,l);break;case 3:oi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){oi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){We(i,i.return,O)}}else oi(t,i,a,l);break;case 31:oi(t,i,a,l);break;case 13:oi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?oi(t,i,a,l):bl(t,i):d._visibility&2?oi(t,i,a,l):(d._visibility|=2,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(v,i);break;case 24:oi(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:oi(t,i,a,l)}}function Fa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,O=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,b,O,h),El(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Fa(d,v,b,O,h):bl(d,v):($._visibility|=2,Fa(d,v,b,O,h)),h&&B&2048&&kd(v.alternate,v);break;case 24:Fa(d,v,b,O,h),h&&B&2048&&Pd(v.alternate,v);break;default:Fa(d,v,b,O,h)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&kd(l.alternate,l);break;case 24:bl(a,l),h&2048&&Pd(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var Sl=8192;function Ga(t,i,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)Iv(t,i,a),t=t.sibling}function Iv(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&Sl&&t.memoizedState!==null&&B1(a,ai,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=ai;ai=Bc(t.stateNode.containerInfo),Ga(t,i,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Ga(t,i,a),Sl=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function Dv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,Ov(l,t)}Dv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nv(t),t=t.sibling}function Nv(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):Al(t);break;default:Al(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,Ov(l,t)}Dv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function Ov(t,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var h=l.sibling,d=l.return;if(bv(l),l===a){Ft=null;break e}if(h!==null){h.return=d,Ft=h;break e}Ft=d}}}var n1={getCacheForType:function(t){var i=$t(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(It).controller.signal}},i1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Me=null,ke=0,Je=0,Cn=null,qr=!1,Qa=!1,Ld=!1,ar=0,pt=0,Hr=0,$s=0,Ud=0,xn=0,Ya=0,wl=null,vn=null,zd=!1,Ic=0,Mv=0,Dc=1/0,Nc=null,Fr=null,zt=0,Gr=null,Ka=null,or=0,jd=0,Bd=null,Vv=null,Rl=0,qd=null;function In(){return(Ke&2)!==0&&ke!==0?ke&-ke:Y.T!==null?Kd():Ou()}function kv(){if(xn===0)if((ke&536870912)===0||je){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),xn=t}else xn=536870912;return t=wn.current,t!==null&&(t.flags|=32),xn}function _n(t,i,a){(t===rt&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Qr(t,ke,xn,!1)),As(t,a),((Ke&2)===0||t!==rt)&&(t===rt&&((Ke&2)===0&&($s|=a),pt===4&&Qr(t,ke,xn,!1)),ki(t))}function Pv(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),h=l?a1(t,i):Fd(t,i,!0),d=l;do{if(h===0){Qa&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!r1(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=wl;var O=b.current.memoizedState.isDehydrated;if(O&&(Xa(b,v).flags|=256),v=Fd(b,v,!1),v!==2){if(Ld&&!O){b.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=vn,vn=h,d!==null&&(vn===null?vn=d:vn.push.apply(vn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Xa(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,xn,!qr);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ic+300-ln(),10<h)){if(Qr(l,i,xn,!qr),yi(l,0,!0)!==0)break e;or=i,l.timeoutHandle=d_(Lv.bind(null,l,a,vn,Nc,zd,i,xn,$s,Ya,qr,d,"Throttled",-0,0),h);break e}Lv(l,a,vn,Nc,zd,i,xn,$s,Ya,qr,d,null,-0,0)}}break}while(!0);ki(t)}function Lv(t,i,a,l,h,d,v,b,O,B,$,te,F,K){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Iv(i,d,te);var me=(d&62914560)===d?Ic-ln():(d&4194048)===d?Mv-ln():0;if(me=q1(te,me),me!==null){or=d,t.cancelPendingCommit=me(Gv.bind(null,t,i,d,a,l,h,v,b,O,$,te,null,F,K)),Qr(t,d,v,!B);return}}Gv(t,i,d,a,l,h,v,b,O)}function r1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~Ud,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-_t(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ws(t,a,i)}function Oc(){return(Ke&6)===0?(Cl(0),!1):!0}function Hd(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,$i=Bs=null,sd(t),za=null,ul=0,t=Me;for(;t!==null;)mv(t.alternate,t),t=t.return;Me=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,A1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),or=0,Hd(),rt=t,Me=a=Ki(t.current,null),ke=i,Je=0,Cn=null,qr=!1,Qa=Jn(t,i),Ld=!1,Ya=xn=Ud=$s=Hr=pt=0,vn=wl=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-_t(l),d=1<<h;i|=t[h],l&=~d}return ar=i,Zu(),a}function Uv(t,i){Ie=null,Y.H=yl,i===Ua||i===oc?(i=ey(),Je=3):i===Yf?(i=ey(),Je=4):Je=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Me===null&&(pt=1,Tc(t,qn(i,t.current)))}function zv(){var t=wn.current;return t===null?!0:(ke&4194048)===ke?Qn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Qn:!1}function jv(){var t=Y.H;return Y.H=yl,t===null?yl:t}function Bv(){var t=Y.A;return Y.A=n1,t}function Mc(){pt=4,qr||(ke&4194048)!==ke&&wn.current!==null||(Qa=!0),(Hr&134217727)===0&&($s&134217727)===0||rt===null||Qr(rt,ke,xn,!1)}function Fd(t,i,a){var l=Ke;Ke|=2;var h=jv(),d=Bv();(rt!==t||ke!==i)&&(Nc=null,Xa(t,i)),i=!1;var v=pt;e:do try{if(Je!==0&&Me!==null){var b=Me,O=Cn;switch(Je){case 8:Hd(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var B=Je;if(Je=0,Cn=null,$a(t,b,O,B),a&&Qa){v=0;break e}break;default:B=Je,Je=0,Cn=null,$a(t,b,O,B)}}s1(),v=pt;break}catch($){Uv(t,$)}while(!0);return i&&t.shellSuspendCounter++,$i=Bs=null,Ke=l,Y.H=h,Y.A=d,Me===null&&(rt=null,ke=0,Zu()),v}function s1(){for(;Me!==null;)qv(Me)}function a1(t,i){var a=Ke;Ke|=2;var l=jv(),h=Bv();rt!==t||ke!==i?(Nc=null,Dc=ln()+500,Xa(t,i)):Qa=Jn(t,i);e:do try{if(Je!==0&&Me!==null){i=Me;var d=Cn;t:switch(Je){case 1:Je=0,Cn=null,$a(t,i,d,1);break;case 2:case 9:if(Wg(d)){Je=0,Cn=null,Hv(i);break}i=function(){Je!==2&&Je!==9||rt!==t||(Je=7),ki(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Wg(d)?(Je=0,Cn=null,Hv(i)):(Je=0,Cn=null,$a(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var b=Me;if(v?x_(v):b.stateNode.complete){Je=0,Cn=null;var O=b.sibling;if(O!==null)Me=O;else{var B=b.return;B!==null?(Me=B,Vc(B)):Me=null}break t}}Je=0,Cn=null,$a(t,i,d,5);break;case 6:Je=0,Cn=null,$a(t,i,d,6);break;case 8:Hd(),pt=6;break e;default:throw Error(s(462))}}o1();break}catch($){Uv(t,$)}while(!0);return $i=Bs=null,Y.H=l,Y.A=h,Ke=a,Me!==null?0:(rt=null,ke=0,Zu(),pt)}function o1(){for(;Me!==null&&!Ef();)qv(Me)}function qv(t){var i=fv(t.alternate,t,ar);t.memoizedProps=t.pendingProps,i===null?Vc(t):Me=i}function Hv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=av(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=av(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:sd(i);default:mv(a,i),i=Me=Bg(i,ar),i=fv(a,i,ar)}t.memoizedProps=t.pendingProps,i===null?Vc(t):Me=i}function $a(t,i,a,l){$i=Bs=null,sd(i),za=null,ul=0;var h=i.return;try{if(XS(t,h,i,a,ke)){pt=1,Tc(t,qn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;pt=1,Tc(t,qn(a,t.current)),Me=null;return}i.flags&32768?(je||l===1?t=!0:Qa||(ke&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fv(i,t)):Vc(i)}function Vc(t){var i=t;do{if((i.flags&32768)!==0){Fv(i,qr);return}t=i.return;var a=WS(i.alternate,i,ar);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);pt===0&&(pt=5)}function Fv(t,i){do{var a=ZS(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);pt=6,Me=null}function Gv(t,i,a,l,h,d,v,b,O){t.cancelPendingCommit=null;do kc();while(zt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Of,Sf(t,a,d,v,b,O),t===rt&&(Me=rt=null,ke=0),Ka=i,Gr=t,or=a,jd=d,Bd=h,Vv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h1(br,function(){return $v(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,v=Ke,Ke|=4;try{e1(t,i,a)}finally{Ke=v,se.p=h,Y.T=l}}zt=1,Qv(),Yv(),Kv()}}function Qv(){if(zt===1){zt=0;var t=Gr,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{Rv(i,t);var d=nm,v=Og(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Ng(b.ownerDocument.documentElement,b)){if(O!==null&&Cf(b)){var B=O.start,$=O.end;if($===void 0&&($=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min($,b.value.length);else{var te=b.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var K=F.getSelection(),me=b.textContent.length,Te=Math.min(O.start,me),nt=O.end===void 0?Te:Math.min(O.end,me);!K.extend&&Te>nt&&(v=nt,nt=Te,Te=v);var U=Dg(b,Te),V=Dg(b,nt);if(U&&V&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var j=te.createRange();j.setStart(U.node,U.offset),K.removeAllRanges(),Te>nt?(K.addRange(j),K.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),K.addRange(j))}}}}for(te=[],K=b;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Yc=!!tm,nm=tm=null}finally{Ke=h,se.p=l,Y.T=a}}t.current=i,zt=2}}function Yv(){if(zt===2){zt=0;var t=Gr,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{Tv(t,i.alternate,i)}finally{Ke=h,se.p=l,Y.T=a}}zt=3}}function Kv(){if(zt===4||zt===3){zt=0,wu();var t=Gr,i=Ka,a=or,l=Vv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Ka=Gr=null,Xv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fr=null),Fi(a),i=i.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,se.p=h}}(or&3)!==0&&kc(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?Rl++:(Rl=0,qd=t):Rl=0,Cl(0)}}function Xv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function kc(){return Qv(),Yv(),Kv(),$v()}function $v(){if(zt!==5)return!1;var t=Gr,i=jd;jd=0;var a=Fi(or),l=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=Bd,Bd=null;var d=Gr,v=or;if(zt=0,Ka=Gr=null,or=0,(Ke&6)!==0)throw Error(s(331));var b=Ke;if(Ke|=4,Nv(d.current),xv(d,d.current,v,a),Ke=b,Cl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{se.p=h,Y.T=l,Xv(t,i)}}function Jv(t,i,a){i=qn(a,i),i=Ed(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(As(t,2),ki(t))}function We(t,i,a){if(t.tag===3)Jv(t,t,a);else for(;i!==null;){if(i.tag===3){Jv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=qn(a,t),a=Wy(2),l=Ur(i,a,2),l!==null&&(Zy(a,l,i,t),As(l,2),ki(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new i1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=l1.bind(null,t,i,a),i.then(t,t))}function l1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(ke&a)===a&&(pt===4||pt===3&&(ke&62914560)===ke&&300>ln()-Ic?(Ke&2)===0&&Xa(t,0):Ud|=a,Ya===ke&&(Ya=0)),ki(t)}function Wv(t,i){i===0&&(i=Nu()),t=Us(t,i),t!==null&&(As(t,i),ki(t))}function u1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Wv(t,a)}function c1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Wv(t,a)}function h1(t,i){return Ut(t,i)}var Pc=null,Ja=null,Qd=!1,Lc=!1,Yd=!1,Yr=0;function ki(t){t!==Ja&&t.next===null&&(Ja===null?Pc=Ja=t:Ja=Ja.next=t),Lc=!0,Qd||(Qd=!0,d1())}function Cl(t,i){if(!Yd&&Lc){Yd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n_(l,d))}else d=ke,d=yi(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,n_(l,d));l=l.next}while(a);Yd=!1}}function f1(){Zv()}function Zv(){Lc=Qd=!1;var t=0;Yr!==0&&S1()&&(t=Yr);for(var i=ln(),a=null,l=Pc;l!==null;){var h=l.next,d=e_(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}zt!==0&&zt!==5||Cl(t),Yr!==0&&(Yr=0)}function e_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-_t(d),b=1<<v,O=h[v];O===-1?((b&a)===0||(b&l)!==0)&&(h[v]=bf(b,i)):O<=i&&(t.expiredLanes|=b),d&=~b}if(i=rt,a=ke,a=yi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Tr(l),Fi(a)){case 2:case 8:a=Lo;break;case 32:a=br;break;case 268435456:a=Ru;break;default:a=br}return l=t_.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function t_(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=ke;return l=yi(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pv(t,l,i),e_(t,ln()),t.callbackNode!=null&&t.callbackNode===a?t_.bind(null,t):null)}function n_(t,i){if(kc())return null;Pv(t,i,!0)}function d1(){w1(function(){(Ke&6)!==0?Ut(Po,f1):Zv()})}function Kd(){if(Yr===0){var t=Pa;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Yr=t}return Yr}function i_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function r_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function m1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=i_((h[qt]||null).action),v=l.submitter;v&&(i=(i=v[qt]||null)?i_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new xi("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var O=v?r_(h,v):new FormData(h);md(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=v?r_(h,v):new FormData(h),md(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Xd=0;Xd<Nf.length;Xd++){var $d=Nf[Xd],p1=$d.toLowerCase(),g1=$d[0].toUpperCase()+$d.slice(1);si(p1,"on"+g1)}si(kg,"onAnimationEnd"),si(Pg,"onAnimationIteration"),si(Lg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(OS,"onTransitionRun"),si(MS,"onTransitionStart"),si(VS,"onTransitionCancel"),si(Ug,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function s_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],O=b.instance,B=b.currentTarget;if(b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=B;try{d(h)}catch($){Wu($)}h.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(b=l[v],O=b.instance,B=b.currentTarget,b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=B;try{d(h)}catch($){Wu($)}h.currentTarget=null,d=O}}}}function Ve(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=t+"__bubble";a.has(l)||(a_(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),a_(a,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Uc]){t[Uc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(y1.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Jd("selectionchange",!1,i))}}function a_(t,i,a,l){switch(k_(i)){case 2:var h=G1;break;case 8:h=Q1;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Ti(b),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}b=b.parentNode}}l=l.return}xr(function(){var B=d,$=Un(a),te=[];e:{var F=zg.get(t);if(F!==void 0){var K=xi,me=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":K=Xu;break;case"focusin":me="focus",K=Vs;break;case"focusout":me="blur",K=Vs;break;case"beforeblur":case"afterblur":K=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case kg:case Pg:case Lg:K=qu;break;case Ug:K=A;break;case"scroll":case"scrollend":K=Wo;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Yi;break;case"toggle":case"beforetoggle":K=xe}var Te=(i&4)!==0,nt=!Te&&(t==="scroll"||t==="scrollend"),U=Te?F!==null?F+"Capture":null:F;Te=[];for(var V=B,j;V!==null;){var ee=V;if(j=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||j===null||U===null||(ee=ti(V,U),ee!=null&&Te.push(Il(V,ee,j))),nt)break;V=V.return}0<Te.length&&(F=new K(F,me,null,a,$),te.push({event:F,listeners:Te}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Xo&&(me=a.relatedTarget||a.fromElement)&&(Ti(me)||me[_i]))break e;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(me=a.relatedTarget||a.toElement,K=B,me=me?Ti(me):null,me!==null&&(nt=u(me),Te=me.tag,me!==nt||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(K=null,me=B),K!==me)){if(Te=Zo,ee="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Yi,ee="onPointerLeave",U="onPointerEnter",V="pointer"),nt=K==null?F:Tn(K),j=me==null?F:Tn(me),F=new Te(ee,V+"leave",K,a,$),F.target=nt,F.relatedTarget=j,ee=null,Ti($)===B&&(Te=new Te(U,V+"enter",me,a,$),Te.target=j,Te.relatedTarget=nt,ee=Te),nt=ee,K&&me)t:{for(Te=v1,U=K,V=me,j=0,ee=U;ee;ee=Te(ee))j++;ee=0;for(var _e=V;_e;_e=Te(_e))ee++;for(;0<j-ee;)U=Te(U),j--;for(;0<ee-j;)V=Te(V),ee--;for(;j--;){if(U===V||V!==null&&U===V.alternate){Te=U;break t}U=Te(U),V=Te(V)}Te=null}else Te=null;K!==null&&o_(te,F,K,Te,!1),me!==null&&nt!==null&&o_(te,nt,me,Te,!0)}}e:{if(F=B?Tn(B):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Ge=Ag;else if(bg(F))if(wg)Ge=IS;else{Ge=CS;var pe=RS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Ea(B.elementType)&&(Ge=Ag):Ge=xS;if(Ge&&(Ge=Ge(t,B))){Sg(te,Ge,a,$);break e}pe&&pe(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Qo(F,"number",F.value)}switch(pe=B?Tn(B):window,t){case"focusin":(bg(pe)||pe.contentEditable==="true")&&(xa=pe,xf=B,rl=null);break;case"focusout":rl=xf=xa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Mg(te,a,$);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":Mg(te,a,$)}var Ne;if(Ye)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ca?ks(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ni&&a.locale!=="ko"&&(Ca||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ca&&(Ne=Jo()):(Ci=$,$o="value"in Ci?Ci.value:Ci.textContent,Ca=!0)),pe=zc(B,Pe),0<pe.length&&(Pe=new Di(Pe,t,null,a,$),te.push({event:Pe,listeners:pe}),Ne?Pe.data=Ne:(Ne=Ra(a),Ne!==null&&(Pe.data=Ne)))),(Ne=jn?bS(t,a):SS(t,a))&&(Pe=zc(B,"onBeforeInput"),0<Pe.length&&(pe=new Di("onBeforeInput","beforeinput",null,a,$),te.push({event:pe,listeners:Pe}),pe.data=Ne)),m1(te,t,B,a,$)}s_(te,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function zc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ti(t,a),h!=null&&l.unshift(Il(t,h,d)),h=ti(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function v1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,O=b.alternate,B=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||B===null||(O=B,h?(B=ti(a,d),B!=null&&v.unshift(Il(a,B,O))):h||(B=ti(a,d),B!=null&&v.push(Il(a,B,O)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var _1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(_1,`
`).replace(E1,"")}function u_(t,i){return i=l_(i),l_(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&mn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),va(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,va(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Wt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,v,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var b=d=v=h=null,O=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":O=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:tt(t,i,l,$,a,null)}}Pu(t,d,b,O,B,v,h,!1);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:tt(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ar(t,!!l,i,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:tt(t,i,v,b,a,null)}wr(t,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,i,O,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ve(xl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,B,l,a,null)}return;default:if(Ea(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&em(t,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&tt(t,i,b,l,a,null))}function T1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,O=null,B=null,$=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(K)||tt(t,i,K,null,l,te)}}for(var F in l){var K=l[F];if(te=a[F],l.hasOwnProperty(F)&&(K!=null||te!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":v=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==te&&tt(t,i,F,K,l,te)}}_a(t,v,b,O,B,$,d,h);return;case"select":K=v=b=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==O&&tt(t,i,h,d,l,O)}i=b,a=v,l=K,F!=null?Ar(t,!!a,F,!1):!!l!=!!a&&(i!=null?Ar(t,!!a,i,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,v,h,l,d)}Lu(t,F,K);return;case"option":for(var me in a)F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:tt(t,i,me,null,l,F));for(O in l)F=l[O],K=a[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null)&&(O==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":tt(t,i,O,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te)&&tt(t,i,Te,null,l,F);for(B in l)if(F=l[B],K=a[B],l.hasOwnProperty(B)&&F!==K&&(F!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:tt(t,i,B,F,l,K)}return;default:if(Ea(i)){for(var nt in a)F=a[nt],a.hasOwnProperty(nt)&&F!==void 0&&!l.hasOwnProperty(nt)&&em(t,i,nt,void 0,l,F);for($ in l)F=l[$],K=a[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||em(t,i,$,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,F);for(te in l)F=l[te],K=a[te],!l.hasOwnProperty(te)||F===K||F==null&&K==null||tt(t,i,te,F,l,K)}function c_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&c_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],B=O.startTime;if(B>b)break;var $=O.transferSize,te=O.initiatorType;$&&c_(te)&&(O=O.responseEnd,v+=$*(O<b?1:(b-B)/(O-B)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function h_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function S1(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(R1)}:d_;function R1(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function p_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Dl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Ei]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Dl(t.ownerDocument.body);a=h}while(a);to(i)}function g_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function C1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function x1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function y_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Yn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function I1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function v_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Yn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function __(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function E_(t,i,a){switch(i=jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var Kn=new Map,T_=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=se.d;se.d={f:D1,r:N1,D:O1,C:M1,L:V1,m:k1,X:L1,S:P1,M:U1};function D1(){var t=lr.f(),i=Oc();return t||i}function N1(t){var i=Ln(t);i!==null&&i.tag===5&&i.type==="form"?Uy(i):lr.r(t)}var Wa=typeof document>"u"?null:document;function b_(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=dn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),T_.has(h)||(T_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Wt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function O1(t){lr.D(t),b_("dns-prefetch",t,null)}function M1(t,i){lr.C(t,i),b_("preconnect",t,i)}function V1(t,i,a){lr.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var d=h;switch(i){case"style":d=Za(t);break;case"script":d=eo(t)}Kn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Wt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function k1(t,i){lr.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Kn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Wt(l,"link",t),Ct(l),a.head.appendChild(l)}}}function P1(t,i,a){lr.S(t,i,a);var l=Wa;if(l&&t){var h=bi(l).hoistableStyles,d=Za(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Nl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kn.get(d))&&um(t,a);var O=v=l.createElement("link");Ct(O),Wt(O,"link",t),O._p=new Promise(function(B,$){O.onload=B,O.onerror=$}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function L1(t,i){lr.X(t,i);var a=Wa;if(a&&t){var l=bi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=T({src:t,async:!0},i),(i=Kn.get(h))&&cm(t,i),d=a.createElement("script"),Ct(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function U1(t,i){lr.M(t,i);var a=Wa;if(a&&t){var l=bi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Kn.get(h))&&cm(t,i),d=a.createElement("script"),Ct(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function S_(t,i,a,l){var h=(h=De.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=bi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=bi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Nl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),d||z1(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=bi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+dn(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function A_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function z1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Wt(i,"link",a),Ct(i),t.head.appendChild(i))}function eo(t){return'[src="'+dn(t)+'"]'}function Ol(t){return"script[async]"+t}function w_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Wt(l,"style",h),qc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=A_(a),(h=Kn.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),Ct(d);var v=d;return v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),Wt(d,"link",l),i.state.loading|=4,qc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,Ct(h),h):(l=a,(h=Kn.get(d))&&(l=T({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),Wt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,t));return i.instance}function qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Hc=null;function R_(t,i,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ei]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function C_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function j1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function B1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),d=i.querySelector(Nl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Fc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ct(d);return}d=i.ownerDocument||i,l=A_(l),(h=Kn.get(h))&&um(l,h),d=d.createElement("link"),Ct(d);var v=d;v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),Wt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function q1(t,i){return t.stylesheets&&t.count===0&&Qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*b1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Qc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(H1,t),Gc=null,Fc.call(t))}function H1(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:W,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function F1(t,i,a,l,h,d,v,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function I_(t,i,a,l,h,d,v,b,O,B,$,te){return t=new F1(t,i,a,v,O,B,$,te,b),i=1,d===!0&&(i|=24),d=An(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function D_(t){return t?(t=Na,t):Na}function N_(t,i,a,l,h,d){h=D_(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(_n(a,t,i),hl(a,t,i))}function O_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){O_(t,i),(t=t.alternate)&&O_(t,i)}function M_(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&_n(i,t,67108864),fm(t,67108864)}}function V_(t){if(t.tag===13||t.tag===31){var i=In();i=Rs(i);var a=Us(t,i);a!==null&&_n(a,t,i),fm(t,i)}}var Yc=!0;function G1(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,dm(t,i,a,l)}finally{se.p=d,Y.T=h}}function Q1(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,dm(t,i,a,l)}finally{se.p=d,Y.T=h}}function dm(t,i,a,l){if(Yc){var h=mm(l);if(h===null)Zd(t,i,l,Kc,a),P_(t,l);else if(K1(h,t,i,a,l))l.stopPropagation();else if(P_(t,l),i&4&&-1<Y1.indexOf(t)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=gi(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var O=1<<31-_t(v);b.entanglements[1]|=O,v&=~O}ki(d),(Ke&6)===0&&(Dc=ln()+500,Cl(0))}}break;case 31:case 13:b=Us(d,2),b!==null&&_n(b,d,2),Oc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,Kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=Un(t),pm(t)}var Kc=null;function pm(t){if(Kc=null,t=Ti(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function k_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Po:return 2;case Lo:return 8;case br:case Tf:return 32;case Ru:return 268435456;default:return 32}default:return 32}}var gm=!1,Xr=null,$r=null,Jr=null,Vl=new Map,kl=new Map,Wr=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Pl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ln(i),i!==null&&M_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function K1(t,i,a,l,h){switch(i){case"focusin":return Xr=Pl(Xr,t,i,a,l,h),!0;case"dragenter":return $r=Pl($r,t,i,a,l,h),!0;case"mouseover":return Jr=Pl(Jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Pl(Vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Pl(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function L_(t){var i=Ti(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){V_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){V_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=Ln(a),i!==null&&M_(i),t.blockedOn=a,!1;i.shift()}return!0}function U_(t,i,a){Xc(t)&&a.delete(i)}function X1(){gm=!1,Xr!==null&&Xc(Xr)&&(Xr=null),$r!==null&&Xc($r)&&($r=null),Jr!==null&&Xc(Jr)&&(Jr=null),Vl.forEach(U_),kl.forEach(U_)}function $c(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,X1)))}var Jc=null;function z_(t){Jc!==t&&(Jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=Ln(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function i(O){return $c(O,t)}Xr!==null&&$c(Xr,t),$r!==null&&$c($r,t),Jr!==null&&$c(Jr,t),Vl.forEach(i),kl.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)L_(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[qt]||null;if(typeof d=="function")v||z_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[qt]||null)b=v.formAction;else if(pm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),z_(a)}}}function j_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}Wc.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();N_(a,l,t,i,null,null)},Wc.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;N_(t.current,2,null,t,null,null),Oc(),i[_i]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&L_(t)}};var B_=e.version;if(B_!=="19.2.3")throw Error(s(527,B_,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var $1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{$n=Zc.inject($1),Yt=Zc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ky,d=Xy,v=$y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=I_(t,1,!1,null,null,a,l,null,h,d,v,j_),t[_i]=i.current,Wd(t),new ym(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ky,v=Xy,b=$y,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=I_(t,1,!0,i,a??null,l,h,O,d,v,b,j_),i.context=D_(null),a=i.current,l=In(),l=Rs(l),h=Lr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,As(i,a),ki(i),t[_i]=i.current,Wd(t),new Wc(i)},Ul.version="19.2.3",Ul}var J_;function oA(){if(J_)return Em.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=aA(),Em.exports}var lA=oA();var W_="popstate";function uA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return qm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return hA(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Xn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cA(){return Math.random().toString(36).substring(2,10)}function Z_(r,e){return{usr:r.state,key:r.key,idx:e}}function qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||cA()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function hA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),J=q==null?null:q-g;g=q,p&&p({action:m,location:G.location,delta:J})}function R(q,J){m="PUSH";let X=qm(G.location,q,J);g=E()+1;let W=Z_(X,g),re=G.createHref(X);try{f.pushState(W,"",re)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(re)}u&&p&&p({action:m,location:G.location,delta:1})}function L(q,J){m="REPLACE";let X=qm(G.location,q,J);g=E();let W=Z_(X,g),re=G.createHref(X);f.replaceState(W,"",re),u&&p&&p({action:m,location:G.location,delta:0})}function H(q){return fA(q)}let G={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(W_,T),p=q,()=>{o.removeEventListener(W_,T),p=null}},createHref(q){return e(o,q)},createURL:H,encodeLocation(q){let J=H(q);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:L,go(q){return f.go(q)}};return G}function fA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ME(r,e,n="/"){return dA(r,e,n,!1)}function dA(r,e,n,s){let o=typeof e=="string"?bo(e):e,u=mr(o.pathname||"/",n);if(u==null)return null;let f=VE(r);mA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=wA(u);m=SA(f[p],g,s)}return m}function VE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ft(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=dr([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(ft(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VE(f.children,e,R,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:TA(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of kE(f.path))u(f,m,!0,p)}),e}function kE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function mA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:bA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var pA=/^:[\w-]+$/,gA=3,yA=2,vA=1,_A=10,EA=-2,e0=r=>r==="*";function TA(r,e){let n=r.split("/"),s=n.length;return n.some(e0)&&(s+=EA),e&&(s+=yA),n.filter(o=>!e0(o)).reduce((o,u)=>o+(pA.test(u)?gA:u===""?vA:_A),s)}function bA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function SA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:dr([u,T.pathname]),pathnameBase:IA(dr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=dr([u,T.pathnameBase]))}return f}function Th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=AA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},R)=>{if(E==="*"){let H=m[R]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const L=m[R];return T&&!L?g[E]=void 0:g[E]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function AA(r,e=!1,n=!0){Xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RA=r=>PE.test(r);function CA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?bo(r):r,u;if(n)if(RA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=t0(n.substring(1),"/"):u=t0(n,e)}else u=e;return{pathname:u,search:DA(s),hash:NA(o)}}function t0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gp(r){let e=xA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yp(r,e,n,s=!1){let o;typeof r=="string"?o=bo(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=CA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var dr=r=>r.join("/").replace(/\/\/+/g,"/"),IA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),DA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,NA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,OA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function MA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function VA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function UE(r,e){let n=r;if(typeof n!="string"||!PE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(LE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=mr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Xn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zE=["POST","PUT","PATCH","DELETE"];new Set(zE);var kA=["GET",...zE];new Set(kA);var So=k.createContext(null);So.displayName="DataRouter";var Fh=k.createContext(null);Fh.displayName="DataRouterState";var PA=k.createContext(!1),jE=k.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var LA=k.createContext(new Map);LA.displayName="Fetchers";var UA=k.createContext(null);UA.displayName="Await";var kn=k.createContext(null);kn.displayName="Navigation";var lu=k.createContext(null);lu.displayName="Location";var di=k.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var vp=k.createContext(null);vp.displayName="RouteError";var BE="REACT_ROUTER_ERROR",zA="REDIRECT",jA="ROUTE_ERROR_RESPONSE";function BA(r){if(r.startsWith(`${BE}:${zA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qA(r){if(r.startsWith(`${BE}:${jA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OA(e.status,e.statusText,e.data)}catch{}}function HA(r,{relative:e}={}){ft(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(kn),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return k.useContext(lu)!=null}function ys(){return ft(Ao(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(lu).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HE(r){k.useContext(kn).static||k.useLayoutEffect(r)}function wo(){let{isDataRoute:r}=k.useContext(di);return r?iw():FA()}function FA(){ft(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(So),{basename:e,navigator:n}=k.useContext(kn),{matches:s}=k.useContext(di),{pathname:o}=ys(),u=JSON.stringify(gp(s)),f=k.useRef(!1);return HE(()=>{f.current=!0}),k.useCallback((p,g={})=>{if(Xn(f.current,qE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=yp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:dr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}k.createContext(null);function GA(){let{matches:r}=k.useContext(di),e=r[r.length-1];return e?e.params:{}}function uu(r,{relative:e}={}){let{matches:n}=k.useContext(di),{pathname:s}=ys(),o=JSON.stringify(gp(n));return k.useMemo(()=>yp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function QA(r,e){return FE(r,e)}function FE(r,e,n,s,o){ft(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(kn),{matches:f}=k.useContext(di),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";QE(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=ys(),L;if(e){let X=typeof e=="string"?bo(e):e;ft(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),L=X}else L=R;let H=L.pathname||"/",G=H;if(E!=="/"){let X=E.replace(/^\//,"").split("/");G="/"+H.replace(/^\//,"").split("/").slice(X.length).join("/")}let q=ME(r,{pathname:G});Xn(T||q!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Xn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=JA(q&&q.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:dr([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:dr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,o);return e&&J?k.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},J):J}function YA(){let r=nw(),e=MA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,f)}var KA=k.createElement(YA,null),GE=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=qA(r.digest);n&&(r=n)}let e=r!==void 0?k.createElement(di.Provider,{value:this.props.routeContext},k.createElement(vp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?k.createElement(XA,{error:r},e):e}};GE.contextType=PA;var wm=new WeakMap;function XA({children:r,error:e}){let{basename:n}=k.useContext(kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=BA(e.digest);if(s){let o=wm.get(e);if(o)throw o;let u=UE(s.location,n);if(LE&&!wm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wm.set(e,f),f}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function $A({routeContext:r,match:e,children:n}){let s=k.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(di.Provider,{value:r},n)}function JA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ft(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:R,errors:L}=n,H=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let L,H=!1,G=null,q=null;n&&(L=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||KA,m&&(p<0&&R===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,q=null):p===R&&(H=!0,q=T.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,R+1)),X=()=>{let W;return L?W=G:H?W=q:T.route.Component?W=k.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=E,k.createElement($A,{match:T,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:W})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?k.createElement(GE,{location:n.location,revalidation:n.revalidation,component:G,error:L,children:X(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):X()},null)}function _p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WA(r){let e=k.useContext(So);return ft(e,_p(r)),e}function ZA(r){let e=k.useContext(Fh);return ft(e,_p(r)),e}function ew(r){let e=k.useContext(di);return ft(e,_p(r)),e}function Ep(r){let e=ew(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function tw(){return Ep("useRouteId")}function nw(){let r=k.useContext(vp),e=ZA("useRouteError"),n=Ep("useRouteError");return r!==void 0?r:e.errors?.[n]}function iw(){let{router:r}=WA("useNavigate"),e=Ep("useNavigate"),n=k.useRef(!1);return HE(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{Xn(n.current,qE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var n0={};function QE(r,e,n){!e&&!n0[r]&&(n0[r]=!0,Xn(!1,n))}k.memo(rw);function rw({routes:r,future:e,state:n,onError:s}){return FE(r,void 0,n,s,e)}function sw({to:r,replace:e,state:n,relative:s}){ft(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(kn);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(di),{pathname:f}=ys(),m=wo(),p=yp(r,gp(u),f,s==="path"),g=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function no(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ft(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=bo(n));let{pathname:g="/",search:E="",hash:T="",state:R=null,key:L="default"}=n,H=k.useMemo(()=>{let G=mr(g,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:R,key:L},navigationType:s}},[m,g,E,T,R,L,s]);return Xn(H!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:k.createElement(kn.Provider,{value:p},k.createElement(lu.Provider,{children:e,value:H}))}function ow({children:r,location:e}){return QA(Hm(r),e)}function Hm(r,e=[]){let n=[];return k.Children.forEach(r,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){n.push.apply(n,Hm(s.props.children,u));return}ft(s.type===no,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Hm(s.props.children,u)),n.push(f)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Gh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function lw(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function uw(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function cw(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function hw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fw(r,e){return r.button===0&&(!e||e==="_self")&&!hw(r)}var eh=null;function dw(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!mw.has(r)?(Xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function pw(r,e){let n,s,o,u,f;if(uw(r)){let m=r.getAttribute("action");s=m?mr(m,e):null,n=r.getAttribute("method")||oh,o=Rm(r.getAttribute("enctype"))||lh,u=new FormData(r)}else if(lw(r)||cw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?mr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||oh,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||lh,u=new FormData(m,r),!dw()){let{name:g,type:E,value:T}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&mr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function yw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _w(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await yw(u,n);return f.links?f.links():[]}return[]}));return Sw(s.flat(1).filter(vw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function i0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Ew(r,e,{includeHydrateFallback:n}={}){return Tw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Tw(r){return[...new Set(r)]}function bw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Sw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(bw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function YE(){let r=k.useContext(So);return Tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Aw(){let r=k.useContext(Fh);return Tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bp=k.createContext(void 0);bp.displayName="FrameworkContext";function KE(){let r=k.useContext(bp);return Tp(r,"You must render this element inside a <HydratedRouter> element"),r}function ww(r,e){let n=k.useContext(bp),[s,o]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,R=k.useRef(null);k.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=J=>{J.forEach(X=>{f(X.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),k.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let L=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:zl(m,L),onBlur:zl(p,H),onMouseEnter:zl(g,L),onMouseLeave:zl(E,H),onTouchStart:zl(T,L)}]:[!1,R,{}]}function zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Rw({page:r,...e}){let{router:n}=YE(),s=k.useMemo(()=>ME(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?k.createElement(xw,{page:r,matches:s,...e}):null}function Cw(r){let{manifest:e,routeModules:n}=KE(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return _w(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function xw({page:r,matches:e,...n}){let s=ys(),{manifest:o,routeModules:u}=KE(),{basename:f}=YE(),{loaderData:m,matches:p}=Aw(),g=k.useMemo(()=>i0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=k.useMemo(()=>i0(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=k.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,G=!1;if(e.forEach(J=>{let X=o.routes[J.route.id];!X||!X.hasLoader||(!g.some(W=>W.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||X.hasClientLoader?G=!0:H.add(J.route.id))}),H.size===0)return[];let q=gw(r,f,"data");return G&&H.size>0&&q.searchParams.set("_routes",e.filter(J=>H.has(J.route.id)).map(J=>J.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,r,u]),R=k.useMemo(()=>Ew(E,o),[E,o]),L=Cw(E);return k.createElement(k.Fragment,null,T.map(H=>k.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>k.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),L.map(({key:H,link:G})=>k.createElement("link",{key:H,nonce:n.nonce,...G})))}function Iw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.11.0")}catch{}function Nw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=k.useRef();o.current==null&&(o.current=uA({window:s,v5Compat:!0}));let u=o.current,[f,m]=k.useState({action:u.action,location:u.location}),p=k.useCallback(g=>{n===!1?m(g):k.startTransition(()=>m(g))},[n]);return k.useLayoutEffect(()=>u.listen(p),[u,p]),k.createElement(aw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$E=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...L},H){let{basename:G,unstable_useTransitions:q}=k.useContext(kn),J=typeof g=="string"&&XE.test(g),X=UE(g,G);g=X.to;let W=HA(g,{relative:o}),[re,oe,fe]=ww(s,L),N=kw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:R,unstable_useTransitions:q});function S(w){e&&e(w),w.defaultPrevented||N(w)}let x=k.createElement("a",{...L,...fe,href:X.absoluteURL||W,onClick:X.isExternal||u?e:S,ref:Iw(H,oe),target:p,"data-discover":!J&&n==="render"?"true":void 0});return re&&!J?k.createElement(k.Fragment,null,x,k.createElement(Rw,{page:W})):x});$E.displayName="Link";var Ow=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=uu(f,{relative:g.relative}),R=ys(),L=k.useContext(Fh),{navigator:H,basename:G}=k.useContext(kn),q=L!=null&&jw(T)&&m===!0,J=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,X=R.pathname,W=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(X=X.toLowerCase(),W=W?W.toLowerCase():null,J=J.toLowerCase()),W&&G&&(W=mr(W,G)||W);const re=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let oe=X===J||!o&&X.startsWith(J)&&X.charAt(re)==="/",fe=W!=null&&(W===J||!o&&W.startsWith(J)&&W.charAt(J.length)==="/"),N={isActive:oe,isPending:fe,isTransitioning:q},S=oe?e:void 0,x;typeof s=="function"?x=s(N):x=[s,oe?"active":null,fe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let w=typeof u=="function"?u(N):u;return k.createElement($E,{...g,"aria-current":S,className:x,ref:E,style:w,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Ow.displayName="NavLink";var Mw=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=oh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...L},H)=>{let{unstable_useTransitions:G}=k.useContext(kn),q=Uw(),J=zw(m,{relative:g}),X=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&XE.test(m),re=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let fe=oe.nativeEvent.submitter,N=fe?.getAttribute("formmethod")||f,S=()=>q(fe||oe.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R});G&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:H,method:X,action:J,onSubmit:s?p:re,...L,"data-discover":!W&&r==="render"?"true":void 0})});Mw.displayName="Form";function Vw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(r){let e=k.useContext(So);return ft(e,Vw(r)),e}function kw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=wo(),E=ys(),T=uu(r,{relative:u});return k.useCallback(R=>{if(fw(R,e)){R.preventDefault();let L=n!==void 0?n:Wl(E)===Wl(T),H=()=>g(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?k.startTransition(()=>H()):H()}},[E,g,T,n,s,e,r,o,u,f,m,p])}var Pw=0,Lw=()=>`__${String(++Pw)}__`;function Uw(){let{router:r}=JE("useSubmit"),{basename:e}=k.useContext(kn),n=tw(),s=r.fetch,o=r.navigate;return k.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=pw(u,e);if(f.navigate===!1){let R=f.fetcherKey||Lw();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function zw(r,{relative:e}={}){let{basename:n}=k.useContext(kn),s=k.useContext(di);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),Wl(u)}function jw(r,{relative:e}={}){let n=k.useContext(jE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JE("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Th(o.pathname,f)!=null||Th(o.pathname,u)!=null}const Bw=()=>{};var r0={};const WE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(R=64)),s.push(n[E],n[T],n[R],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(WE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Hw;const R=u<<2|m>>4;if(s.push(R),g!==64){const L=m<<4&240|g>>2;if(s.push(L),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(r){const e=WE(r);return ZE.encodeByteArray(e,!0)},bh=function(r){return Fw(r).replace(/\./g,"")},eT=function(r){try{return ZE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qw=()=>Gw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof r0>"u")return;const r=r0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Kw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eT(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return Bw()||Qw()||Yw()||Kw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tT=r=>Qh()?.emulatorHosts?.[r],Xw=r=>{const e=tT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},nT=()=>Qh()?.config,iT=r=>Qh()?.[`_${r}`];class $w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rT(r){return(await fetch(r,{credentials:"include"})).ok}function Jw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const Gl={};function Ww(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function Zw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let s0=!1;function sT(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Gl[r]===e||Gl[r]||s0)return;Gl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=Ww().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{s0=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=Zw(s),L=n("text"),H=document.getElementById(L)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),J=n("preprendIcon"),X=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const W=R.element;m(W),E(q,G);const re=g();p(X,J),W.append(X,H,q,re),document.body.appendChild(W)}u?(H.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function tR(){const r=Qh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const uR="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?cR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,s)}}function cR(r,e){return r.replace(hR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hR=/\{\$([^}]+)}/g;function fR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ia(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(a0(u)&&a0(f)){if(!ia(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function a0(r){return r!==null&&typeof r=="object"}function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function dR(r,e){const n=new mR(r,e);return n.subscribe.bind(n)}class mR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cm(){}function Bt(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Js="[DEFAULT]";class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $w;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(r){return r===Js?void 0:r}function vR(r){return r.instantiationMode==="EAGER"}class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const ER={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},TR=Le.INFO,bR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},SR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=bR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const AR=(r,e)=>e.some(n=>r instanceof n);let o0,l0;function wR(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aT=new WeakMap,Fm=new WeakMap,oT=new WeakMap,xm=new WeakMap,Ap=new WeakMap;function CR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ss(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&aT.set(n,r)}).catch(()=>{}),Ap.set(e,r),e}function xR(r){if(Fm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,e)}let Gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||oT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IR(r){Gm=r(Gm)}function DR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Im(this),e,...n);return oT.set(s,e.sort?e.sort():[e]),ss(s)}:RR().includes(r)?function(...e){return r.apply(Im(this),e),ss(aT.get(this))}:function(...e){return ss(r.apply(Im(this),e))}}function NR(r){return typeof r=="function"?DR(r):(r instanceof IDBTransaction&&xR(r),AR(r,wR())?new Proxy(r,Gm):r)}function ss(r){if(r instanceof IDBRequest)return CR(r);if(xm.has(r))return xm.get(r);const e=NR(r);return e!==r&&(xm.set(r,e),Ap.set(e,r)),e}const Im=r=>Ap.get(r);function OR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ss(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ss(f.result),p.oldVersion,p.newVersion,ss(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const MR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],Dm=new Map;function u0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Dm.set(e,u),u}IR(r=>({...r,get:(e,n,s)=>u0(e,n)||r.get(e,n,s),has:(e,n)=>!!u0(e,n)||r.has(e,n)}));class kR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PR(r){return r.getComponent()?.type==="VERSION"}const Qm="@firebase/app",c0="0.14.6";const pr=new Sp("@firebase/app"),LR="@firebase/app-compat",UR="@firebase/analytics-compat",zR="@firebase/analytics",jR="@firebase/app-check-compat",BR="@firebase/app-check",qR="@firebase/auth",HR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",KR="@firebase/functions-compat",XR="@firebase/installations",$R="@firebase/installations-compat",JR="@firebase/messaging",WR="@firebase/messaging-compat",ZR="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",rC="@firebase/storage-compat",sC="@firebase/firestore",aC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",uC="12.6.0";const Ym="[DEFAULT]",cC={[Qm]:"fire-core",[LR]:"fire-core-compat",[zR]:"fire-analytics",[UR]:"fire-analytics-compat",[BR]:"fire-app-check",[jR]:"fire-app-check-compat",[qR]:"fire-auth",[HR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[KR]:"fire-fn-compat",[XR]:"fire-iid",[$R]:"fire-iid-compat",[JR]:"fire-fcm",[WR]:"fire-fcm-compat",[ZR]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[rC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};const Sh=new Map,hC=new Map,Km=new Map;function h0(r,e){try{r.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function fo(r){const e=r.name;if(Km.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,r);for(const n of Sh.values())h0(n,r);for(const n of hC.values())h0(n,r);return!0}function wp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ui(r){return r==null?!1:r.settings!==void 0}const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new cu("app","Firebase",fC);class dC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const Co=uC;function lT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=nT()),!n)throw as.create("no-options");const u=Sh.get(o);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const f=new _R(o);for(const p of Km.values())f.addComponent(p);const m=new dC(n,s,f);return Sh.set(o,m),m}function uT(r=Ym){const e=Sh.get(r);if(!e&&r===Ym&&nT())return lT();if(!e)throw as.create("no-app",{appName:r});return e}function os(r,e,n){let s=cC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(f.join(" "));return}fo(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const mC="firebase-heartbeat-database",pC=1,Zl="firebase-heartbeat-store";let Nm=null;function cT(){return Nm||(Nm=OR(mC,pC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),Nm}async function gC(r){try{const n=(await cT()).transaction(Zl),s=await n.objectStore(Zl).get(hT(r));return await n.done,s}catch(e){if(e instanceof Er)pr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function f0(r,e){try{const s=(await cT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,hT(r)),await s.done}catch(n){if(n instanceof Er)pr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function hT(r){return`${r.name}!${r.options.appId}`}const yC=1024,vC=30;class _C{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vC){const o=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d0(),{heartbeatsToSend:n,unsentEntries:s}=EC(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pr.warn(e),""}}}function d0(){return new Date().toISOString().substring(0,10)}function EC(r,e=yC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),m0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function m0(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function bC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function SC(r){fo(new ra("platform-logger",e=>new kR(e),"PRIVATE")),fo(new ra("heartbeat",e=>new _C(e),"PRIVATE")),os(Qm,c0,r),os(Qm,c0,"esm2020"),os("fire-js","")}SC("");function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AC=fT,dT=new cu("auth","Firebase",fT());const Ah=new Sp("@firebase/auth");function wC(r,...e){Ah.logLevel<=Le.WARN&&Ah.warn(`Auth (${Co}): ${r}`,...e)}function uh(r,...e){Ah.logLevel<=Le.ERROR&&Ah.error(`Auth (${Co}): ${r}`,...e)}function qi(r,...e){throw Cp(r,...e)}function hi(r,...e){return Cp(r,...e)}function Rp(r,e,n){const s={...AC(),[e]:n};return new cu("auth","Firebase",s).create(e,{appName:r.name})}function ta(r){return Rp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qi(r,"argument-error"),Rp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return dT.create(r,...e)}function Se(r,e,...n){if(!r)throw Cp(e,...n)}function hr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function gr(r,e){r||hr(e)}function Xm(){return typeof self<"u"&&self.location?.href||""}function CC(){return p0()==="http:"||p0()==="https:"}function p0(){return typeof self<"u"&&self.location?.protocol||null}function xC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CC()||iR()||"connection"in navigator)?navigator.onLine:!0}function IC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||rR()}get(){return xC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(r,e){gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OC=new fu(3e4,6e4);function Ip(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function xo(r,e,n,s,o={}){return pT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return nR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),mT.fetch()(await gT(r,r.config.apiHost,n,m),g)})}async function pT(r,e,n){r._canInitEmulator=!1;const s={...DC,...e};try{const o=new VC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Rp(r,E,g);qi(r,E)}}catch(o){if(o instanceof Er)throw o;qi(r,"network-request-failed",{message:String(o)})}}async function MC(r,e,n,s,o={}){const u=await xo(r,e,n,s,o);return"mfaPendingCredential"in u&&qi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function gT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?xp(r.config,o):`${r.config.apiScheme}://${o}`;return NC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class VC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),OC.get())})}}function th(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,e,s);return o.customData._tokenResponse=n,o}async function kC(r,e){return xo(r,"POST","/v1/accounts:delete",e)}async function wh(r,e){return xo(r,"POST","/v1/accounts:lookup",e)}function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PC(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=Dp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Om(o.auth_time)),issuedAtTime:Ql(Om(o.iat)),expirationTime:Ql(Om(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Om(r){return Number(r)*1e3}function Dp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=eT(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g0(r){const e=Dp(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&LC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function LC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class UC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rh(r){const e=r.auth,n=await r.getIdToken(),s=await eu(r,wh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?yT(o.providerUserInfo):[],f=jC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function zC(r){const e=Bt(r);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function yT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BC(r,e){const n=await pT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await gT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),mT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qC(r,e){return xo(r,"POST","/v2/accounts:revokeToken",Ip(r,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await BC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return hr("not implemented")}}function es(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new UC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PC(this,e)}reload(){return zC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await eu(this,kC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:L,providerData:H,stsTokenManager:G}=n;Se(T&&G,e,"internal-error");const q=lo.fromJSON(this.name,G);Se(typeof T=="string",e,"internal-error"),es(s,e.name),es(o,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof L=="boolean",e,"internal-error"),es(u,e.name),es(f,e.name),es(m,e.name),es(p,e.name),es(g,e.name),es(E,e.name);const J=new ci({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(J.providerData=H.map(X=>({...X}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new ci({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new ci({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const y0=new Map;function fr(r){gr(r instanceof Function,"Expected a class definition");let e=y0.get(r);return e?(gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,y0.set(r,e),e)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vT.type="NONE";const v0=vT;function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(fr(v0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||fr(v0);const f=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const R=await wh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await ci._fromGetAccountInfoResponse(e,R,E)}else T=ci._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}function _0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AT(e))return"Blackberry";if(wT(e))return"Webos";if(ET(e))return"Safari";if((e.includes("chrome/")||TT(e))&&!e.includes("edge/"))return"Chrome";if(ST(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function _T(r=on()){return/firefox\//i.test(r)}function ET(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TT(r=on()){return/crios\//i.test(r)}function bT(r=on()){return/iemobile/i.test(r)}function ST(r=on()){return/android/i.test(r)}function AT(r=on()){return/blackberry/i.test(r)}function wT(r=on()){return/webos/i.test(r)}function Np(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HC(r=on()){return Np(r)&&!!window.navigator?.standalone}function FC(){return sR()&&document.documentMode===10}function RT(r=on()){return Np(r)||ST(r)||wT(r)||AT(r)||/windows phone/i.test(r)||bT(r)}function CT(r,e=[]){let n;switch(r){case"Browser":n=_0(on());break;case"Worker":n=`${_0(on())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}class GC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function QC(r,e={}){return xo(r,"GET","/v2/passwordPolicy",Ip(r,e))}const YC=6;class KC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class XC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new GC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),s=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(ta(this));const n=e?Bt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QC(this),n=new KC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yh(r){return Bt(r)}class E0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $C(r){Op=r}function JC(r){return Op.loadJS(r)}function WC(){return Op.gapiScript}function ZC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function e2(r,e){const n=wp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,e??{}))return o;qi(o,"already-initialized")}return n.initialize({options:e})}function t2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function n2(r,e,n){const s=Yh(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=xT(e),{host:f,port:m}=i2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ia(g,s.config.emulator)&&ia(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ro(f)?(rT(`${u}//${f}${p}`),sT("Auth",!0)):r2()}function xT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function i2(r){const e=xT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:T0(f)}}}function T0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function r2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class IT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function co(r,e){return MC(r,"POST","/v1/accounts:signInWithIdp",Ip(r,e))}const s2="http://localhost";class sa extends IT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}class Mp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends du{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class cr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return cr.credential(n,s)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class ns extends du{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";class is extends du{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ci._fromIdTokenResponse(e,s,o),f=b0(s);return new mo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=b0(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function b0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ch extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function DT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,s):u})}async function a2(r,e,n=!1){const s=await eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return mo._forOperation(r,"link",s)}async function o2(r,e,n=!1){const{auth:s}=r;if(ui(s.app))return Promise.reject(ta(s));const o="reauthenticate";try{const u=await eu(r,DT(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Dp(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),mo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qi(s,"user-mismatch"),u}}async function l2(r,e,n=!1){if(ui(r.app))return Promise.reject(ta(r));const s="signIn",o=await DT(r,s,e),u=await mo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function u2(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function c2(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function h2(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}function f2(r){return Bt(r).signOut()}const xh="__sak";class NT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const d2=1e3,m2=10;class OT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);FC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,m2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OT.type="LOCAL";const p2=OT;class MT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MT.type="SESSION";const VT=MT;function g2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await g2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];function Vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class y2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function v2(r){Li().location.href=r}function kT(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function _2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E2(){return navigator?.serviceWorker?.controller||null}function T2(){return kT()?self:null}const PT="firebaseLocalStorageDb",b2=1,Ih="firebaseLocalStorage",LT="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function S2(){const r=indexedDB.deleteDatabase(PT);return new mu(r).toPromise()}function Jm(){const r=indexedDB.open(PT,b2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:LT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await S2(),e(await Jm()))})})}async function S0(r,e,n){const s=Xh(r,!0).put({[LT]:e,value:n});return new mu(s).toPromise()}async function A2(r,e){const n=Xh(r,!1).get(e),s=await new mu(n).toPromise();return s===void 0?null:s.value}function A0(r,e){const n=Xh(r,!0).delete(e);return new mu(n).toPromise()}const w2=800,R2=3;class UT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>R2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(T2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _2(),!this.activeServiceWorker)return;this.sender=new y2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await S0(e,xh,"1"),await A0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>S0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>A2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UT.type="LOCAL";const C2=UT;new fu(3e4,6e4);function zT(r,e){return e?fr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class kp extends IT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x2(r){return l2(r.auth,new kp(r),r.bypassAuthState)}function I2(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),o2(n,new kp(r),r.bypassAuthState)}async function D2(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),a2(n,new kp(r),r.bypassAuthState)}class jT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x2;case"linkViaPopup":case"linkViaRedirect":return D2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:qi(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const N2=new fu(2e3,1e4);async function O2(r,e,n){if(ui(r.app))return Promise.reject(hi(r,"operation-not-supported-in-this-environment"));const s=Yh(r);RC(r,e,Mp);const o=zT(s,n);return new Zs(s,"signInViaPopup",e,o).executeNotNull()}class Zs extends jT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N2.get())};e()}}Zs.currentPopupAction=null;const M2="pendingRedirect",hh=new Map;class V2 extends jT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(r,e){const n=U2(e),s=L2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function P2(r,e){hh.set(r._key(),e)}function L2(r){return fr(r._redirectPersistence)}function U2(r){return ch(M2,r.config.apiKey,r.name)}async function z2(r,e,n=!1){if(ui(r.app))return Promise.reject(ta(r));const s=Yh(r),o=zT(s,e),f=await new V2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const j2=600*1e3;class B2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(e))}saveEventToCache(e){this.cachedEventUids.add(w0(e)),this.lastProcessedEventTime=Date.now()}}function w0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function BT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function q2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(r);default:return!1}}async function H2(r,e={}){return xo(r,"GET","/v1/projects",e)}const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;async function Q2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await H2(r);for(const n of e)try{if(Y2(n))return}catch{}qi(r,"unauthorized-domain")}function Y2(r){const e=Xm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!G2.test(n))return!1;if(F2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const K2=new fu(3e4,6e4);function R0(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function X2(r){return new Promise((e,n)=>{function s(){R0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R0(),n(hi(r,"network-request-failed"))},timeout:K2.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=ZC("iframefcb");return Li()[o]=()=>{gapi.load?s():n(hi(r,"network-request-failed"))},JC(`${WC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function $2(r){return fh=fh||X2(r),fh}const J2=new fu(5e3,15e3),W2="__/auth/iframe",Z2="emulator/auth/iframe",ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nx(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?xp(e,Z2):`https://${r.config.authDomain}/${W2}`,s={apiKey:e.apiKey,appName:r.name,v:Co},o=tx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function ix(r){const e=await $2(r),n=Li().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:nx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ex,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},J2.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const rx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sx=500,ax=600,ox="_blank",lx="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ux(r,e,n,s=sx,o=ax){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...rx,width:s.toString(),height:o.toString(),top:u,left:f},g=on().toLowerCase();n&&(m=TT(g)?ox:n),_T(g)&&(e=e||lx,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[L,H])=>`${R}${L}=${H},`,"");if(HC(g)&&m!=="_self")return cx(e||"",m),new C0(null);const T=window.open(e||"",m,E);Se(T,r,"popup-blocked");try{T.focus()}catch{}return new C0(T)}function cx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const hx="__/auth/handler",fx="emulator/auth/handler",dx=encodeURIComponent("fac");async function x0(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(e instanceof Mp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",fR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof du){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${dx}=${encodeURIComponent(p)}`:"";return`${mx(r)}?${hu(m).slice(1)}${g}`}function mx({config:r}){return r.emulator?xp(r,fx):`https://${r.authDomain}/${hx}`}const Mm="webStorageSupport";class px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=z2,this._overrideRedirectResult=P2}async _openPopup(e,n,s,o){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await x0(e,n,s,Xm(),o);return ux(e,u,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await x0(e,n,s,Xm(),o);return v2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ix(e),s=new B2(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{const u=o?.[0]?.[Mm];u!==void 0&&n(!!u),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RT()||ET()||Np()}}const gx=px;var I0="@firebase/auth",D0="1.12.0";class yx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _x(r){fo(new ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(r)},g=new XC(s,o,u,p);return t2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fo(new ra("auth-internal",e=>{const n=Yh(e.getProvider("auth").getImmediate());return(s=>new yx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(I0,D0,vx(r)),os(I0,D0,"esm2020")}const Ex=300,Tx=iT("authIdTokenMaxAge")||Ex;let N0=null;const bx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Tx)return;const o=n?.token;N0!==o&&(N0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sx(r=uT()){const e=wp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=e2(r,{popupRedirectResolver:gx,persistence:[C2,p2,VT]}),s=iT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=bx(u.toString());c2(n,f,()=>f(n.currentUser)),u2(n,m=>f(m))}}const o=tT("auth");return o&&n2(n,`http://${o}`),n}function Ax(){return document.getElementsByTagName("head")?.[0]??document}$C({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Ax().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_x("Browser");var wx="firebase",Rx="12.7.0";os(wx,Rx,"app");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,qT;(function(){var r;function e(N,S){function x(){}x.prototype=S.prototype,N.F=S.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(w,I,M){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return S.prototype[I].apply(w,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,x){x||(x=0);const w=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)w[I]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(I=0;I<16;++I)w[I]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=N.g[0],x=N.g[1],I=N.g[2];let M=N.g[3],D;D=S+(M^x&(I^M))+w[0]+3614090360&4294967295,S=x+(D<<7&4294967295|D>>>25),D=M+(I^S&(x^I))+w[1]+3905402710&4294967295,M=S+(D<<12&4294967295|D>>>20),D=I+(x^M&(S^x))+w[2]+606105819&4294967295,I=M+(D<<17&4294967295|D>>>15),D=x+(S^I&(M^S))+w[3]+3250441966&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(M^x&(I^M))+w[4]+4118548399&4294967295,S=x+(D<<7&4294967295|D>>>25),D=M+(I^S&(x^I))+w[5]+1200080426&4294967295,M=S+(D<<12&4294967295|D>>>20),D=I+(x^M&(S^x))+w[6]+2821735955&4294967295,I=M+(D<<17&4294967295|D>>>15),D=x+(S^I&(M^S))+w[7]+4249261313&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(M^x&(I^M))+w[8]+1770035416&4294967295,S=x+(D<<7&4294967295|D>>>25),D=M+(I^S&(x^I))+w[9]+2336552879&4294967295,M=S+(D<<12&4294967295|D>>>20),D=I+(x^M&(S^x))+w[10]+4294925233&4294967295,I=M+(D<<17&4294967295|D>>>15),D=x+(S^I&(M^S))+w[11]+2304563134&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(M^x&(I^M))+w[12]+1804603682&4294967295,S=x+(D<<7&4294967295|D>>>25),D=M+(I^S&(x^I))+w[13]+4254626195&4294967295,M=S+(D<<12&4294967295|D>>>20),D=I+(x^M&(S^x))+w[14]+2792965006&4294967295,I=M+(D<<17&4294967295|D>>>15),D=x+(S^I&(M^S))+w[15]+1236535329&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(I^M&(x^I))+w[1]+4129170786&4294967295,S=x+(D<<5&4294967295|D>>>27),D=M+(x^I&(S^x))+w[6]+3225465664&4294967295,M=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(M^S))+w[11]+643717713&4294967295,I=M+(D<<14&4294967295|D>>>18),D=x+(M^S&(I^M))+w[0]+3921069994&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(I^M&(x^I))+w[5]+3593408605&4294967295,S=x+(D<<5&4294967295|D>>>27),D=M+(x^I&(S^x))+w[10]+38016083&4294967295,M=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(M^S))+w[15]+3634488961&4294967295,I=M+(D<<14&4294967295|D>>>18),D=x+(M^S&(I^M))+w[4]+3889429448&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(I^M&(x^I))+w[9]+568446438&4294967295,S=x+(D<<5&4294967295|D>>>27),D=M+(x^I&(S^x))+w[14]+3275163606&4294967295,M=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(M^S))+w[3]+4107603335&4294967295,I=M+(D<<14&4294967295|D>>>18),D=x+(M^S&(I^M))+w[8]+1163531501&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(I^M&(x^I))+w[13]+2850285829&4294967295,S=x+(D<<5&4294967295|D>>>27),D=M+(x^I&(S^x))+w[2]+4243563512&4294967295,M=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(M^S))+w[7]+1735328473&4294967295,I=M+(D<<14&4294967295|D>>>18),D=x+(M^S&(I^M))+w[12]+2368359562&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(x^I^M)+w[5]+4294588738&4294967295,S=x+(D<<4&4294967295|D>>>28),D=M+(S^x^I)+w[8]+2272392833&4294967295,M=S+(D<<11&4294967295|D>>>21),D=I+(M^S^x)+w[11]+1839030562&4294967295,I=M+(D<<16&4294967295|D>>>16),D=x+(I^M^S)+w[14]+4259657740&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(x^I^M)+w[1]+2763975236&4294967295,S=x+(D<<4&4294967295|D>>>28),D=M+(S^x^I)+w[4]+1272893353&4294967295,M=S+(D<<11&4294967295|D>>>21),D=I+(M^S^x)+w[7]+4139469664&4294967295,I=M+(D<<16&4294967295|D>>>16),D=x+(I^M^S)+w[10]+3200236656&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(x^I^M)+w[13]+681279174&4294967295,S=x+(D<<4&4294967295|D>>>28),D=M+(S^x^I)+w[0]+3936430074&4294967295,M=S+(D<<11&4294967295|D>>>21),D=I+(M^S^x)+w[3]+3572445317&4294967295,I=M+(D<<16&4294967295|D>>>16),D=x+(I^M^S)+w[6]+76029189&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(x^I^M)+w[9]+3654602809&4294967295,S=x+(D<<4&4294967295|D>>>28),D=M+(S^x^I)+w[12]+3873151461&4294967295,M=S+(D<<11&4294967295|D>>>21),D=I+(M^S^x)+w[15]+530742520&4294967295,I=M+(D<<16&4294967295|D>>>16),D=x+(I^M^S)+w[2]+3299628645&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(I^(x|~M))+w[0]+4096336452&4294967295,S=x+(D<<6&4294967295|D>>>26),D=M+(x^(S|~I))+w[7]+1126891415&4294967295,M=S+(D<<10&4294967295|D>>>22),D=I+(S^(M|~x))+w[14]+2878612391&4294967295,I=M+(D<<15&4294967295|D>>>17),D=x+(M^(I|~S))+w[5]+4237533241&4294967295,x=I+(D<<21&4294967295|D>>>11),D=S+(I^(x|~M))+w[12]+1700485571&4294967295,S=x+(D<<6&4294967295|D>>>26),D=M+(x^(S|~I))+w[3]+2399980690&4294967295,M=S+(D<<10&4294967295|D>>>22),D=I+(S^(M|~x))+w[10]+4293915773&4294967295,I=M+(D<<15&4294967295|D>>>17),D=x+(M^(I|~S))+w[1]+2240044497&4294967295,x=I+(D<<21&4294967295|D>>>11),D=S+(I^(x|~M))+w[8]+1873313359&4294967295,S=x+(D<<6&4294967295|D>>>26),D=M+(x^(S|~I))+w[15]+4264355552&4294967295,M=S+(D<<10&4294967295|D>>>22),D=I+(S^(M|~x))+w[6]+2734768916&4294967295,I=M+(D<<15&4294967295|D>>>17),D=x+(M^(I|~S))+w[13]+1309151649&4294967295,x=I+(D<<21&4294967295|D>>>11),D=S+(I^(x|~M))+w[4]+4149444226&4294967295,S=x+(D<<6&4294967295|D>>>26),D=M+(x^(S|~I))+w[11]+3174756917&4294967295,M=S+(D<<10&4294967295|D>>>22),D=I+(S^(M|~x))+w[2]+718787259&4294967295,I=M+(D<<15&4294967295|D>>>17),D=x+(M^(I|~S))+w[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const x=S-this.blockSize,w=this.C;let I=this.h,M=0;for(;M<S;){if(I==0)for(;M<=x;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<S;)if(w[I++]=N.charCodeAt(M++),I==this.blockSize){o(this,w),I=0;break}}else for(;M<S;)if(w[I++]=N[M++],I==this.blockSize){o(this,w),I=0;break}}this.h=I,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,x=0;x<4;++x)for(let w=0;w<32;w+=8)N[S++]=this.g[x]>>>w&255;return N};function u(N,S){var x=m;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=S(N)}function f(N,S){this.h=S;const x=[];let w=!0;for(let I=N.length-1;I>=0;I--){const M=N[I]|0;w&&M==S||(x[I]=M,w=!1)}this.g=x}var m={};function p(N){return-128<=N&&N<128?u(N,function(S){return new f([S|0],S<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return q(g(-N));const S=[];let x=1;for(let w=0;N>=x;w++)S[w]=N/x|0,x*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return q(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(S,8));let w=T;for(let M=0;M<N.length;M+=8){var I=Math.min(8,N.length-M);const D=parseInt(N.substring(M,M+I),S);I<8?(I=g(Math.pow(S,I)),w=w.j(I).add(g(D))):(w=w.j(x),w=w.add(g(D)))}return w}var T=p(0),R=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-q(this).m();let N=0,S=1;for(let x=0;x<this.g.length;x++){const w=this.i(x);N+=(w>=0?w:4294967296+w)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(G(this))return"-"+q(this).toString(N);const S=g(Math.pow(N,6));var x=this;let w="";for(;;){const I=re(x,S).g;x=J(x,I.j(S));let M=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=I,H(x))return M+w;for(;M.length<6;)M="0"+M;w=M+w}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function G(N){return N.h==-1}r.l=function(N){return N=J(this,N),G(N)?-1:H(N)?0:1};function q(N){const S=N.g.length,x=[];for(let w=0;w<S;w++)x[w]=~N.g[w];return new f(x,~N.h).add(R)}r.abs=function(){return G(this)?q(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),x=[];let w=0;for(let I=0;I<=S;I++){let M=w+(this.i(I)&65535)+(N.i(I)&65535),D=(M>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);w=D>>>16,M&=65535,D&=65535,x[I]=D<<16|M}return new f(x,x[x.length-1]&-2147483648?-1:0)};function J(N,S){return N.add(q(S))}r.j=function(N){if(H(this)||H(N))return T;if(G(this))return G(N)?q(this).j(q(N)):q(q(this).j(N));if(G(N))return q(this.j(q(N)));if(this.l(L)<0&&N.l(L)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,x=[];for(var w=0;w<2*S;w++)x[w]=0;for(w=0;w<this.g.length;w++)for(let I=0;I<N.g.length;I++){const M=this.i(w)>>>16,D=this.i(w)&65535,ye=N.i(I)>>>16,Oe=N.i(I)&65535;x[2*w+2*I]+=D*Oe,X(x,2*w+2*I),x[2*w+2*I+1]+=M*Oe,X(x,2*w+2*I+1),x[2*w+2*I+1]+=D*ye,X(x,2*w+2*I+1),x[2*w+2*I+2]+=M*ye,X(x,2*w+2*I+2)}for(N=0;N<S;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=S;N<2*S;N++)x[N]=0;return new f(x,0)};function X(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function W(N,S){this.g=N,this.h=S}function re(N,S){if(H(S))throw Error("division by zero");if(H(N))return new W(T,T);if(G(N))return S=re(q(N),S),new W(q(S.g),q(S.h));if(G(S))return S=re(N,q(S)),new W(q(S.g),S.h);if(N.g.length>30){if(G(N)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var x=R,w=S;w.l(N)<=0;)x=oe(x),w=oe(w);var I=fe(x,1),M=fe(w,1);for(w=fe(w,2),x=fe(x,2);!H(w);){var D=M.add(w);D.l(N)<=0&&(I=I.add(x),M=D),w=fe(w,1),x=fe(x,1)}return S=J(N,I.j(S)),new W(I,S)}for(I=T;N.l(S)>=0;){for(x=Math.max(1,Math.floor(N.m()/S.m())),w=Math.ceil(Math.log(x)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),M=g(x),D=M.j(S);G(D)||D.l(N)>0;)x-=w,M=g(x),D=M.j(S);H(M)&&(M=R),I=I.add(M),N=J(N,D)}return new W(I,N)}r.B=function(N){return re(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let w=0;w<S;w++)x[w]=this.i(w)&N.i(w);return new f(x,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let w=0;w<S;w++)x[w]=this.i(w)|N.i(w);return new f(x,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let w=0;w<S;w++)x[w]=this.i(w)^N.i(w);return new f(x,this.h^N.h)};function oe(N){const S=N.g.length+1,x=[];for(let w=0;w<S;w++)x[w]=N.i(w)<<1|N.i(w-1)>>>31;return new f(x,N.h)}function fe(N,S){const x=S>>5;S%=32;const w=N.g.length-x,I=[];for(let M=0;M<w;M++)I[M]=S>0?N.i(M+x)>>>S|N.i(M+x+1)<<32-S:N.i(M+x);return new f(I,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ls=f}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HT,Bl,FT,dh,Wm,GT,QT,YT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&_.push([A,y[A]]);return _}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,z,Q){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return y.prototype[z].apply(A,ae)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function H(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const Q=z.length||0;c.length=_+Q;for(let ae=0;ae<Q;ae++)c[_+ae]=z[ae]}else c.push(z)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){f.setTimeout(()=>{throw c},0)}function J(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,_){const A=W.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new G(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,N=new X,S=()=>{const c=Promise.resolve(void 0);oe=()=>{c.then(x)}};function x(){for(var c;c=J();){try{c.h.call(c.g)}catch(_){q(_)}var y=W;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}fe=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function ye(c,y){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(ye,I),ye.prototype.init=function(c,y){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++Y,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function Xe(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function P(c){const y={};for(const _ in c)y[_]=c[_];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let Q=0;Q<ne.length;Q++)_=ne[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,y,_,A,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=De(c,y,A,z);return ae>-1?(y=c[ae],_||(y.fa=!1)):(y=new se(y,this.src,Q,!!A,z),y.fa=_,c.push(y)),y};function Ae(c,y){const _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(A,z,1),Q&&(ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function De(c,y,_,A){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==A)return z}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Lt={};function ut(c,y,_,A,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)ut(c,y[Q],_,A,z);return null}return _=ko(_),c&&c[Oe]?c.J(y,_,m(A)?!!A.capture:!1,z):Es(c,y,_,!1,A,z)}function Es(c,y,_,A,z,Q){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let xe=Ts(c);if(xe||(c[Be]=xe=new de(c)),_=xe.add(y,_,A,ae,Q),_.proxy)return _;if(A=fa(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)M||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(mi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fa(){function c(_){return y.call(c.src,c.listener,_)}const y=Mo;return c}function da(c,y,_,A,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)da(c,y[Q],_,A,z);else A=m(A)?!!A.capture:!!A,_=ko(_),c&&c[Oe]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],_=De(y,_,A,z),_>-1&&(ge(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Ts(c))&&(y=c.g[y.toString()],c=-1,y&&(c=De(y,_,A,z)),(_=c>-1?y[c]:null)&&ma(_))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])Ae(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(mi(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Ts(y))?(Ae(_,c),_.h==0&&(_.src=null,y[Be]=null)):ge(c)}}}function mi(c){return c in Lt?Lt[c]:Lt[c]="on"+c}function Mo(c,y){if(c.da)c=!0;else{y=new ye(y,this);const _=c.listener,A=c.ha||c.src;c.fa&&ma(c),c=_.call(A,y)}return c}function Ts(c){return c=c[Be],c instanceof de?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function At(){w.call(this),this.i=new de(this),this.M=this,this.G=null}T(At,w),At.prototype[Oe]=!0,At.prototype.removeEventListener=function(c,y,_,A){da(this,c,y,_,A)};function Ut(c,y){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new I(y,c);else if(y instanceof I)y.target=y.target||c;else{var z=y;y=new I(A,c),ue(y,z)}z=!0;let Q,ae;if(_)for(ae=_.length-1;ae>=0;ae--)Q=y.g=_[ae],z=Tr(Q,A,!0,y)&&z;if(Q=y.g=c,z=Tr(Q,A,!0,y)&&z,z=Tr(Q,A,!1,y)&&z,_)for(ae=0;ae<_.length;ae++)Q=y.g=_[ae],z=Tr(Q,A,!1,y)&&z}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let A=0;A<_.length;A++)ge(_[A]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},At.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Tr(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==_){const xe=ae.listener,Et=ae.ha||ae.src;ae.fa&&Ae(c.i,ae),z=xe.call(Et,A)!==!1&&z}}return z&&!A.defaultPrevented}function Ef(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function wu(c){c.g=Ef(()=>{c.g=null,c.i&&(c.i=!1,wu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ln extends w{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){w.call(this),this.h=c,this.g={}}T(bs,w);var Po=[];function Lo(c){Fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&ma(y)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),Lo(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=f.JSON.stringify,Tf=f.JSON.parse,Ru=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Cu(){}function xu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){I.call(this,"d")}T(Yt,I);function Pn(){I.call(this,"c")}T(Pn,I);var _t={},Iu=null;function pa(){return Iu=Iu||new At}_t.Ia="serverreachability";function Du(c){I.call(this,_t.Ia,c)}T(Du,I);function pi(c){const y=pa();Ut(y,new Du(y))}_t.STAT_EVENT="statevent";function Ss(c,y){I.call(this,_t.STAT_EVENT,c),this.stat=y}T(Ss,I);function wt(c){const y=pa();Ut(y,new Ss(y,c))}_t.Ja="timingevent";function gi(c,y){I.call(this,_t.Ja,c),this.size=y}T(gi,I);function yi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function bf(c,y,_,A,z,Q){c.info(function(){if(c.g)if(Q){var ae="",xe=Q.split("&");for(let Ye=0;Ye<xe.length;Ye++){var Et=xe[Ye].split("=");if(Et.length>1){const ct=Et[0];Et=Et[1];const jn=ct.split("_");ae=jn.length>=2&&jn[1]=="type"?ae+(ct+"="+Et+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function Nu(c,y,_,A,z,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+ae})}function vi(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Sf(c,_)+(A?" "+A:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function Sf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var _=Q[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return br(Q)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zo;function Rs(){}T(Rs,Cu),Rs.prototype.g=function(){return new XMLHttpRequest},zo=new Rs;function Fi(c){return encodeURIComponent(String(c))}function Ou(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function Wn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.S=A||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function _i(c,y,_){c.M=1,c.A=Cs(xt(y)),c.u=_,c.R=!0,ga(c,null)}function ga(c,y){c.F=Date.now(),Ei(c),c.B=xt(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ea(_.i,"t",A),c.C=0,_=c.j.L,c.h=new Zn,c.g=Yu(c.j,_?y:null,!c.u),c.P>0&&(c.O=new ln(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Po[0]=z.toString()),z=Po);for(let Q=0;Q<z.length;Q++){const ae=ut(_,z[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),pi(),bf(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ni(c)==3?y.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=ni(this.g),Et=this.g.ya(),Ye=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||xe!=4||Et==7||(Et==8||Ye<=0?pi(3):pi(2)),Ti(this);var y=this.g.ca();this.X=y;var _=Af(this);if(this.o=y==200,Nu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var Q=A;break t}}Q=null}if(c=Q)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,c);else{this.o=!1,this.m=3,wt(12),Tn(this),Ln(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<_.length;)if(ct=Vu(this,_),ct==qt){xe==4&&(this.m=4,wt(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,wt(15),vi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,ct,null),bi(this,ct);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,_,"[Invalid Chunked Response]"),Tn(this),Ln(this);else if(_.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),el(ae),ae.P=!0,wt(11))}}else vi(this.i,this.l,_,null),bi(this,_);xe==4&&Tn(this),this.o&&!this.K&&(xe==4?Hu(this.j,this):(this.o=!1,Ei(this)))}else Qi(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Tn(this),Ln(this)}}}catch{}};function Af(c){if(!Mu(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let _="";const A=y.length,z=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Ln(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,_+=c.h.i.decode(y[Q],{stream:!(z&&Q==A-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Vu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?qt:(_=Number(y.substring(_,A)),isNaN(_)?Rt:(A+=1,A+_>y.length?qt:(y=y.slice(A,A+_),c.C=A+_,y)))}Wn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ei(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(g(c.aa,c),y)}function Ti(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(pi(),wt(17)),Tn(this),this.m=2,Ln(this)):ya(this,this.T-c)};function Ln(c){c.j.I==0||c.K||Hu(c.j,c)}function Tn(c){Ti(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Lo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function bi(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||Ai(_.h,c))){if(!c.L&&Ai(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)wa(_),Dr(_);else break e;Vs(_),wt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=yi(g(_.Va,_),6e3));Si(_.h)<=1&&_.ta&&(_.ta=void 0)}else Di(_,11)}else if((c.L||_.g==c)&&wa(_),!D(y))for(z=_.Ba.g.parse(y),y=0;y<z.length;y++){let Ye=z[y];const ct=Ye[0];if(!(ct<=_.K))if(_.K=ct,Ye=Ye[1],_.I==2)if(Ye[0]=="c"){_.M=Ye[1],_.ba=Ye[2];const jn=Ye[3];jn!=null&&(_.ka=jn,_.j.info("VER="+_.ka));const Ni=Ye[4];Ni!=null&&(_.za=Ni,_.j.info("SVER="+_.za));const ii=Ye[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ri=c.g;if(ri){const ks=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var Q=A.h;Q.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(qo(Q,Q.h),Q.h=null))}if(A.G){const Ra=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(A.wa=Ra,$e(A.J,A.G,Ra))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var ae=c;if(A.na=Qu(A,A.L?A.ba:null,A.W),ae.L){Ho(A.h,ae);var xe=ae,Et=A.O;Et&&(xe.H=Et),xe.D&&(Ti(xe),Ei(xe)),A.g=ae}else Bu(A);_.i.length>0&&Ii(_)}else Ye[0]!="stop"&&Ye[0]!="close"||Di(_,7);else _.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Di(_,7):Wo(_):Ye[0]!="noop"&&_.l&&_.l.qa(Ye),_.A=0)}}pi(4)}catch{}}var Ct=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ai(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qo(c,y){c.g?c.g.add(y):c.h=y}function Ho(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return L(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let z,Q=null;A>=0?(z=c[_].substring(0,A),Q=c[_].substring(A+1)):z=c[_],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Go(this,zu(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,Ht(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),Sr(this,y[4]),this.h=wi(y[5]||"",!0),Go(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,_a,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,_a,!0),"@"),c.push(Fi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xs(_,_.charAt(0)=="/"?Qo:Pu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xs(_,Lu)),c.join("")},bn.prototype.resolve=function(c){const y=xt(this);let _=!!c.j;_?Ht(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var A=c.h;if(_)Sr(y,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let ae=0;ae<z.length;){const xe=z[ae++];xe=="."?A&&ae==z.length&&Q.push(""):xe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ae==z.length&&Q.push("")):(Q.push(xe),A=!0)}A=Q.join("/")}else A=z}return _?y.h=A:_=c.i.toString()!=="",_?Go(y,zu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function xt(c){return new bn(c)}function Ht(c,y,_){c.j=_?wi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Go(c,y,_){y instanceof wr?(c.i=y,Ta(c.i,c.l)):(_||(y=xs(y,Ar)),c.i=new wr(y,c.l))}function $e(c,y,_){c.i.set(y,_)}function Cs(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,dn),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Pu=/[#\?:]/g,Qo=/[#\?]/g,Ar=/[#\?@]/g,Lu=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=wr.prototype,r.add=function(c,y){mn(this),this.i=null,c=Rr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Uu(c,y){mn(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yo(c,y){return mn(c),y=Rr(c,y),c.g.has(y)}r.forEach=function(c,y){mn(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Ko(c,y){mn(c);let _=[];if(typeof y=="string")Yo(c,y)&&(_=_.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}r.set=function(c,y){return mn(this),this.i=null,c=Rr(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ko(this,c),c.length>0?String(c[0]):y):y};function Ea(c,y,_){Uu(c,y),_.length>0&&(c.i=null,c.g.set(Rr(c,y),L(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var _=y[A];const z=Fi(_);_=Ko(this,_);for(let Q=0;Q<_.length;Q++){let ae=z;_[Q]!==""&&(ae+="="+Fi(_[Q])),c.push(ae)}}return this.i=c.join("&")};function zu(c){const y=new wr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ta(c,y){y&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(_,A){const z=A.toLowerCase();A!=z&&(Uu(this,A),Ea(this,z,_))},c)),c.j=y}function ei(c,y){const _=new Jn;if(f.Image){const A=new Image;A.onload=E(Un,_,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Un,_,"TestLoadImage: error",!1,y,A),A.onabort=E(Un,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Un,_,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Xo(c,y){const _=new Jn,A=new AbortController,z=setTimeout(()=>{A.abort(),Un(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?Un(_,"TestPingServer: ok",!0,y):Un(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Un(_,"TestPingServer: error",!1,y)})}function Un(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Cr(){this.g=new Ru}function Ri(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ri,Cu),Ri.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,At),r=Is.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?xr(this):ti(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,xr(this))},r.Na=function(c){this.g&&(this.response=c,xr(this))},r.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let y="";return Fe(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ds(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=zn(_),typeof c=="string"?_!=null&&Fi(_):$e(c,y,_))}function Ze(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,At);var Ci=/^https?$/i,$o=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zo.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Ns(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call($o,y,void 0)>=0)||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ns(this,Q)}};function Ns(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Jo(c),Gi(c)}function Jo(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ut(this,"complete"),Ut(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ut(c,"readystatechange"),ni(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=Q===0){let ae=String(c.D).match(ku)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),A=!Ci.test(ae?ae.toLowerCase():"")}_=A}if(_)Ut(c,"complete"),Ut(c,"success");else{c.o=6;try{var z=ni(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Jo(c)}}finally{Gi(c)}}}}function Gi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Ut(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Tf(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const y={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var _=Ou(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}Xe(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,c),this.Za=xi("retryDelaySeedMs",1e4,c),this.Ta=xi("forwardChannelMaxRetries",2,c),this.va=xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,y,_,A){wt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=Qu(this,null,this.W),Ii(this)};function Wo(c){if(Sa(c),c.I==3){var y=c.V++,_=xt(c.J);if($e(_,"SID",c.M),$e(_,"RID",y),$e(_,"TYPE","terminate"),Ms(c,_),y=new Wn(c,c.j,y),y.M=2,y.A=Cs(xt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Yu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}Gu(c)}function Dr(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function Sa(c){Dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ii(c){if(!Bo(c.h)&&!c.m){c.m=!0;var y=c.Ea;oe||S(),fe||(oe(),fe=!0),N.add(y,c),c.D=0}}function Aa(c,y){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(g(c.Ea,c,y),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Wn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=P(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ju(this,z,y),_=xt(this.J),$e(_,"RID",c),$e(_,"CVER",22),this.G&&$e(_,"X-HTTP-Session-Id",this.G),Ms(this,_),Q&&(this.R?y="headers="+Fi(zn(Q))+"&"+y:this.u&&Ds(_,this.u,Q)),qo(this.h,z),this.Ra&&$e(_,"TYPE","init"),this.S?($e(_,"$req",y),$e(_,"SID","null"),z.U=!0,_i(z,_,null)):_i(z,_,y),this.I=2}}else this.I==3&&(c?Zo(this,c):this.i.length==0||Bo(this.h)||Zo(this))};function Zo(c,y){var _;y?_=y.l:_=c.V++;const A=xt(c.J);$e(A,"SID",c.M),$e(A,"RID",_),$e(A,"AID",c.K),Ms(c,A),c.u&&c.o&&Ds(A,c.u,c.o),_=new Wn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ju(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,_),_i(_,A,y)}function Ms(c,y){c.H&&Fe(c.H,function(_,A){$e(y,A,_)}),c.l&&Fe({},function(_,A){$e(y,A,_)})}function ju(c,y,_){_=Math.min(c.i.length,_);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let xe=-1;for(;;){const Et=["count="+_];xe==-1?_>0?(xe=z[0].g,Et.push("ofs="+xe)):xe=0:Et.push("ofs="+xe);let Ye=!0;for(let ct=0;ct<_;ct++){var Q=z[ct].g;const jn=z[ct].map;if(Q-=xe,Q<0)xe=Math.max(0,z[ct].g-100),Ye=!1;else try{Q="req"+Q+"_"||"";try{var ae=jn instanceof Map?jn:Object.entries(jn);for(const[Ni,ii]of ae){let ri=ii;m(ii)&&(ri=br(ii)),Et.push(Q+Ni+"="+encodeURIComponent(ri))}}catch(Ni){throw Et.push(Q+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(jn)}}if(Ye){ae=Et.join("&");break e}}ae=void 0}return c=c.i.splice(0,_),y.G=c,ae}function Bu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;oe||S(),fe||(oe(),fe=!0),N.add(y,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(g(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Dr(this),qu(this))};function el(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Ms(c,y),c.u&&c.o&&Ds(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Cs(xt(y)),_.u=null,_.R=!0,ga(_,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Vs(this),wt(19))};function wa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){wa(c),el(c),c.g=null;var A=2}else if(Ai(c.h,y))_=y.G,Ho(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=pa(),Ut(A,new gi(A,_)),Ii(c)}else Bu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Aa(c,y)||A==2&&Vs(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Fu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Di(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),A=c.Ua;const z=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ht(A,"https"),Cs(A),z?ei(A.toString(),_):Xo(A.toString(),_)}else wt(2);c.I=0,c.l&&c.l.pa(y),Gu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Qu(c,y,_){var A=_ instanceof bn?xt(_):new bn(_);if(A.g!="")y&&(A.g=y+"."+A.g),Sr(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new bn(null);A&&Ht(Q,A),y&&(Q.g=y),z&&Sr(Q,z),_&&(Q.h=_),A=Q}return _=c.G,y=c.wa,_&&y&&$e(A,_,y),$e(A,"VER",c.ka),Ms(c,A),A}function Yu(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new Ri({ab:_})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Nr(){}Nr.prototype.g=function(c,y){return new un(c,y)};function un(c,y){At.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yi(this)}T(un,At),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Wo(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=br(c),c=_);y.i.push(new Ct(y.Ya++,c)),y.I==3&&Ii(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,un.Z.N.call(this)};function Xu(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Xu,Yt);function $u(){Pn.call(this),this.status=1}T($u,Pn);function Yi(c){this.g=c}T(Yi,Ku),Yi.prototype.ra=function(){Ut(this.g,"a")},Yi.prototype.qa=function(c){Ut(this.g,new Xu(c))},Yi.prototype.pa=function(c){Ut(this.g,new $u)},Yi.prototype.oa=function(){Ut(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,YT=function(){return new Nr},QT=function(){return pa()},GT=_t,Wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,dh=ws,Uo.COMPLETE="complete",FT=Uo,xu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",At.prototype.listen=At.prototype.J,Bl=xu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,HT=Ze}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",V0="4.9.3";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Io="12.7.0";const aa=new Sp("@firebase/firestore");function io(){return aa.logLevel}function he(r,...e){if(aa.logLevel<=Le.DEBUG){const n=e.map(Pp);aa.debug(`Firestore (${Io}): ${r}`,...n)}}function yr(r,...e){if(aa.logLevel<=Le.ERROR){const n=e.map(Pp);aa.error(`Firestore (${Io}): ${r}`,...n)}}function po(r,...e){if(aa.logLevel<=Le.WARN){const n=e.map(Pp);aa.warn(`Firestore (${Io}): ${r}`,...n)}}function Pp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KT(r,s,n)}function KT(r,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||KT(e,o,s)}function we(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ui{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class XT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class xx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ix{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ui,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ui)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new XT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class Dx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Dx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ox{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Mx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Mx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Zm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Vm(o)===Vm(u)?Ue(o,u):Vm(o)?1:-1}return Ue(r.length,e.length)}const Vx=55296,kx=57343;function Vm(r){const e=r.charCodeAt(0);return e>=Vx&&e<=kx}function go(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const P0="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class it extends Pi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const Px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Pi{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return Px.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new en([P0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}function $T(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lx(r,e,n,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function L0(r){if(!ve.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U0(r){if(ve.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Mn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function pu(r,e){if(!JT(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}const z0=-62135596800,j0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*j0);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Pt("string",lt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new lt(0,0))}static max(){return new be(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function Ux(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new hs(o,ve.empty(),e)}function zx(r){return new hs(r.readTime,r.key,tu)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(be.min(),ve.empty(),tu)}static max(){return new hs(be.max(),ve.empty(),tu)}}function jx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const Bx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Bx)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Hx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;const Up=-1;function gu(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function Fx(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const WT="";function Gx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=B0(e)),e=Qx(r.get(n),e);return B0(e)}function Qx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case WT:n+="";break;default:n+=u}}return n}function B0(r){return r+WT+""}function q0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ZT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(e){return new H0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class H0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new On([])}unionWith(e){let n=new jt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eb("Invalid base64 string: "+u):u}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=Yx.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const tb="server_timestamp",nb="__type__",ib="__previous_value__",rb="__local_write_time__";function zp(r){return(r?.mapValue?.fields||{})[nb]?.stringValue===tb}function Wh(r){const e=r.mapValue.fields[ib];return zp(e)?Wh(e):e}function nu(r){const e=fs(r.mapValue.fields[rb].timestampValue);return new lt(e.seconds,e.nanos)}class Kx{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Nh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const sb="__type__",Xx="__max__",rh={mapValue:{}},ab="__vector__",Oh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zp(r)?4:Jx(r)?9007199254740991:$x(r)?10:11:Ee(28295,{value:r})}function Hi(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),m=fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=St(o.doubleValue),m=St(u.doubleValue);return f===m?Dh(f)===Dh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(q0(f)!==q0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Hi(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>Hi(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=St(u.integerValue||u.doubleValue),p=St(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return F0(r.timestampValue,e.timestampValue);case 4:return F0(nu(r),nu(e));case 5:return Zm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ds(u),p=ds(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ue(m[g],p[g]);if(E!==0)return E}return Ue(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(St(u.latitude),St(f.latitude));return m!==0?m:Ue(St(u.longitude),St(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return G0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Oh]?.arrayValue,E=p[Oh]?.arrayValue,T=Ue(g?.values?.length||0,E?.values?.length||0);return T!==0?T:G0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===rh.mapValue&&f===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(f===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Zm(p[T],E[T]);if(R!==0)return R;const L=yo(m[p[T]],g[E[T]]);if(L!==0)return L}return Ue(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function F0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=fs(r),s=fs(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function G0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function vo(r){return ep(r)}function ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ep(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ep(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function mh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,f)=>{o+=u.length+mh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function Q0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tp(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function Y0(r){return!!r&&"nullValue"in r}function K0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function $x(r){return(r?.mapValue?.fields||{})[sb]?.stringValue===ab}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function Jx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xx}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new fn(Yl(this.value))}}function ob(r){const e=[];return vs(r.fields,((n,s)=>{const o=new en([n]);if(ph(s)){const u=ob(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new On(e)}class Qt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Qt(e,0,be.min(),be.min(),be.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Qt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Qt(e,2,n,be.min(),be.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,be.min(),be.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function X0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Hi(r.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class lb{}class kt extends lb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eI(e,n,s):n==="array-contains"?new iI(e,s):n==="in"?new rI(e,s):n==="not-in"?new sI(e,s):n==="array-contains-any"?new aI(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tI(e,s):new nI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends lb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return ub(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ub(r){return r.op==="and"}function cb(r){return Zx(r)&&ub(r)}function Zx(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function np(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(cb(r))return r.filters.map((e=>np(e))).join(",");{const e=r.filters.map((n=>np(n))).join(",");return`${r.op}(${e})`}}function hb(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Hi(s.value,o.value)})(r,e):r instanceof fi?(function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&hb(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function fb(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(r):r instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(fb).join(" ,")+"}"})(r):"Filter"}class eI extends kt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class tI extends kt{constructor(e,n){super(e,"in",n),this.keys=db("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nI extends kt{constructor(e,n){super(e,"not-in",n),this.keys=db("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function db(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class iI extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&ru(n.arrayValue,this.value)}}class rI extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class sI extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class aI extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class oI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function J0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new oI(r,e,n,s,o,u,f)}function Bp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>np(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>vo(s))).join(",")),e.Te=n}return e.Te}function qp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Wx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$0(r.startAt,e.startAt)&&$0(r.endAt,e.endAt)}function ip(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lI(r,e,n,s,o,u,f,m){return new yu(r,e,n,s,o,u,f,m)}function Zh(r){return new yu(r)}function W0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mb(r){return r.collectionGroup!==null}function Kl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(en.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vh(u,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new Vh(en.keyField(),s))}return e.Ie}function zi(r){const e=we(r);return e.Ee||(e.Ee=uI(e,Kl(r))),e.Ee}function uI(r,e){if(r.limitType==="F")return J0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function rp(r,e){const n=r.filters.concat([e]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function sp(r,e,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ef(r,e){return qp(zi(r),zi(e))&&r.limitType===e.limitType}function pb(r){return`${Bp(zi(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>fb(o))).join(", ")}]`),gu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${s})`})(zi(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=X0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,p){const g=X0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Kl(s),o))})(r,e)}function cI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gb(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=hI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function hI(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}const fI=new dt(ve.comparator);function vr(){return fI}const yb=new dt(ve.comparator);function ql(...r){let e=yb;for(const n of r)e=e.insert(n.key,n);return e}function vb(r){let e=yb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ea(){return Xl()}function _b(){return Xl()}function Xl(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dI=new dt(ve.comparator),mI=new jt(ve.comparator);function ze(...r){let e=mI;for(const n of r)e=e.add(n);return e}const pI=new jt(Ue);function gI(){return pI}function Hp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function Eb(r){return{integerValue:""+r}}function yI(r,e){return Fx(e)?Eb(e):Hp(r,e)}class nf{constructor(){this._=void 0}}function vI(r,e,n){return r instanceof su?(function(o,u){const f={fields:{[nb]:{stringValue:tb},[rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=Wh(u)),u&&(f.fields[ib]=u),{mapValue:f}})(n,e):r instanceof au?bb(r,e):r instanceof ou?Sb(r,e):(function(o,u){const f=Tb(o,u),m=Z0(f)+Z0(o.Ae);return tp(f)&&tp(o.Ae)?Eb(m):Hp(o.serializer,m)})(r,e)}function _I(r,e,n){return r instanceof au?bb(r,e):r instanceof ou?Sb(r,e):n}function Tb(r,e){return r instanceof kh?(function(s){return tp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class su extends nf{}class au extends nf{constructor(e){super(),this.elements=e}}function bb(r,e){const n=Ab(e);for(const s of r.elements)n.some((o=>Hi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends nf{constructor(e){super(),this.elements=e}}function Sb(r,e){let n=Ab(e);for(const s of r.elements)n=n.filter((o=>!Hi(o,s)));return{arrayValue:{values:n}}}class kh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Z0(r){return St(r.integerValue||r.doubleValue)}function Ab(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class EI{constructor(e,n){this.field=e,this.transform=n}}function TI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?go(s.elements,o.elements,Hi):s instanceof kh&&o instanceof kh?Hi(s.Ae,o.Ae):s instanceof su&&o instanceof su})(r.transform,e.transform)}class bI{constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function wb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sf(r.key,an.none()):new vu(r.key,r.data,an.none());{const n=r.data,s=fn.empty();let o=new jt(en.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new On(o.toArray()),an.none())}}function SI(r,e,n){r instanceof vu?(function(o,u,f){const m=o.value.clone(),p=tE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof _s?(function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=tE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Rb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(r,e,n,s){return r instanceof vu?(function(u,f,m,p){if(!gh(u.precondition,f))return m;const g=u.value.clone(),E=nE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof _s?(function(u,f,m,p){if(!gh(u.precondition,f))return m;const g=nE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Rb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function AI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Tb(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function eE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,f)=>TI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Rb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function tE(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,_I(f,m,n[o]))}return s}function nE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,vI(u,f,e))}return s}class sf extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_b();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=wb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>eE(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>eE(n,s)))}}class Fp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return dI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fp(e,n,s,o)}}class RI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class CI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,qe;function xb(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Ib(r){if(r===void 0)return yr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Vt.OK:return Z.OK;case Vt.CANCELLED:return Z.CANCELLED;case Vt.UNKNOWN:return Z.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Z.INTERNAL;case Vt.UNAVAILABLE:return Z.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Z.NOT_FOUND;case Vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Vt.ABORTED:return Z.ABORTED;case Vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Vt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(qe=Vt||(Vt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function xI(){return new TextEncoder}const II=new ls([4294967295,4294967295],0);function iE(r){const e=xI().encode(r),n=new qT;return n.update(e),new Uint8Array(n.digest())}function rE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Gp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(II)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iE(e),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=iE(e),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(be.min(),o,new dt(Ue),vr(),ze())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,ze(),ze(),ze())}}class yh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Db{constructor(e,n){this.targetId=e,this.Ce=n}}class Nb{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Fe=aE(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=aE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DI{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=sh(),this.He=sh(),this.Ye=new dt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ip(u))if(s===0){const f=new ve(u.path);this.et(n,f,Qt.newNoDocument(f,be.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ds(s).toUint8Array()}catch(p){if(p instanceof eb)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(f,o,u)}catch(p){return po(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ip(m.target)){const p=new ve(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Qt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ze();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new af(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=sh(),this.He=sh(),this.Ye=new dt(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new dt(ve.comparator)}function aE(){return new dt(ve.comparator)}const NI={asc:"ASCENDING",desc:"DESCENDING"},OI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MI={and:"AND",or:"OR"};class VI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(r,e){return r.useProto3Json||gu(e)?e:{value:e}}function Ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ob(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kI(r,e){return Ph(r,e.toTimestamp())}function Vn(r){return He(!!r,49232),be.fromTimestamp((function(n){const s=fs(n);return new lt(s.seconds,s.nanos)})(r))}function Qp(r,e){return op(r,e).canonicalString()}function op(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Mb(r){const e=it.fromString(r);return He(zb(e),10190,{key:e.toString()}),e}function Lh(r,e){return Qp(r.databaseId,e.path)}function Jl(r,e){const n=Mb(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(kb(n))}function Vb(r,e){return Qp(r.databaseId,e)}function PI(r){const e=Mb(r);return e.length===4?it.emptyPath():kb(e)}function lp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kb(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function oE(r,e,n){return{name:Lh(r,e),fields:n.value.mapValue.fields}}function LI(r,e){return"found"in e?(function(s,o){He(!!o.found,43571),o.found.name,o.found.updateTime;const u=Jl(s,o.found.name),f=Vn(o.found.updateTime),m=o.found.createTime?Vn(o.found.createTime):be.min(),p=new fn({mapValue:{fields:o.found.fields}});return Qt.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){He(!!o.missing,3894),He(!!o.readTime,22933);const u=Jl(s,o.missing),f=Vn(o.readTime);return Qt.newNoDocument(u,f)})(r,e):Ee(7234,{result:e})}function UI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?Z.UNKNOWN:Ib(g.code);return new ce(E,g.message||"")})(f);n=new Nb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jl(r,s.document.name),u=Vn(s.document.updateTime),f=s.document.createTime?Vn(s.document.createTime):be.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Qt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new yh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jl(r,s.document),u=s.readTime?Vn(s.readTime):be.min(),f=Qt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jl(r,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new CI(o,u),m=s.targetId;n=new Db(m,f)}}return n}function Pb(r,e){let n;if(e instanceof vu)n={update:oE(r,e.key,e.value)};else if(e instanceof sf)n={delete:Lh(r,e.key)};else if(e instanceof _s)n={update:oE(r,e.key,e.data),updateMask:YI(e.fieldMask)};else{if(!(e instanceof Cb))return Ee(16599,{Vt:e.type});n={verify:Lh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:kI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function zI(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Vn(o.updateTime):Vn(u);return f.isEqual(be.min())&&(f=Vn(u)),new bI(f,o.transformResults||[])})(n,e)))):[]}function jI(r,e){return{documents:[Vb(r,e.path)]}}function BI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Vb(r,o);const u=(function(g){if(g.length!==0)return Ub(fi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:so(R.field),direction:FI(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ap(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function qI(r){let e=PI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=Lb(T);return R instanceof fi&&cb(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(H){return new Vh(ao(H.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,gu(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,L=T.values||[];return new Mh(L,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const R=!T.before,L=T.values||[];return new Mh(L,R)})(n.endAt)),lI(e,o,f,u,m,"F",p,g)}function HI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return kt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((s=>Lb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function FI(r){return NI[r]}function GI(r){return OI[r]}function QI(r){return MI[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return en.fromServerFormat(r.fieldPath)}function Ub(r){return r instanceof kt?(function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:GI(n.op),value:n.value}}})(r):r instanceof fi?(function(n){const s=n.getFilters().map((o=>Ub(o)));return s.length===1?s[0]:{compositeFilter:{op:QI(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function YI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class rs{constructor(e,n,s,o,u=be.min(),f=be.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KI{constructor(e){this.yt=e}}function XI(r){const e=qI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sp(e,e.limit,"L"):e}class $I{constructor(){this.Cn=new JI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(hs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class JI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(it.comparator)).toArray()}}const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jb=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(jb,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const uE="LruGarbageCollector",WI=1048576;function cE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class ZI{constructor(e){this.Ir=e,this.buffer=new jt(cE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?he(uE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)}))}}class tD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Jh.ce);const s=new ZI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(lE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),io()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function nD(r,e){return new tD(r,e)}class iD{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&$l(s.mutation,o,On.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=vr();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),lt.now())):f.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new rD(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new dt(((f,m)=>f-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||On.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=_b();E.forEach((R=>{if(!u.has(R)){const L=wb(n.get(R),s.get(R));L!==null&&T.set(R,L),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(ea());let m=tu,p=u;return f.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ze()))).next((E=>({batchId:m,changes:vb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,R){return new yu(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Qt.newInvalidDocument(E)))}));let m=ql();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,g,On.empty(),lt.now()),tf(n,g)&&(m=m.insert(p,g))})),m}))}}class aD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:XI(o.bundledQuery),readTime:Vn(o.readTime)}})(n)),ie.resolve()}}class oD{constructor(){this.overlays=new dt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ea(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new RI(n,s));let u=this.qr.get(n);u===void 0&&(u=ze(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class lD{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Yp{constructor(){this.Qr=new jt(Gt.$r),this.Ur=new jt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new it([])),s=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new it([])),s=new Gt(n,e),o=new Gt(n,e+1);let u=ze();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Gt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class uD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Gt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Up:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Ue);return n.forEach((o=>{const u=new Gt(o,0),f=new Gt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Gt(new ve(u),0);let m=new jt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Gt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Gt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cD{constructor(e){this.ri=e,this.docs=(function(){return new dt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qt.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||jx(zx(E),s)<=0||(o.has(E.key)||tf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new hD(this)}getSize(e){return ie.resolve(this.size)}}class hD extends iD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class fD{constructor(e){this.persistence=e,this.si=new la((n=>Bp(n)),qp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class Bb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new lD,this.referenceDelegate=e(this),this.Pi=new fD(this),this.indexManager=new $I,this.remoteDocumentCache=(function(o){return new cD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new KI(n),this.Ii=new aD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new uD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new dD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class dD extends qx{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Kp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.pi=new la((s=>Gx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nD(this,n)}static mi(e,n){return new Uh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xp(e,n.fromCache,s,o)}}class mD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aR()?8:Hx(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new mD;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(io()<=Le.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):ie.resolve())}ys(e,n){if(W0(n))return ie.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sp(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ze(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,sp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return W0(n)||o.isEqual(be.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(io()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,Ux(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new jt(gb(e));return n.forEach(((o,u)=>{tf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const $p="LocalStore",gD=3e8;class yD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(Ue),this.xs=new la((u=>Bp(u)),qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vD(r,e,n,s){return new yD(r,e,n,s)}async function qb(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ze();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function _D(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,R=T.keys();let L=ie.resolve();return R.forEach((H=>{L=L.next((()=>E.getEntry(p,H))).next((G=>{const q=g.docVersions.get(H);He(q!==null,48541),G.version.compareTo(q)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Hb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ED(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(tn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(G,q,J){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=gD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(R,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=vr(),g=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(TD(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function TD(r,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he($p,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function bD(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function SD(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new rs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function up(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;he($p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function hE(r,e,n){const s=we(r);let o=be.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=we(p),R=T.xs.get(E);return R!==void 0?ie.resolve(T.Ms.get(R)):T.Pi.getTargetData(g,E)})(s,f,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ze()))).next((m=>(AD(s,cI(e),m),{documents:m,Qs:u})))))}function AD(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class fE{constructor(){this.activeTargetIds=gI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wD{constructor(){this.Mo=new fE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RD{Oo(e){}shutdown(){}}const dE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function cp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const km="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=cp(),m=this.zo(e,n.toUriEncodedString());he(km,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ro(g);return this.Jo(e,m,p,s,E).then((T=>(he(km,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw po(km,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=CD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ID{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class DD extends xD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=cp();return new Promise(((m,p)=>{const g=new HT;g.setWithCredentials(!0),g.listenOnce(FT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const T=g.getResponseJson();he(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case dh.TIMEOUT:he(rn,`RPC '${e}' ${f} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const R=g.getStatus();if(he(rn,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const H=L?.error;if(H&&H.status&&H.message){const G=(function(J){const X=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN})(H.status);p(new ce(G,H.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(rn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);he(rn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=cp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=YT(),m=QT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(rn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let R=!1,L=!1;const H=new ID({Yo:q=>{L?he(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(he(rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),he(rn,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),G=(q,J,X)=>{q.listen(J,(W=>{try{X(W)}catch(re){setTimeout((()=>{throw re}),0)}}))};return G(T,Bl.EventType.OPEN,(()=>{L||(he(rn,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),G(T,Bl.EventType.CLOSE,(()=>{L||(L=!0,he(rn,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(T))})),G(T,Bl.EventType.ERROR,(q=>{L||(L=!0,po(rn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),H.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),G(T,Bl.EventType.MESSAGE,(q=>{if(!L){const J=q.data[0];He(!!J,16349);const X=J,W=X?.error||X[0]?.error;if(W){he(rn,`RPC '${e}' stream ${o} received error:`,W);const re=W.status;let oe=(function(S){const x=Vt[S];if(x!==void 0)return Ib(x)})(re),fe=W.message;oe===void 0&&(oe=Z.INTERNAL,fe="Unknown error status: "+re+" with message "+W.message),L=!0,H.a_(new ce(oe,fe)),T.close()}else he(rn,`RPC '${e}' stream ${o} received:`,J),H.u_(J)}})),G(m,GT.STAT_EVENT,(q=>{q.stat===Wm.PROXY?he(rn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Wm.NOPROXY&&he(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}function of(r){return new VI(r,!0)}class Jp{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pE="PersistentStream";class Fb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jp(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ND extends Fb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Vn(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=lp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ip(p)?{documents:jI(u,p)}:{query:BI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ob(u,f.resumeToken);const g=ap(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Ph(u,f.snapshotVersion.toTimestamp());const g=ap(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=HI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.q_(n)}}class OD extends Fb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zI(e.writeResults,e.commitTime),s=Vn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=lp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Pb(this.serializer,s)))};this.q_(n)}}class MD{}class VD extends MD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,op(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,op(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class PD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(he(oa,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await Eu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await lf(g)})(this))}))})),this.Ra=new kD(s,o)}}async function lf(r){if(ua(r))for(const e of r.da)await e(!0)}async function Eu(r){for(const e of r.da)await e(!1)}function Gb(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):Oo(n).O_()&&Zp(n,e))}function Wp(r,e){const n=we(r),s=Oo(n);n.Ia.delete(e),s.O_()&&Qb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Zp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).Y_(e)}function Qb(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function eg(r){r.Va=new DI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function tg(r){return ua(r)&&!Oo(r).x_()&&r.Ia.size>0}function ua(r){return we(r).Ea.size===0}function Yb(r){r.Va=void 0}async function LD(r){r.Ra.set("Online")}async function UD(r){r.Ia.forEach(((e,n)=>{Zp(r,e)}))}async function zD(r,e){Yb(r),tg(r)?(r.Ra.ha(e),eg(r)):r.Ra.set("Unknown")}async function jD(r,e,n){if(r.Ra.set("Online"),e instanceof Nb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof yh?r.Va.Ze(e):e instanceof Db?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await Hb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),Qb(u,p);const T=new rs(E.target,p,g,E.sequenceNumber);Zp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(oa,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await Eu(r),r.Ra.set("Offline"),n||(n=()=>Hb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await lf(r)}))}function Kb(r,e){return e().catch((n=>zh(r,n,e)))}async function uf(r){const e=we(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Up;for(;BD(e);)try{const o=await bD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,qD(e,o)}catch(o){await zh(e,o)}Xb(e)&&$b(e)}function BD(r){return ua(r)&&r.Ta.length<10}function qD(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Xb(r){return ua(r)&&!ps(r).x_()&&r.Ta.length>0}function $b(r){ps(r).start()}async function HD(r){ps(r).ra()}async function FD(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function GD(r,e,n){const s=r.Ta.shift(),o=Fp.from(s,e,n);await Kb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await uf(r)}async function QD(r,e){e&&ps(r).X_&&await(async function(s,o){if((function(f){return xb(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await Kb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(s)}})(r,e),Xb(r)&&$b(r)}async function gE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),he(oa,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lf(n)}async function YD(r,e){const n=we(r);e?(n.Ea.delete(2),await lf(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new ND(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:LD.bind(null,r),t_:UD.bind(null,r),r_:zD.bind(null,r),H_:jD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Yb(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new OD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HD.bind(null,r),r_:QD.bind(null,r),ta:FD.bind(null,r),na:GD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await uf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ng(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,e){if(yr("AsyncQueue",`${e}: ${r}`),No(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class yE{constructor(){this.ga=new dt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class KD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XD{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=vE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function vE(){return new la((r=>pb(r)),ef)}async function rg(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new KD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ig(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ag(n)}async function sg(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $D(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&ag(n)}function JD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ag(r){r.Ca.forEach((e=>{e.next()}))}var hp,_E;(_E=hp||(hp={})).Ma="default",_E.Cache="cache";class og{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hp.Cache}}class Jb{constructor(e){this.key=e}}class Wb{constructor(e){this.key=e}}class WD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=gb(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new yE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),L=tf(this.query,T)?T:null,H=!!R&&this.mutatedKeys.has(R.key),G=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let q=!1;R&&L?R.data.isEqual(L.data)?H!==G&&(s.track({type:3,doc:L}),q=!0):this.su(R,L)||(s.track({type:2,doc:L}),q=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),q=!0):R&&!L&&(s.track({type:1,doc:R}),q=!0,(p||g)&&(m=!0)),q&&(L?(f=f.add(L),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(L,H){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return G(L)-G(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Wb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Jb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class ZD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eN{constructor(e){this.key=e,this.hu=!1}}class tN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>pb(m)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ve.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nN(r,e,n=!0){const s=rS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Zb(s,e,n,!0),o}async function iN(r,e){const n=rS(r);await Zb(n,e,!0,!1)}async function Zb(r,e,n,s){const o=await SD(r.localStore,zi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await rN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Gb(r.remoteStore,o),m}async function rN(r,e,n,s,o){r.pu=(T,R,L)=>(async function(G,q,J,X){let W=q.view.ru(J);W.Cs&&(W=await hE(G.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,W))));const re=X&&X.targetChanges.get(q.targetId),oe=X&&X.targetMismatches.get(q.targetId)!=null,fe=q.view.applyChanges(W,G.isPrimaryClient,re,oe);return TE(G,q.targetId,fe.au),fe.snapshot})(r,T,R,L);const u=await hE(r.localStore,e,!0),f=new WD(e,u.Qs),m=f.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);TE(r,n,g.au);const E=new ZD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function sN(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!ef(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await up(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Wp(s.remoteStore,o.targetId),fp(s,o.targetId)})).catch(Do)):(fp(s,o.targetId),await up(s.localStore,o.targetId,!0))}async function aN(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wp(n.remoteStore,s.targetId))}async function oN(r,e,n){const s=mN(r);try{const o=await(function(f,m){const p=we(f),g=lt.now(),E=m.reduce(((L,H)=>L.add(H.key)),ze());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let H=vr(),G=ze();return p.Ns.getEntries(L,E).next((q=>{H=q,H.forEach(((J,X)=>{X.isValidDocument()||(G=G.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,H))).next((q=>{T=q;const J=[];for(const X of m){const W=AI(X,T.get(X.key).overlayedDocument);W!=null&&J.push(new _s(X.key,W,ob(W.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,J,m)})).next((q=>{R=q;const J=q.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(L,q.batchId,J)}))})).then((()=>({batchId:R.batchId,changes:vb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new dt(Ue)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Tu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=ig(o,"Failed to persist write");n.reject(u)}}async function eS(r,e){const n=we(r);try{const s=await ED(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))})),await Tu(n,s,e)}catch(s){await Do(s)}}function EE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(g=!0)})),g&&ag(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lN(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(ve.comparator);f=f.insert(u,Qt.newNoDocument(u,be.min()));const m=ze().add(u),p=new af(be.min(),new Map,new dt(Ue),f,m);await eS(s,p),s.du=s.du.remove(u),s.Au.delete(e),ug(s)}else await up(s.localStore,e,!1).then((()=>fp(s,e,n))).catch(Do)}async function uN(r,e){const n=we(r),s=e.batch.batchId;try{const o=await _D(n.localStore,e);nS(n,s,null),tS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await Do(o)}}async function cN(r,e,n){const s=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(He(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);nS(s,e,n),tS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await Do(o)}}function tS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function nS(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function fp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||iS(r,s)}))}function iS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Wp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ug(r))}function TE(r,e,n){for(const s of n)s instanceof Jb?(r.Ru.addReference(s.key,e),hN(r,s)):s instanceof Wb?(he(lg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||iS(r,s.key)):Ee(19791,{wu:s})}function hN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(lg,"New document in limbo: "+n),r.Eu.add(s),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(it.fromString(e)),s=r.fu.next();r.Au.set(s,new eN(n)),r.du=r.du.insert(n,s),Gb(r.remoteStore,new rs(zi(Zh(n.path)),s,"TargetPurposeLimboResolution",Jh.ce))}}async function Tu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Xp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(R=>ie.forEach(R.Es,(L=>E.persistence.referenceDelegate.addReference(T,R.targetId,L))).next((()=>ie.forEach(R.ds,(L=>E.persistence.referenceDelegate.removeReference(T,R.targetId,L)))))))))}catch(T){if(!No(T))throw T;he($p,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const L=E.Ms.get(R),H=L.snapshotVersion,G=L.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(R,G)}}})(s.localStore,u))}async function fN(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){he(lg,"User change. New user:",e.toKey());const s=await qb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function dN(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function rS(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lN.bind(null,e),e.Pu.H_=$D.bind(null,e.eventManager),e.Pu.yu=JD.bind(null,e.eventManager),e}function mN(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cN.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vD(this.persistence,new pD,e.initialUser,this.serializer)}Cu(e){return new Bb(Kp.mi,this.serializer)}Du(e){return new wD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class pN extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Bb((s=>Uh.mi(s,n)),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>EE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),await YD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XD})()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=(function(u){return new DD(u)})(e.databaseInfo);return(function(u,f,m,p){return new VD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new PD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>EE(this.syncEngine,n,0)),(function(){return mE.v()?new mE:new RD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new tN(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);he(oa,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};class cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class gN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=we(o),m={documents:u.map((T=>Lh(f.serializer,T)))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,it.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const R=LI(f.serializer,T);g.set(R.key.toString(),R)}));const E=[];return u.forEach((T=>{const R=g.get(T.toString());He(!!R,55234,{key:T}),E.push(R)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new sf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=ve.fromPath(s);this.mutations.push(new Cb(o,this.precondition(o)))})),await(async function(s,o){const u=we(s),f={writes:o.map((m=>Pb(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,it.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee(50498,{Gu:e.constructor.name});n=be.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ce(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(be.min())?an.exists(!1):an.updateTime(n):an.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(be.min()))throw new ce(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yN{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Jp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new gN(this.datastore),n=this.Hu(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const n=this.updateFunction(e);return!gu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!xb(n)}return!1}}const gs="FirestoreClient";class vN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ig(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),he(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await qb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function bE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _N(r);he(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>gE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>gE(e.remoteStore,o))),r._onlineComponents=e}async function _N(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(gs,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new jh)}}else he(gs,"Using default OfflineComponentProvider"),await Lm(r,new pN(void 0));return r._offlineComponents}async function hg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(gs,"Using user provided OnlineComponentProvider"),await bE(r,r._uninitializedComponentsProvider._online)):(he(gs,"Using default OnlineComponentProvider"),await bE(r,new dp))),r._onlineComponents}function EN(r){return hg(r).then((e=>e.syncEngine))}function TN(r){return hg(r).then((e=>e.datastore))}async function Bh(r){const e=await hg(r),n=e.eventManager;return n.onListen=nN.bind(null,e.syncEngine),n.onUnlisten=sN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aN.bind(null,e.syncEngine),n}function bN(r,e,n={}){const s=new Ui;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new cg({next:R=>{E.Nu(),f.enqueueAndForget((()=>sg(u,T)));const L=R.docs.has(m);!L&&R.fromCache?g.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&p&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new og(Zh(m.path),E,{includeMetadataChanges:!0,qa:!0});return rg(u,T)})(await Bh(r),r.asyncQueue,e,n,s))),s.promise}function SN(r,e,n={}){const s=new Ui;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new cg({next:R=>{E.Nu(),f.enqueueAndForget((()=>sg(u,T))),R.fromCache&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new og(m,E,{includeMetadataChanges:!0,qa:!0});return rg(u,T)})(await Bh(r),r.asyncQueue,e,n,s))),s.promise}function sS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const SE=new Map;const aS="firestore.googleapis.com",AE=!0;class wE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=AE}else this.host=e.host,this.ssl=e.ssl??AE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WI)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Cx;switch(s.type){case"firstParty":return new Nx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=SE.get(n);s&&(he("ComponentProvider","Removing Datastore"),SE.delete(n),s.terminate())})(this),Promise.resolve()}}function AN(r,e,n,s={}){r=Mn(r,cf);const o=Ro(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(rT(`https://${m}`),sT("Firestore",!0)),u.host!==aS&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ia(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=sn.MOCK_USER;else{g=Jw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(T)}r._authCredentials=new xx(new XT(g,E))}}class ca{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(pu(n,vt._jsonSchema))return new vt(e,s||null,new ve(it.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Pt("string",vt._jsonSchemaVersion),referencePath:Pt("string")};class us extends ca{constructor(e,n,s){super(e,n,Zh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ve(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function hn(r,e,...n){if(r=Bt(r),$T("collection","path",e),r instanceof cf){const s=it.fromString(e,...n);return U0(s),new us(r,null,s)}{if(!(r instanceof vt||r instanceof us))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return U0(s),new us(r.firestore,null,s)}}function Dn(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=Lp.newId()),$T("doc","path",e),r instanceof cf){const s=it.fromString(e,...n);return L0(s),new vt(r,null,new ve(s))}{if(!(r instanceof vt||r instanceof us))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return L0(s),new vt(r.firestore,r instanceof us?r.converter:null,new ve(s))}}const RE="AsyncQueue";class CE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jp(this,"async_queue_retry"),this._c=()=>{const s=Pm();s&&he(RE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;he(RE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",xE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:xE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function IE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class _r extends cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new CE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function wN(r,e){const n=typeof r=="object"?r:uT(),s=typeof r=="string"?r:Nh,o=wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Xw("firestore");u&&AN(o,...u)}return o}function bu(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RN(r),r._firestoreClient}function RN(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new Kx(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,sS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(tn.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Pt("string",Nn._jsonSchemaVersion),bytes:Pt("string")};class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ff{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(pu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Pt("string",ji._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Pt("string",Bi._jsonSchemaVersion),vectorValues:Pt("object")};const CN=/^__.*__$/;class xN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class oS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class fg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lS(this.Ac)&&CN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}Cc(e,n,s,o=!1){return new fg({Ac:e,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(r){const e=r._freezeSettings(),n=of(r._databaseId);return new IN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dg(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);pg("Data must be an object, but it was:",f,s);const m=uS(s,f);let p,g;if(u.merge)p=new On(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=mp(e,T,n);if(!f.contains(R))throw new ce(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);hS(E,R)||E.push(R)}p=new On(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new xN(new fn(m),p,g)}class mf extends ff{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}class mg extends ff{_toFieldTransform(e){return new EI(e.path,new su)}isEqual(e){return e instanceof mg}}function DN(r,e,n,s){const o=r.Cc(1,e,n);pg("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();vs(s,((p,g)=>{const E=gg(e,p,n);g=Bt(g);const T=o.yc(E);if(g instanceof mf)u.push(E);else{const R=Su(g,T);R!=null&&(u.push(E),f.set(E,R))}}));const m=new On(u);return new oS(f,m,o.fieldTransforms)}function NN(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[mp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(mp(e,u[R])),p.push(u[R+1]);const g=[],E=fn.empty();for(let R=m.length-1;R>=0;--R)if(!hS(g,m[R])){const L=m[R];let H=p[R];H=Bt(H);const G=f.yc(L);if(H instanceof mf)g.push(L);else{const q=Su(H,G);q!=null&&(g.push(L),E.set(L,q))}}const T=new On(g);return new oS(E,T,f.fieldTransforms)}function ON(r,e,n,s=!1){return Su(n,r.Cc(s?4:3,e))}function Su(r,e){if(cS(r=Bt(r)))return pg("Unsupported field value:",e,r),uS(r,e);if(r instanceof ff)return(function(s,o){if(!lS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Su(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:Ob(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(f,m){return{mapValue:{fields:{[sb]:{stringValue:ab},[Oh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Hp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(r,e)}function uS(r,e){const n={};return ZT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,((s,o)=>{const u=Su(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function cS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof ji||r instanceof Nn||r instanceof vt||r instanceof ff||r instanceof Bi)}function pg(r,e,n){if(!cS(n)||!JT(n)){const s=$h(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function mp(r,e,n){if((e=Bt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return gg(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const MN=new RegExp("[~\\*/\\[\\]]");function gg(r,e,n){if(e.search(MN)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(Z.INVALID_ARGUMENT,m+r+p)}function hS(r,e){return r.some((n=>n.isEqual(e)))}class Hh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VN extends Hh{data(){return super.data()}}function yg(r,e){return typeof e=="string"?gg(r,e):e instanceof hf?e._internalPath:e._delegate._internalPath}function fS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class kN extends vg{}function pf(r,e,...n){let s=[];e instanceof vg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof _g)).length,m=u.filter((p=>p instanceof gf)).length;if(f>1||f>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class gf extends kN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gf(e,n,s)}_apply(e){const n=this._parse(e);return dS(e._query,n),new ca(e.firestore,e.converter,rp(e._query,n))}_parse(e){const n=df(e.firestore);return(function(u,f,m,p,g,E,T){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){NE(T,E);const H=[];for(const G of T)H.push(DE(p,u,G));R={arrayValue:{values:H}}}else R=DE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||NE(T,E),R=ON(m,f,T,E==="in"||E==="not-in");return kt.create(g,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function To(r,e,n){const s=e,o=yg("where",r);return gf._create(o,s,n)}class _g extends vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)dS(f,p),f=rp(f,p)})(e._query,n),new ca(e.firestore,e.converter,rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DE(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ve.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(r,new ve(s))}if(n instanceof vt)return Q0(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function NE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mS{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((s=>St(s.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new ji(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=fs(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);He(zb(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Eg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class PN extends mS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends Hh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Pt("string",cs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class vh extends cs{data(e={}){return super.data(e)}}class na{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new oo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new oo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new oo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:LN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function _h(r){r=Mn(r,vt);const e=Mn(r.firestore,_r);return bN(bu(e),r._key).then((n=>pS(e,r,n)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Pt("string",na._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class yf extends mS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Au(r){r=Mn(r,ca);const e=Mn(r.firestore,_r),n=bu(e),s=new yf(e);return fS(r._query),SN(n,r._query).then((o=>new na(e,s,r,o)))}function Ws(r,e,n){r=Mn(r,vt);const s=Mn(r.firestore,_r),o=Eg(r.converter,e,n);return Tg(s,[dg(df(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,an.none())])}function jl(r){return Tg(Mn(r.firestore,_r),[new sf(r._key,an.none())])}function UN(r,e){const n=Mn(r.firestore,_r),s=Dn(r),o=Eg(r.converter,e);return Tg(n,[dg(df(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,an.exists(!1))]).then((()=>s))}function ur(r,...e){r=Bt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||IE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof vt)f=Mn(r.firestore,_r),m=Zh(r._key.path),u={next:p=>{e[s]&&e[s](pS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Mn(r,ca);f=Mn(p.firestore,_r),m=p._query;const g=new yf(f);u={next:E=>{e[s]&&e[s](new na(f,g,p,E))},error:e[s+1],complete:e[s+2]},fS(r._query)}return(function(g,E,T,R){const L=new cg(R),H=new og(E,L,T);return g.asyncQueue.enqueueAndForget((async()=>rg(await Bh(g),H))),()=>{L.Nu(),g.asyncQueue.enqueueAndForget((async()=>sg(await Bh(g),H)))}})(bu(f),m,o,u)}function Tg(r,e){return(function(s,o){const u=new Ui;return s.asyncQueue.enqueueAndForget((async()=>oN(await EN(s),o,u))),u.promise})(bu(r),e)}function pS(r,e,n){const s=n.docs.get(e._key),o=new yf(r);return new cs(r,o,e._key,s,new oo(n.hasPendingWrites,n.fromCache),e.converter)}const zN={maxAttempts:5};function Fl(r,e){if((r=Bt(r)).firestore!==e)throw new ce(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class jN{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=df(e)}get(e){const n=Fl(e,this._firestore),s=new PN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Ee(24041);const u=o[0];if(u.isFoundDocument())return new Hh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Hh(this._firestore,s,n._key,null,n.converter);throw Ee(18433,{doc:u})}))}set(e,n,s){const o=Fl(e,this._firestore),u=Eg(o.converter,n,s),f=dg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Fl(e,this._firestore);let f;return f=typeof(n=Bt(n))=="string"||n instanceof hf?NN(this._dataReader,"Transaction.update",u._key,n,s,o):DN(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Fl(e,this._firestore);return this._transaction.delete(n._key),this}}class BN extends jN{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Fl(e,this._firestore),s=new yf(this._firestore);return super.get(e).then((o=>new cs(this._firestore,s,n._key,o._document,new oo(!1,!1),n.converter)))}}function qN(r,e,n){r=Mn(r,_r);const s={...zN,...n};return(function(u){if(u.maxAttempts<1)throw new ce(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Ui;return u.asyncQueue.enqueueAndForget((async()=>{const g=await TN(u);new yN(u.asyncQueue,g,m,f,p).ju()})),p.promise})(bu(r),(o=>e(new BN(r,o))),s)}function li(){return new mg("serverTimestamp")}(function(e,n=!0){(function(o){Io=o})(Co),fo(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _r(new Ix(s.getProvider("auth-internal")),new Ox(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),os(M0,V0,e),os(M0,V0,"esm2020")})();const HN={apiKey:"AIzaSyDYdiJjDRBA9nGPj8LGDxAE4O6o6Qlyx68",authDomain:"labyrinth-6dc4f.firebaseapp.com",projectId:"labyrinth-6dc4f",storageBucket:"labyrinth-6dc4f.firebasestorage.app",messagingSenderId:"912154260516",appId:"1:912154260516:web:e118702708fb452fde14b1"},gS=lT(HN),Um=Sx(gS),FN=new cr,st=wN(gS),yS=k.createContext(),ha=()=>{const r=k.useContext(yS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},GN=({children:r})=>{const[e,n]=k.useState(null),[s,o]=k.useState(!0);k.useEffect(()=>h2(Um,g=>{n(g),o(!1)}),[]);const m={user:e,loading:s,loginWithGoogle:async()=>{try{return(await O2(Um,FN)).user}catch(p){throw console.error("Google login error:",p),p}},logout:async()=>{try{await f2(Um)}catch(p){throw console.error("Logout error:",p),p}},isAuthenticated:!!e};return C.jsx(yS.Provider,{value:m,children:!s&&r})},vS=k.createContext(),vf=()=>{const r=k.useContext(vS);if(!r)throw new Error("useMedia must be used within a MediaProvider");return r},QN=({children:r})=>{const[e,n]=k.useState(null),[s,o]=k.useState(!1),[u,f]=k.useState(!0),[m,p]=k.useState(!1),[g,E]=k.useState(null),T=k.useRef(null),R=k.useRef(null),L=k.useCallback(async(re,oe=null)=>{try{const fe=re==="video"?{video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:15},facingMode:"user",...oe&&{deviceId:{exact:oe}}}}:{audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,...oe&&{deviceId:{exact:oe}}}};return(await navigator.mediaDevices.getUserMedia(fe)).getTracks()[0]}catch(fe){if(console.error(`Error getting ${re} track:`,fe),re==="video"&&fe.name==="NotReadableError")return console.log("Camera busy, creating test video track for localhost testing"),H();throw fe}},[]),H=()=>{const re=document.createElement("canvas");re.width=640,re.height=480;const oe=re.getContext("2d"),fe=oe.createLinearGradient(0,0,640,480);return fe.addColorStop(0,"#8b5cf6"),fe.addColorStop(1,"#3b82f6"),oe.fillStyle=fe,oe.fillRect(0,0,640,480),oe.fillStyle="white",oe.font="30px Arial",oe.textAlign="center",oe.fillText("Test Video",320,240),oe.font="20px Arial",oe.fillText("Localhost Mode",320,280),re.captureStream(15).getVideoTracks()[0]},G=k.useCallback(async(re={})=>{p(!0),E(null);try{console.log("Initializing media with options:",re),T.current&&(T.current.stop(),T.current=null),R.current&&(R.current.stop(),R.current=null);const oe=new MediaStream;if(re.video!==!1)try{T.current=await L("video"),oe.addTrack(T.current),o(!0),console.log("Video track added")}catch(fe){console.warn("Could not get video track:",fe),o(!1)}else o(!1);if(re.audio!==!1)try{R.current=await L("audio"),oe.addTrack(R.current),f(!0),console.log("Audio track added")}catch(fe){console.warn("Could not get audio track:",fe),f(!1)}else f(!1);return n(oe),console.log("Media initialized:",{hasVideo:!!T.current,hasAudio:!!R.current}),oe}catch(oe){throw console.error("Error initializing media:",oe),E(`Failed to initialize media: ${oe.message}`),oe}finally{p(!1)}},[L]),q=k.useCallback(async()=>{p(!0);try{if(s){console.log("Turning camera OFF..."),T.current&&(T.current.stop(),T.current=null);const re=new MediaStream;R.current&&re.addTrack(R.current),n(re),o(!1),console.log("Camera turned OFF")}else{console.log("Turning camera ON...");try{T.current=await L("video");const re=new MediaStream;R.current&&re.addTrack(R.current),re.addTrack(T.current),n(re),o(!0),console.log("Camera turned ON")}catch(re){console.error("Failed to enable camera:",re),E("Cannot enable camera");return}}}catch(re){console.error("Error toggling camera:",re),E(`Failed to toggle camera: ${re.message}`)}finally{p(!1)}},[s,L]),J=k.useCallback(async()=>{p(!0);try{if(u){console.log("Muting microphone..."),R.current&&(R.current.stop(),R.current=null);const re=new MediaStream;T.current&&re.addTrack(T.current),n(re),f(!1),console.log("Microphone MUTED")}else{console.log("Unmuting microphone...");try{R.current=await L("audio");const re=new MediaStream;T.current&&re.addTrack(T.current),re.addTrack(R.current),n(re),f(!0),console.log("Microphone UNMUTED")}catch(re){console.error("Failed to enable microphone:",re),E("Cannot enable microphone");return}}}catch(re){console.error("Error toggling microphone:",re),E(`Failed to toggle microphone: ${re.message}`)}finally{p(!1)}},[u,L]),X=k.useCallback(()=>{T.current&&(T.current.stop(),T.current=null),R.current&&(R.current.stop(),R.current=null),n(null),o(!1),f(!1)},[]);Bm.useEffect(()=>{(async()=>{try{await G({video:!0,audio:!0})}catch{console.log("Auto-initialize failed, user will need to manually enable")}})()},[G]),Bm.useEffect(()=>()=>{X()},[X]);const W={localStream:e,isCameraOn:s,isMicOn:u,isLoading:m,error:g,initializeMedia:G,toggleCamera:q,toggleMicrophone:J,stopMedia:X};return C.jsx(vS.Provider,{value:W,children:r})},YN=()=>Math.floor(1e5+Math.random()*9e5).toString(),KN=async r=>{const e=hn(st,"rooms"),n=pf(e,To("roomCode","==",r));return(await Au(n)).empty},XN=async(r,e)=>{try{let n,s=!1;for(let f=0;f<5&&(n=YN(),s=await KN(n),!s);f++);if(!s)throw new Error("Could not generate unique room code. Please try again.");const o={name:r.name||`${e.displayName}'s Room`,maxParticipants:Math.min(Math.max(r.maxParticipants,2),10),currentParticipants:1,hostId:e.uid,hostName:e.displayName,hostPhotoURL:e.photoURL||"",createdAt:li(),lastActivity:li(),isActive:!0,status:"waiting",roomCode:n},u=await UN(hn(st,"rooms"),o);return await Ws(Dn(st,"rooms",u.id,"participants",e.uid),{name:e.displayName,email:e.email,photoURL:e.photoURL||"",joinedAt:li(),isHost:!0,isActive:!0}),{id:u.id,...o,roomCode:n}}catch(n){throw console.error("Error creating room:",n),n}},Eh=async r=>{try{const e=Dn(st,"rooms",r),n=await _h(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting room:",e),e}},$N=async r=>{try{const e=hn(st,"rooms"),n=pf(e,To("roomCode","==",r)),s=await Au(n);if(!s.empty){const o=s.docs[0];return{id:o.id,...o.data()}}return null}catch(e){throw console.error("Error getting room by code:",e),e}},JN=async()=>{try{const r=hn(st,"rooms"),e=pf(r,To("isActive","==",!0),To("status","in",["waiting","active"]));return(await Au(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){throw console.error("Error getting active rooms:",r),r}},zm=async r=>{try{const e=hn(st,"rooms",r,"participants");return(await Au(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting participants:",e),e}},WN=async(r,e)=>{try{console.log("=== JOIN ROOM ATTEMPT ==="),console.log(`User: ${e.uid} (${e.displayName})`),console.log(`Room: ${r}`);const n=Dn(st,"rooms",r,"participants",e.uid);if((await _h(n)).exists())return console.log("User already a participant, skipping join"),{alreadyJoined:!0};const o=Dn(st,"rooms",r),u=await _h(o);if(!u.exists())throw new Error("Room not found");const f=u.data();if(console.log("Current room state:",f),f.currentParticipants>=f.maxParticipants)throw console.log("Room is full, cannot join"),new Error("Room is full");return console.log("Starting transaction to join room..."),await qN(st,async m=>{const p=await m.get(o);if(!p.exists())throw new Error("Room not found");const g=p.data();if(console.log("Fresh room data in transaction:",g),g.currentParticipants>=g.maxParticipants)throw new Error("Room is now full");if((await m.get(n)).exists()){console.log("User already joined (race condition detected)");return}m.set(n,{name:e.displayName,email:e.email,photoURL:e.photoURL||"",joinedAt:li(),isHost:!1,isActive:!0}),m.update(o,{currentParticipants:g.currentParticipants+1,lastActivity:li()}),console.log("Transaction successful - user joined")}),console.log("=== JOIN SUCCESSFUL ==="),{success:!0}}catch(n){console.error("Join room error:",n);try{if((await _h(Dn(st,"rooms",r,"participants",e.uid))).exists())return console.log("User was added despite error (race condition)"),{alreadyJoined:!0}}catch(s){console.error("Final check error:",s)}throw n}},ZN=(r,e)=>{try{const n=Dn(st,"rooms",r);return console.log(`Setting up room listener for: ${r}`),ur(n,o=>{if(console.log(`Room snapshot received for ${r}:`,o.exists()),o.exists()){const u={id:o.id,...o.data()};console.log("Room data:",u),e(u)}else console.log("Room does not exist"),e(null)},o=>{console.error("Error in room listener:",o),e(null,o)})}catch(n){throw console.error("Error setting up room listener:",n),n}},eO=(r,e)=>{try{const n=hn(st,"rooms",r,"participants");return console.log(`Setting up participants listener for room: ${r}`),ur(n,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));console.log(`Participants snapshot: ${u.length} participants`),e(u)},o=>{console.error("Error in participants listener:",o),e([],o)})}catch(n){throw console.error("Error setting up participants listener:",n),n}},tO=r=>{try{const e=hn(st,"rooms"),n=pf(e,To("isActive","==",!0),To("status","in",["waiting","active"]));return ur(n,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));r(u)},o=>{console.error("Error listening to active rooms:",o)})}catch(e){throw console.error("Error setting up active rooms listener:",e),e}},_S=k.createContext(),_f=()=>{const r=k.useContext(_S);if(!r)throw new Error("useRoom must be used within a RoomProvider");return r},nO=({children:r})=>{const{user:e}=ha(),[n,s]=k.useState([]),[o,u]=k.useState(null),[f,m]=k.useState(!1),[p,g]=k.useState(null),E=async J=>{if(!e)throw new Error("User must be logged in");m(!0),g(null);try{const X=await XN(J,e);return s(W=>[X,...W]),u(X),X}catch(X){throw g(X.message),X}finally{m(!1)}},T=async()=>{m(!0);try{const J=await JN();return s(J),J}catch(J){throw g(J.message),J}finally{m(!1)}},R=async J=>{m(!0);try{const X=await Eh(J);if(!X||!X.isActive)throw new Error("Room not found or inactive");return u(X),X}catch(X){throw g(X.message),X}finally{m(!1)}},L=async J=>{m(!0);try{const X=await $N(J);if(!X||!X.isActive)throw new Error("Room not found or inactive");return u(X),X}catch(X){throw g(X.message),X}finally{m(!1)}},H=()=>{u(null)},G=()=>{g(null)};k.useEffect(()=>{e&&T()},[e]);const q={rooms:n,currentRoom:o,loading:f,error:p,createRoom:E,fetchActiveRooms:T,joinRoomById:R,joinRoomByCode:L,leaveRoom:H,clearError:G,setCurrentRoom:u};return C.jsx(_S.Provider,{value:q,children:r})},ES=k.createContext(),TS=()=>{const r=k.useContext(ES);if(!r)throw new Error("usePeer must be used within a PeerProvider");return r},iO=({children:r})=>{const{user:e}=ha(),{localStream:n}=vf(),{currentRoom:s}=_f(),[o,u]=k.useState({}),[f,m]=k.useState("idle"),[p,g]=k.useState(0),E=k.useRef({}),T=k.useRef(null),R=k.useRef([]),L={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"}]},H=k.useCallback(()=>{console.log("Cleaning up peer connections"),Object.values(E.current).forEach(S=>{S&&S.signalingState!=="closed"&&S.close()}),E.current={},R.current.forEach(S=>S()),R.current=[],u({}),m("idle"),g(0),console.log("Peer cleanup complete")},[]);k.useCallback(async S=>{if(!(!e||!S)){console.log("Initializing signaling for room:",S);try{const x=Dn(st,"rooms",S,"signaling",e.uid);await Ws(signingDocRef,{userId:e.uid,userName:e.displayName,isOnline:!0,lastSeen:li(),status:"online",readyForConnection:!0},{merge:!0}),console.log("Signaling document created/updated for user:",e.uid);const w=Dn(hn(st,"rooms",S,"signaling","connections"),e.uid);await Ws(w,{userId:e.uid,userName:e.displayName,readyAt:li(),lookingForPeers:!0})}catch(x){console.error("Error creating signaling document:",x)}}},[e]);const G=k.useCallback((S,x)=>{console.log("Creating peer connection to:",S);try{const w=new RTCPeerConnection(L);return E.current[S]=w,T.current&&T.current.getTracks().forEach(I=>{w.addTrack(I,T.current)}),w.ontrack=I=>{console.log("Received remote track from:",S);const M=I.streams[0];M&&u(D=>({...D,[S]:{...D[S],stream:M,connectionState:w.connectionState||"connected",userData:x}}))},w.onicecandidate=I=>{I.candidate&&(console.log("New ICE candidate for:",S),q(S,I.candidate))},w.onconnectionstatechange=()=>{console.log(`Connection state with ${S}:`,w.connectionState),u(I=>({...I,[S]:{...I[S],connectionState:w.connectionState}})),w.connectionState==="connected"?(console.log(` Connected to ${S}`),m("connected")):(w.connectionState==="disconnected"||w.connectionState==="failed"||w.connectionState==="closed")&&(console.log(` Connection lost with ${S}`),E.current[S]&&delete E.current[S],u(I=>{const M={...I};return delete M[S],M}))},w.oniceconnectionstatechange=()=>{console.log(`ICE connection state with ${S}:`,w.iceConnectionState)},console.log("Peer connection created for:",S),w}catch(w){return console.error("Error creating peer connection:",w),null}},[]);k.useCallback(async(S,x)=>{console.log("Setting up direct connection with:",S);const w=new RTCPeerConnection(L);E.current[S]=w,T.current&&T.current.getTracks().forEach(I=>{w.addTrack(I,T.current)}),w.ontrack=I=>{console.log("Received remote stream from:",S);const M=I.streams[0];M&&(u(D=>({...D,[S]:{stream:M,connectionState:"connected",userData:x}})),m("connected"),console.log(" Stream added to state"))};try{const I=await w.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await w.setLocalDescription(I);const M=Dn(st,"rooms",s.id,"signaling",S,"offers",e.uid);await Ws(M,{sdp:JSON.stringify(I),from:e.uid,to:S,timestamp:li()}),console.log("Offer saved to Firestore for:",S)}catch(I){console.error("Error creating/sending offer:",I)}return w},[s?.id,e]);const q=k.useCallback(async(S,x)=>{if(!(!s?.id||!e))try{const w=Dn(st,"rooms",s.id,"signaling",e.uid,"candidates",Date.now().toString());await Ws(w,{to:S,from:e.uid,candidate:JSON.stringify(x.toJSON()),timestamp:li()}),console.log("ICE candidate sent to:",S)}catch(w){console.error("Error sending ICE candidate:",w)}},[s?.id,e]),J=k.useCallback(async(S,x)=>{if(!(!s?.id||!e)){console.log("Sending offer to user:",S);try{const w=Dn(st,"rooms",s.id,"signaling",S,"offers",e.uid);await Ws(w,{sdp:JSON.stringify(x),from:e.uid,fromName:e.displayName,to:S,timestamp:li(),type:"offer"}),console.log(" Offer saved to Firestore at path:",w.path),console.log("   - Collection: signaling/"+S+"/offers"),console.log("   - Document: "+e.uid)}catch(w){console.error(" Error sending offer:",w)}}},[s?.id,e]),X=k.useCallback(async(S,x)=>{if(!(!s?.id||!e)){console.log("Sending answer to user:",S);try{const w=Dn(st,"rooms",s.id,"signaling",S,"answers",e.uid);await Ws(w,{sdp:JSON.stringify(x),from:e.uid,fromName:e.displayName,to:S,timestamp:li(),type:"answer"}),console.log(" Answer saved to Firestore at path:",w.path)}catch(w){console.error(" Error sending answer:",w)}}},[s?.id,e]),W=k.useCallback(async(S,x)=>{console.log(" handleIncomingOffer called for:",S),console.log("   Offer exists:",!!x),console.log("   Offer type:",x?.type);try{let w=E.current[S];if(!w&&(console.log("   Creating new peer connection..."),w=G(S,{id:S,name:"Remote User"}),!w)){console.error("    Failed to create peer connection");return}console.log("   Setting remote description..."),await w.setRemoteDescription(new RTCSessionDescription(x)),console.log("    Remote description set"),console.log("   Creating answer...");const I=await w.createAnswer();console.log("   Answer created:",I.type),await w.setLocalDescription(I),console.log("    Local description set"),console.log("   Sending answer to:",S),await X(S,I),console.log("    Answer sent")}catch(w){console.error(" Error in handleIncomingOffer:",w)}},[G,X]),re=k.useCallback(async(S,x)=>{console.log("Handling incoming answer from:",S);const w=E.current[S];if(!w){console.error("No peer connection found for:",S);return}try{await w.setRemoteDescription(new RTCSessionDescription(x)),console.log("Remote description set for:",S)}catch(I){console.error("Error setting remote description:",I)}},[]),oe=k.useCallback(async(S,x)=>{console.log("Handling incoming ICE candidate from:",S);const w=E.current[S];if(!w){console.error("No peer connection found for ICE candidate:",S);return}try{await w.addIceCandidate(new RTCIceCandidate(x)),console.log("ICE candidate added for:",S)}catch(I){console.error("Error adding ICE candidate:",I)}},[]),fe=k.useCallback(async(S,x)=>{if(!(!e||e.uid===S)){console.log("Connecting to user:",S),m("connecting");try{const w=G(S,x);if(!w)throw new Error("Failed to create peer connection");const I=await w.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await w.setLocalDescription(I),await J(S,I),console.log("Offer created and sent to:",S)}catch(w){console.error("Error connecting to user:",w),m("error")}}},[e,G,J]);k.useEffect(()=>{if(!s?.id||!e)return;console.log(" Setting up offer listener for user:",e.uid),console.log(" Offers path: rooms/"+s.id+"/signaling/"+e.uid+"/offers");const S=hn(st,"rooms",s.id,"signaling",e.uid,"offers"),x=ur(S,w=>{console.log(" Offers snapshot received!"),console.log("   Total offers:",w.docs.length),console.log("   Changes:",w.docChanges().length),w.docChanges().forEach(async I=>{if(I.type==="added"){const M=I.doc.data();console.log(" NEW OFFER RECEIVED from:",M.from),console.log("   Document ID:",I.doc.id),console.log("   Offer data exists:",!!M.sdp);try{const D=JSON.parse(M.sdp);console.log("   Offer type:",D.type),await W(M.from,D),await jl(I.doc.ref),console.log(" Offer processed and cleaned up")}catch(D){console.error(" Error processing offer:",D)}}})},w=>{console.error(" Error in offer listener:",w)});return R.current.push(x),()=>{console.log(" Cleaning up offer listener"),x&&x()}},[s?.id,e,W]),k.useEffect(()=>{if(!s?.id||!e)return;console.log("Setting up answer listener");const S=hn(st,"rooms",s.id,"signaling",e.uid,"answers"),x=ur(S,w=>{w.docChanges().forEach(async I=>{if(I.type==="added"){const M=I.doc.data();console.log("Received answer from:",M.from),await re(M.from,JSON.parse(M.sdp)),await jl(I.doc.ref)}})});return R.current.push(x),()=>{x&&x()}},[s?.id,e,re]),k.useEffect(()=>{if(!s?.id||!e)return;console.log("Setting up participants listener");const S=hn(st,"rooms",s.id,"participants"),x=ur(S,w=>{const I=w.docs.map(ye=>({id:ye.id,...ye.data()}));console.log("Participants found:",I.length);const M=s?.hostId===e.uid;console.log("Am I host?",M);const D=I.filter(ye=>ye.id!==e.uid);if(!M&&D.length>0){const ye=D.find(Oe=>Oe.isHost)||D[0];ye&&!E.current[ye.id]&&(console.log("I am a joiner, connecting to host:",ye.id),setTimeout(()=>{fe(ye.id,{name:ye.name,photoURL:ye.photoURL})},1e3))}});return R.current.push(x),()=>{x&&x()}},[s,e,fe]),k.useEffect(()=>{if(!s?.id||!e)return;console.log("Setting up signaling listeners");const S=hn(st,"rooms",s.id,"signaling",e.uid,"offers"),x=ur(S,ye=>{ye.docChanges().forEach(Oe=>{if(Oe.type==="added"){const Y=Oe.doc.data();if(Y.to===e.uid){const se=JSON.parse(Y.sdp);W(Y.from,se),jl(Oe.doc.ref)}}})}),w=hn(st,"rooms",s.id,"signaling",e.uid,"answers"),I=ur(w,ye=>{ye.docChanges().forEach(Oe=>{if(Oe.type==="added"){const Y=Oe.doc.data();if(Y.to===e.uid){const se=JSON.parse(Y.sdp);re(Y.from,se),jl(Oe.doc.ref)}}})}),M=hn(st,"rooms",s.id,"signaling",e.uid,"candidates"),D=ur(M,ye=>{ye.docChanges().forEach(Oe=>{if(Oe.type==="added"){const Y=Oe.doc.data();if(Y.to===e.uid){const se=JSON.parse(Y.candidate);oe(Y.from,se),jl(Oe.doc.ref)}}})});return R.current.push(x,I,D),()=>{[x,I,D].forEach(ye=>ye&&ye())}},[s?.id,e,W,re,oe]),k.useEffect(()=>{const S=Object.keys(o).length;g(S),S>0&&f!=="connected"&&m("connected")},[o,f]);const N={peers:o,connectionStatus:f,activeConnections:p,connectToUser:fe,cleanup:H};return C.jsx(ES.Provider,{value:N,children:r})},OE=({children:r})=>{const{user:e,loading:n}=ha();return n?C.jsx("div",{className:"flex-center",style:{minHeight:"100vh",backgroundColor:"var(--bg-dark)"},children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"spinner"}),C.jsx("p",{style:{marginTop:"1rem",color:"var(--text-light)"},children:"Loading Labyrinth..."})]})}):e?r:C.jsx(sw,{to:"/",replace:!0})},jm=()=>{const{loginWithGoogle:r}=ha(),e=wo(),[n,s]=Bm.useState(!1),o=async()=>{s(!0);try{await r(),e("/dashboard")}catch(u){console.error("Login failed:",u),alert("Login failed. Please try again.")}finally{s(!1)}};return C.jsx("div",{style:{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, var(--primary-darker) 0%, var(--primary-dark) 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--space-md)"},children:C.jsxs("div",{style:{background:"var(--bg-card)",backdropFilter:"blur(20px)",borderRadius:"var(--radius-xl)",border:"1px solid var(--border-medium)",padding:"var(--space-xl)",width:"90%",maxWidth:"400px",boxShadow:"var(--shadow-xl)",margin:"0 auto"},children:[C.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-xl)"},children:[C.jsx("h1",{style:{fontSize:"3rem",fontWeight:"700",background:"linear-gradient(135deg, var(--primary-purple), var(--accent-pink))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:"var(--space-xs)",letterSpacing:"1px"},children:"Labyrinth"}),C.jsx("p",{style:{color:"var(--text-gray)",fontSize:"1.1rem",fontWeight:"300"},children:"Video Chat Maze"})]}),C.jsxs("div",{style:{textAlign:"center"},children:[C.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",marginBottom:"var(--space-sm)",color:"var(--text-light)"},children:"Welcome to Labyrinth"}),C.jsx("p",{style:{color:"var(--text-gray)",marginBottom:"var(--space-lg)",fontSize:"1rem",lineHeight:"1.5"},children:"Enter the maze of conversations. Connect, collaborate, and converse."}),C.jsx("button",{onClick:o,disabled:n,style:{width:"100%",background:"white",color:"#333",border:"none",padding:"var(--space-md)",borderRadius:"var(--radius-md)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)",transition:"all 0.2s ease",boxShadow:"var(--shadow-md)",opacity:n?.6:1},onMouseOver:u=>{n||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="var(--shadow-lg)")},onMouseOut:u=>{n||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="var(--shadow-md)")},children:n?C.jsxs(C.Fragment,{children:[C.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid rgba(0, 0, 0, 0.1)",borderTopColor:"#333",borderRadius:"50%",animation:"spin 1s linear infinite"}}),C.jsx("span",{children:"Signing in..."})]}):C.jsxs(C.Fragment,{children:[C.jsxs("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:[C.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),C.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),C.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),C.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),C.jsx("span",{children:"Continue with Google"})]})}),C.jsx("div",{style:{marginTop:"var(--space-lg)",paddingTop:"var(--space-md)",borderTop:"1px solid var(--border-light)"},children:C.jsx("p",{style:{color:"var(--text-gray)",fontSize:"0.9rem",lineHeight:"1.4"},children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})]})})},rO=({isOpen:r,onClose:e})=>{const{createRoom:n,loading:s}=_f(),o=wo(),[u,f]=k.useState({name:"",maxParticipants:4}),[m,p]=k.useState("");if(!r)return null;const g=async T=>{if(T.preventDefault(),p(""),u.maxParticipants<2||u.maxParticipants>10){p("Participants must be between 2 and 10");return}try{const R=await n(u);e(),o(`/room/${R.id}`)}catch(R){p(R.message||"Failed to create room")}},E=T=>{const{name:R,value:L}=T.target;f(H=>({...H,[R]:R==="maxParticipants"?parseInt(L)||2:L}))};return C.jsx("div",{style:gt.overlay,children:C.jsxs("div",{style:gt.modal,children:[C.jsxs("div",{style:gt.header,children:[C.jsx("h2",{style:gt.title,children:"Create New Room"}),C.jsx("button",{onClick:e,style:gt.closeButton,children:""})]}),C.jsxs("form",{onSubmit:g,style:gt.form,children:[C.jsx("div",{style:gt.formGroup,children:C.jsxs("label",{style:gt.label,children:["Room Name (Optional)",C.jsx("input",{type:"text",name:"name",value:u.name,onChange:E,placeholder:"Enter room name",style:gt.input,maxLength:30})]})}),C.jsx("div",{style:gt.formGroup,children:C.jsxs("label",{style:gt.label,children:["Maximum Participants: ",u.maxParticipants,C.jsxs("div",{style:gt.sliderContainer,children:[C.jsx("input",{type:"range",name:"maxParticipants",min:"2",max:"10",value:u.maxParticipants,onChange:E,style:gt.slider}),C.jsxs("div",{style:gt.sliderLabels,children:[C.jsx("span",{children:"2"}),C.jsx("span",{children:"10"})]})]}),C.jsx("div",{style:gt.participantHint,children:u.maxParticipants===10?"Max capacity (10 participants)":`${u.maxParticipants} participants maximum`})]})}),m&&C.jsx("div",{style:gt.error,children:m}),C.jsxs("div",{style:gt.buttonGroup,children:[C.jsx("button",{type:"button",onClick:e,style:gt.cancelButton,disabled:s,children:"Cancel"}),C.jsx("button",{type:"submit",style:gt.createButton,disabled:s,children:s?C.jsxs(C.Fragment,{children:[C.jsx("div",{style:gt.spinner}),"Creating..."]}):"Create Room"})]})]}),C.jsx("div",{style:gt.note,children:C.jsxs("p",{style:gt.noteText,children:[C.jsx("strong",{children:"Note:"})," You'll become the host of this room. You can invite others using the room code that will be generated."]})})]})})},gt={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{backgroundColor:"var(--bg-card)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-medium)",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"var(--shadow-xl)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-lg)",borderBottom:"1px solid var(--border-light)"},title:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-light)",margin:0},closeButton:{background:"none",border:"none",fontSize:"2rem",color:"var(--text-gray)",cursor:"pointer",padding:"0",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease"},form:{padding:"var(--space-lg)"},formGroup:{marginBottom:"var(--space-lg)"},label:{display:"block",color:"var(--text-light)",marginBottom:"var(--space-sm)",fontSize:"0.95rem",fontWeight:"500"},input:{width:"100%",padding:"var(--space-sm)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",marginTop:"var(--space-xs)",transition:"all 0.2s ease"},sliderContainer:{marginTop:"var(--space-sm)"},slider:{width:"100%",height:"6px",borderRadius:"3px",backgroundColor:"rgba(255, 255, 255, 0.1)",outline:"none",opacity:"0.7",transition:"opacity 0.2s",WebkitAppearance:"none"},sliderLabels:{display:"flex",justifyContent:"space-between",marginTop:"var(--space-xs)",color:"var(--text-gray)",fontSize:"0.9rem"},participantHint:{marginTop:"var(--space-xs)",color:"var(--accent-blue)",fontSize:"0.9rem",fontStyle:"italic"},error:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"var(--space-sm)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-md)",fontSize:"0.9rem"},buttonGroup:{display:"flex",gap:"var(--space-md)",marginTop:"var(--space-xl)"},cancelButton:{flex:1,padding:"var(--space-md)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},createButton:{flex:2,padding:"var(--space-md)",background:"linear-gradient(135deg, var(--primary-purple), var(--primary-indigo))",border:"none",borderRadius:"var(--radius-md)",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)",transition:"all 0.2s ease"},spinner:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"},note:{padding:"var(--space-lg)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderTop:"1px solid rgba(59, 130, 246, 0.3)",borderBottomLeftRadius:"var(--radius-lg)",borderBottomRightRadius:"var(--radius-lg)"},noteText:{margin:0,color:"#93c5fd",fontSize:"0.9rem",lineHeight:1.5}},sO=()=>{const{user:r,logout:e}=ha(),{rooms:n,loading:s,error:o,fetchActiveRooms:u}=_f(),f=wo(),[m,p]=k.useState(n),[g,E]=k.useState(!1),[T,R]=k.useState(!1),[L,H]=k.useState("");k.useEffect(()=>{if(!r)return;console.log("Setting up dashboard room listeners");const W=tO(re=>{console.log("Dashboard rooms updated:",re.length,"rooms"),re.forEach(oe=>{console.log(`Room ${oe.id}: ${oe.currentParticipants}/${oe.maxParticipants}`)}),p(re)});return()=>{console.log("Cleaning up dashboard listeners"),W()}},[r]),k.useEffect(()=>{p(n)},[n]);const G=async()=>{try{await e(),f("/")}catch(W){console.error("Logout failed:",W)}},q=async W=>{R(!0),H("");try{const re=m.find(oe=>oe.id===W);if(!re){H("Room not found");return}if(re.currentParticipants>=re.maxParticipants){H("This room is now full");return}if(!re.isActive||re.status==="ended"){H("This room is no longer active");return}f(`/room/${W}`)}catch(re){console.error("Error joining room:",re),H("Failed to join room. Please try again.")}finally{R(!1)}},J=W=>{if(!W)return"Just now";let re;if(W.toDate)re=W.toDate();else if(W instanceof Date)re=W;else if(W.seconds)re=new Date(W.seconds*1e3);else return"Just now";const fe=new Date-re,N=Math.floor(fe/6e4);if(N<1)return"Just now";if(N<60)return`${N}m ago`;const S=Math.floor(N/60);return S<24?`${S}h ago`:`${Math.floor(S/24)}d ago`},X=W=>W.currentParticipants>=W.maxParticipants;return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"dashboard-page",children:[C.jsx("nav",{className:"dashboard-nav",children:C.jsxs("div",{className:"container nav-container",children:[C.jsxs("div",{className:"nav-left",children:[C.jsx("div",{className:"nav-logo"}),C.jsx("h1",{className:"nav-title",children:"Labyrinth"})]}),C.jsxs("div",{className:"nav-right",children:[C.jsxs("div",{className:"user-info",children:[r?.photoURL&&C.jsx("img",{src:r.photoURL,alt:r.displayName,className:"user-avatar"}),C.jsx("span",{className:"user-name",children:r?.displayName})]}),C.jsx("button",{onClick:G,className:"logout-btn",children:"Logout"})]})]})}),C.jsx("main",{className:"dashboard-main",children:C.jsx("div",{className:"container",children:C.jsxs("div",{className:"dashboard-content",children:[C.jsxs("div",{className:"dashboard-header",children:[C.jsx("h2",{className:"dashboard-title",children:"Labyrinth Dashboard"}),C.jsx("p",{className:"dashboard-subtitle",children:"Create or join video chat rooms. Host meetings, collaborate, and connect."})]}),C.jsxs("div",{style:Ce.quickActions,children:[C.jsxs("div",{style:Ce.actionCard,children:[C.jsx("div",{style:Ce.actionIcon,children:""}),C.jsx("h3",{style:Ce.actionTitle,children:"Create Room"}),C.jsx("p",{style:Ce.actionDescription,children:"Start a new video chat room. Set participant limits and invite others."}),C.jsx("button",{onClick:()=>E(!0),style:Ce.actionButton,children:"Create New Room"})]}),C.jsxs("div",{style:Ce.actionCard,children:[C.jsx("div",{style:Ce.actionIcon,children:""}),C.jsx("h3",{style:Ce.actionTitle,children:"Active Rooms"}),C.jsx("p",{style:Ce.actionDescription,children:m.length===0?"No active rooms. Be the first to create one!":`${m.length} room${m.length!==1?"s":""} available`}),C.jsx("button",{onClick:u,style:Ce.refreshButton,disabled:s,children:s?"Refreshing...":" Refresh List"})]})]}),C.jsxs("div",{style:Ce.roomsSection,children:[C.jsxs("div",{style:Ce.sectionHeader,children:[C.jsxs("h3",{style:Ce.sectionTitle,children:["Available Rooms ",m.length>0&&`(${m.length})`]}),L&&C.jsxs("div",{style:Ce.joinErrorBanner,children:[L,C.jsx("button",{onClick:()=>H(""),style:Ce.dismissError,children:""})]})]}),o&&C.jsxs("div",{style:Ce.errorMessage,children:["Error: ",o,C.jsx("button",{onClick:u,style:Ce.retryButton,children:"Retry"})]}),s&&m.length===0?C.jsxs("div",{style:Ce.loading,children:[C.jsx("div",{style:Ce.spinner}),C.jsx("p",{children:"Loading rooms..."})]}):m.length===0?C.jsxs("div",{style:Ce.emptyState,children:[C.jsx("div",{style:Ce.emptyIcon,children:""}),C.jsx("h4",{style:Ce.emptyTitle,children:"No Active Rooms"}),C.jsx("p",{style:Ce.emptyText,children:'Be the first to create a room! Click "Create New Room" above.'})]}):C.jsx("div",{style:Ce.roomsGrid,children:m.map(W=>{const re=X(W);return C.jsxs("div",{style:{...Ce.roomCard,...re?Ce.roomCardFull:{},...T?Ce.roomCardDisabled:{}},children:[C.jsxs("div",{style:Ce.roomHeader,children:[C.jsxs("div",{style:Ce.roomHost,children:[W.hostPhotoURL?C.jsx("img",{src:W.hostPhotoURL,alt:W.hostName,style:Ce.hostAvatar}):C.jsx("div",{style:Ce.defaultAvatar,children:W.hostName.charAt(0)}),C.jsx("span",{style:Ce.hostName,children:W.hostName})]}),C.jsxs("div",{style:Ce.roomCode,children:["#",W.roomCode]})]}),C.jsx("h4",{style:Ce.roomName,children:W.name}),C.jsxs("div",{style:Ce.roomDetails,children:[C.jsxs("div",{style:Ce.participantInfo,children:[C.jsxs("span",{style:{...Ce.participantCount,...re?Ce.participantCountFull:{}},children:[W.currentParticipants,"/",W.maxParticipants]}),C.jsx("span",{style:Ce.participantLabel,children:re?"FULL":"participants"})]}),C.jsx("div",{style:Ce.roomTime,children:J(W.createdAt)})]}),re?C.jsx("div",{style:Ce.fullRoomBadge,children:C.jsx("span",{style:Ce.fullRoomText,children:"Room Full"})}):C.jsx("button",{style:Ce.joinRoomButton,onClick:()=>q(W.id),disabled:T,children:T?"Joining...":"Join Room"})]},W.id)})})]})]})})})]}),C.jsx(rO,{isOpen:g,onClose:()=>E(!1)})]})},Ce={quickActions:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"var(--space-lg)",marginBottom:"var(--space-xl)"},actionCard:{backgroundColor:"var(--bg-card-light)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-lg)",padding:"var(--space-lg)",transition:"all 0.3s ease"},actionIcon:{fontSize:"2.5rem",marginBottom:"var(--space-md)"},actionTitle:{fontSize:"1.3rem",fontWeight:"600",marginBottom:"var(--space-sm)",color:"var(--text-light)"},actionDescription:{color:"var(--text-gray)",marginBottom:"var(--space-md)",lineHeight:1.5},actionButton:{width:"100%",padding:"var(--space-md)",background:"linear-gradient(135deg, var(--primary-purple), var(--primary-indigo))",border:"none",borderRadius:"var(--radius-md)",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},refreshButton:{width:"100%",padding:"var(--space-md)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},roomsSection:{marginTop:"var(--space-xl)"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},sectionTitle:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-light)",margin:0},joinErrorBanner:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"8px 16px",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"10px"},dismissError:{background:"none",border:"none",color:"#f87171",fontSize:"1.2rem",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},errorMessage:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"var(--space-md)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-md)"},retryButton:{marginLeft:"10px",padding:"4px 12px",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"4px",color:"#93c5fd",cursor:"pointer",fontSize:"0.9rem"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"var(--space-xl)",color:"var(--text-gray)"},spinner:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"var(--space-md)"},emptyState:{textAlign:"center",padding:"var(--space-xl)",color:"var(--text-gray)"},emptyIcon:{fontSize:"4rem",marginBottom:"var(--space-md)",opacity:.5},emptyTitle:{fontSize:"1.5rem",marginBottom:"var(--space-sm)",color:"var(--text-light)"},emptyText:{fontSize:"1rem",lineHeight:1.5},roomsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-md)"},roomCard:{backgroundColor:"var(--bg-card-light)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-lg)",padding:"var(--space-lg)",transition:"all 0.3s ease"},roomCardFull:{borderColor:"rgba(239, 68, 68, 0.3)",backgroundColor:"rgba(30, 41, 59, 0.5)"},roomCardDisabled:{pointerEvents:"none",opacity:.5},roomHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-md)"},roomHost:{display:"flex",alignItems:"center",gap:"var(--space-sm)"},hostAvatar:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid var(--border-light)"},defaultAvatar:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--primary-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.9rem"},hostName:{fontSize:"0.9rem",color:"var(--text-light)",fontWeight:"500"},roomCode:{backgroundColor:"rgba(124, 58, 237, 0.2)",color:"#a78bfa",padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",fontSize:"0.8rem",fontWeight:"600",fontFamily:"monospace"},roomName:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-light)",marginBottom:"var(--space-md)"},roomDetails:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},participantInfo:{display:"flex",alignItems:"baseline",gap:"var(--space-xs)"},participantCount:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-light)"},participantCountFull:{color:"#f87171"},participantLabel:{fontSize:"0.9rem",color:"var(--text-gray)"},roomTime:{fontSize:"0.9rem",color:"var(--text-gray)"},fullRoomBadge:{width:"100%",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"var(--radius-md)",textAlign:"center"},fullRoomText:{color:"#f87171",fontWeight:"600",fontSize:"0.9rem"},joinRoomButton:{width:"100%",padding:"var(--space-sm)",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"var(--radius-md)",color:"#93c5fd",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"}},aO=()=>{const{user:r}=ha(),{currentRoom:e}=_f(),{peers:n,connectionStatus:s,activeConnections:o}=TS(),[u,f]=k.useState(null),[m,p]=k.useState(!1),g=async()=>{p(!0),f(null),console.log("=== CONNECTION DEBUG ===");const E={timestamp:new Date().toISOString(),user:{id:r?.uid,name:r?.displayName},room:{id:e?.id,name:e?.name},peers:Object.keys(n).length,connectionStatus:s,activeConnections:o};if(console.log("Basic Info:",E),e?.id&&r?.uid)try{const T=hn(st,"rooms",e.id,"signaling",r.uid,"offers"),R=await Au(T);E.offersCount=R.docs.length,E.offers=R.docs.map(L=>({id:L.id,from:L.data().from,timestamp:L.data().timestamp})),console.log("Offers found:",E.offersCount),console.log("Offers details:",E.offers)}catch(T){console.error("Error checking offers:",T),E.offersError=T.message}f(E),p(!1)};return C.jsxs("div",{style:{background:"rgba(0,0,0,0.9)",color:"white",padding:"15px",borderRadius:"8px",marginTop:"15px",fontSize:"12px",maxWidth:"400px"},children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[C.jsx("strong",{style:{fontSize:"14px"},children:" Connection Debug"}),C.jsx("button",{onClick:g,disabled:m,style:{padding:"5px 10px",background:m?"#6b7280":"#8b5cf6",color:"white",border:"none",borderRadius:"4px",cursor:m?"not-allowed":"pointer",fontSize:"11px"},children:m?"Checking...":"Run Test"})]}),C.jsxs("div",{style:{marginBottom:"8px"},children:[C.jsx("span",{style:{color:"#93c5fd"},children:"Status:"})," ",s]}),C.jsxs("div",{style:{marginBottom:"8px"},children:[C.jsx("span",{style:{color:"#93c5fd"},children:"Active Peers:"})," ",o]}),C.jsxs("div",{style:{marginBottom:"8px"},children:[C.jsx("span",{style:{color:"#93c5fd"},children:"Room ID:"})," ",e?.id?.substring(0,10),"..."]}),C.jsxs("div",{style:{marginBottom:"8px"},children:[C.jsx("span",{style:{color:"#93c5fd"},children:"User ID:"})," ",r?.uid?.substring(0,10),"..."]}),u&&C.jsxs("div",{style:{marginTop:"10px",padding:"10px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",fontSize:"11px"},children:[C.jsx("div",{style:{marginBottom:"5px"},children:C.jsx("strong",{children:" Debug Results:"})}),C.jsxs("div",{style:{marginBottom:"3px"},children:[C.jsx("span",{style:{color:"#86efac"},children:"Offers in my collection:"})," ",u.offersCount||0]}),u.offers&&u.offers.length>0&&C.jsxs("div",{style:{marginTop:"5px"},children:[C.jsx("div",{style:{color:"#fbbf24",marginBottom:"3px"},children:" Offers found:"}),u.offers.map((E,T)=>C.jsxs("div",{style:{marginLeft:"10px",marginBottom:"2px"},children:["From: ",E.from?.substring(0,10),"..."]},T))]}),u.offersError&&C.jsxs("div",{style:{color:"#f87171",marginTop:"5px"},children:["Error: ",u.offersError]}),C.jsxs("div",{style:{marginTop:"5px",fontSize:"10px",opacity:.7},children:["Last checked: ",new Date(u.timestamp).toLocaleTimeString()]})]}),C.jsxs("div",{style:{marginTop:"10px",fontSize:"10px",opacity:.7},children:[C.jsx("div",{children:"User A (Chad): iMKGFzfEF1esEzNogBHreM89MzH2"}),C.jsx("div",{children:"User B (Gautam): GuUKvuO8E0goWwF89MK46MLiImt1"})]})]})},oO=()=>{const{localStream:r,isMicOn:e}=vf(),n=k.useRef(null),s=k.useRef(null),o=k.useRef(null),u=k.useRef(null),f=k.useRef(null),[m,p]=k.useState(!1),[g,E]=k.useState(0);k.useEffect(()=>{if(!r||!e){s.current&&(cancelAnimationFrame(s.current),s.current=null),o.current&&o.current.state!=="closed"&&o.current.close(),p(!1),E(0);return}const G=r.getAudioTracks()[0];if(!G||!G.enabled){p(!1),E(0);return}return(async()=>{try{const J=window.AudioContext||window.webkitAudioContext;o.current||(o.current=new J),u.current=o.current.createAnalyser(),u.current.fftSize=256,u.current.minDecibels=-90,u.current.maxDecibels=-10,u.current.smoothingTimeConstant=.85,f.current=o.current.createMediaStreamSource(r),f.current.connect(u.current),p(!0),T()}catch(J){console.error("Error setting up audio visualizer:",J),p(!1)}})(),()=>{s.current&&cancelAnimationFrame(s.current),f.current&&f.current.disconnect(),u.current&&u.current.disconnect()}},[r,e]);const T=()=>{if(!n.current||!u.current)return;const G=n.current,q=G.getContext("2d"),J=u.current.frequencyBinCount,X=new Uint8Array(J),W=()=>{s.current=requestAnimationFrame(W),u.current.getByteFrequencyData(X);let re=0;for(let x=0;x<X.length;x++)re+=X[x];const oe=re/X.length;E(oe),q.clearRect(0,0,G.width,G.height),q.fillStyle="rgba(0, 0, 0, 0.3)",q.fillRect(0,0,G.width,G.height);const fe=G.width/J*2.5;let N,S=0;for(let x=0;x<J;x++){N=X[x]/2;const w=q.createLinearGradient(0,G.height,0,G.height-N);N<30?(w.addColorStop(0,"#10b981"),w.addColorStop(1,"#34d399")):N<60?(w.addColorStop(0,"#f59e0b"),w.addColorStop(1,"#fbbf24")):(w.addColorStop(0,"#ef4444"),w.addColorStop(1,"#f87171")),q.fillStyle=w,q.fillRect(S,G.height-N,fe,N),S+=fe+1}};W()},R=Math.min(Math.round(g/128*100),100);let L="low",H="#10b981";return R>30&&(L="medium",H="#f59e0b"),R>60&&(L="high",H="#ef4444"),C.jsxs("div",{style:Mt.container,children:[C.jsxs("div",{style:Mt.header,children:[C.jsxs("div",{style:Mt.title,children:[C.jsx("span",{style:Mt.icon,children:""}),"Microphone Activity"]}),C.jsxs("div",{style:Mt.status,children:[C.jsx("div",{style:{...Mt.statusDot,backgroundColor:e?"#10b981":"#ef4444"}}),C.jsx("span",{children:e?"Active":"Muted"})]})]}),C.jsxs("div",{style:Mt.visualizerContainer,children:[C.jsx("canvas",{ref:n,width:300,height:80,style:Mt.canvas}),C.jsxs("div",{style:Mt.volumeInfo,children:[C.jsx("div",{style:Mt.volumeBarContainer,children:C.jsx("div",{style:{...Mt.volumeBar,width:`${R}%`,backgroundColor:H}})}),C.jsxs("div",{style:Mt.volumeText,children:[C.jsx("span",{style:{color:H,fontWeight:"600"},children:L.toUpperCase()}),C.jsxs("span",{children:[R,"%"]})]})]})]}),C.jsx("div",{style:Mt.instructions,children:!m&&e?C.jsxs("div",{style:Mt.warning,children:[C.jsx("span",{style:Mt.warningIcon,children:""}),'Speak to see audio activity. Try saying "Testing, 1, 2, 3"']}):e?C.jsxs("div",{style:Mt.active,children:[C.jsx("span",{style:Mt.activeIcon,children:""}),"Microphone is working! Volume: ",L]}):C.jsxs("div",{style:Mt.muted,children:[C.jsx("span",{style:Mt.mutedIcon,children:""}),"Microphone is muted"]})}),C.jsx("button",{onClick:()=>{if(e&&o.current){const G=o.current.createOscillator(),q=o.current.createGain();G.connect(q),q.connect(o.current.destination),G.frequency.value=440,G.type="sine",q.gain.setValueAtTime(0,o.current.currentTime),q.gain.linearRampToValueAtTime(.1,o.current.currentTime+.1),q.gain.linearRampToValueAtTime(0,o.current.currentTime+.5),G.start(o.current.currentTime),G.stop(o.current.currentTime+.5)}},style:Mt.testButton,disabled:!e,children:" Test Sound"})]})},Mt={container:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--radius-lg)",padding:"15px",border:"1px solid var(--border-light)",marginTop:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},title:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",color:"var(--text-light)",fontSize:"1rem"},icon:{fontSize:"1.2rem"},status:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",color:"var(--text-gray)"},statusDot:{width:"8px",height:"8px",borderRadius:"50%"},visualizerContainer:{position:"relative",marginBottom:"15px"},canvas:{width:"100%",height:"80px",borderRadius:"var(--radius-md)",backgroundColor:"rgba(0, 0, 0, 0.5)"},volumeInfo:{marginTop:"10px"},volumeBarContainer:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden",marginBottom:"5px"},volumeBar:{height:"100%",borderRadius:"3px",transition:"width 0.2s ease"},volumeText:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-gray)"},instructions:{fontSize:"0.85rem",textAlign:"center",marginBottom:"15px",padding:"10px",borderRadius:"var(--radius-md)"},warning:{color:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},warningIcon:{fontSize:"1rem"},muted:{color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},mutedIcon:{fontSize:"1rem"},active:{color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},activeIcon:{fontSize:"1rem"},testButton:{width:"100%",padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"var(--radius-md)",color:"#93c5fd",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}},lO=()=>{const{localStream:r,isCameraOn:e,isMicOn:n,isLoading:s,error:o,initializeMedia:u}=vf(),f=k.useRef(null);return k.useEffect(()=>{f.current&&r&&(f.current.srcObject=r)},[r]),k.useEffect(()=>{(async()=>r||await u())()},[]),s?C.jsxs("div",{style:yt.loadingContainer,children:[C.jsx("div",{style:yt.spinner}),C.jsx("p",{children:"Loading camera and microphone..."})]}):o?C.jsxs("div",{style:yt.errorContainer,children:[C.jsx("div",{style:yt.errorIcon,children:""}),C.jsx("h4",{children:"Camera/Microphone Error"}),C.jsx("p",{style:yt.errorText,children:o}),C.jsx("button",{onClick:u,style:yt.retryButton,children:"Try Again"})]}):C.jsxs("div",{style:yt.container,children:[C.jsxs("div",{style:yt.videoWrapper,children:[e?C.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,style:yt.video}):C.jsxs("div",{style:yt.cameraOffPlaceholder,children:[C.jsx("div",{style:yt.cameraOffIcon,children:""}),C.jsx("p",{children:"Camera is off"})]}),C.jsx("div",{style:yt.statusOverlay,children:C.jsxs("div",{style:yt.statusIcons,children:[C.jsxs("div",{style:{...yt.statusIcon,...e?yt.statusOn:yt.statusOff},children:[e?"":"",C.jsx("span",{style:yt.statusText,children:e?"Camera On":"Camera Off"})]}),C.jsxs("div",{style:{...yt.statusIcon,...n?yt.statusOn:yt.statusOff},children:[n?"":"",C.jsx("span",{style:yt.statusText,children:n?"Mic On":"Mic Muted"})]})]})}),C.jsx("div",{style:yt.nameLabel,children:"You (Preview)"})]}),C.jsx(oO,{})]})},yt={container:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column",gap:"15px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-gray)"},spinner:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"15px"},errorContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",padding:"20px",color:"var(--text-light)"},errorIcon:{fontSize:"3rem",marginBottom:"15px",opacity:.7},errorText:{color:"var(--text-gray)",marginBottom:"20px",fontSize:"0.9rem"},retryButton:{padding:"10px 20px",backgroundColor:"var(--primary-purple)",border:"none",borderRadius:"var(--radius-md)",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},videoWrapper:{position:"relative",width:"100%",flex:1,backgroundColor:"#000",borderRadius:"var(--radius-lg)",overflow:"hidden",minHeight:"300px"},video:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)",backgroundColor:"#000"},cameraOffPlaceholder:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-card)",color:"var(--text-gray)"},cameraOffIcon:{fontSize:"4rem",marginBottom:"15px",opacity:.5},statusOverlay:{position:"absolute",top:"15px",left:"15px",right:"15px",zIndex:10},statusIcons:{display:"flex",gap:"10px",flexWrap:"wrap"},statusIcon:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"500",backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white"},statusOn:{backgroundColor:"rgba(34, 197, 94, 0.7)"},statusOff:{backgroundColor:"rgba(239, 68, 68, 0.7)"},statusText:{fontSize:"0.8rem"},nameLabel:{position:"absolute",bottom:"15px",left:"15px",padding:"6px 12px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",borderRadius:"var(--radius-md)",fontSize:"0.9rem",fontWeight:"500"}},uO=()=>{const{roomId:r}=GA(),e=wo(),{user:n}=ha(),[s,o]=k.useState(null),[u,f]=k.useState([]),[m,p]=k.useState(!0),[g,E]=k.useState(""),[T,R]=k.useState(!1),{peers:L,connectionStatus:H,activeConnections:G}=TS(),{localStream:q,isCameraOn:J,isMicOn:X,toggleCamera:W,toggleMicrophone:re,isLoading:oe,error:fe}=vf();k.useEffect(()=>{R(!1)},[r]),k.useEffect(()=>{if(!r||!n)return;console.log("Setting up real-time listeners for room:",r);const w=ZN(r,M=>{console.log("Room real-time update:",M),M?o(M):E("Room was deleted")}),I=eO(r,M=>{console.log("Participants real-time update:",M),f(M)});return()=>{console.log("Cleaning up real-time listeners"),w(),I()}},[r,n]),k.useEffect(()=>{if(!n){e("/");return}N()},[r,n,e]);const N=async()=>{p(!0),E("");try{console.log("=== LOAD ROOM START ==="),console.log("User:",n?.uid),console.log("Room ID:",r);const w=await Eh(r),I=await zm(r);if(console.log("Room data:",w),console.log("Participants:",I),console.log("Participant IDs:",I.map(ye=>ye.id)),!w){E("Room not found"),p(!1);return}if(!w.isActive||w.status==="ended"){E("Room is no longer active"),p(!1);return}const M=I.some(ye=>ye.id===n.uid);console.log("Is user in room?",M);const D=w.currentParticipants>=w.maxParticipants;if(console.log("Is room full?",D,`(${w.currentParticipants}/${w.maxParticipants})`),o(w),f(I),M){console.log("User already in room, loading complete"),p(!1);return}if(D){console.log("Room is full and user not in it"),E("Room is full. Cannot join."),p(!1);return}console.log("Attempting to join room...");try{const ye=await WN(r,n);console.log("Join result:",ye);const Oe=await Eh(r),Y=await zm(r);console.log("After join - Room:",Oe),console.log("After join - Participants:",Y),o(Oe),f(Y);const se=Y.some(ge=>ge.id===n.uid);console.log("User now in room?",se),se||E("Failed to join room. Please try again.")}catch(ye){console.error("Join error:",ye);const Oe=await zm(r);if(Oe.some(se=>se.id===n.uid))console.log("Race condition - user is actually in room"),f(Oe);else if(ye.message.includes("full")||ye.message.includes("permission")){const se=await Eh(r),ge=se.currentParticipants>=se.maxParticipants;E(ge?"Room is full. Cannot join.":"Permission denied. Please try again.")}else E(`Failed to join: ${ye.message}`)}}catch(w){console.error("Error in loadRoom:",w),E(`Failed to load room: ${w.message}`)}finally{p(!1),console.log("=== LOAD ROOM END ===")}};k.useEffect(()=>{s&&u&&console.log("Room updated - current state:",{roomId:s.id,participantCount:s.currentParticipants,maxParticipants:s.maxParticipants,actualParticipants:u.length})},[s,u]);const S=()=>{e("/dashboard")},x=()=>{s?.roomCode&&(navigator.clipboard.writeText(s.roomCode),alert(`Room code ${s.roomCode} copied to clipboard!`))};return m?C.jsxs("div",{style:le.loadingContainer,children:[C.jsx("div",{style:le.spinner}),C.jsx("p",{style:le.loadingText,children:"Loading room..."})]}):g?C.jsxs("div",{style:le.errorContainer,children:[C.jsx("div",{style:le.errorIcon,children:""}),C.jsx("h2",{style:le.errorTitle,children:"Room Unavailable"}),C.jsx("p",{style:le.errorMessage,children:g}),C.jsx("button",{onClick:()=>e("/dashboard"),style:le.backButton,children:"Back to Dashboard"})]}):s?g&&g.includes("Room is full")?C.jsx("div",{style:le.fullRoomContainer,children:C.jsxs("div",{style:le.fullRoomContent,children:[C.jsx("div",{style:le.fullRoomIcon,children:""}),C.jsx("h2",{style:le.fullRoomTitle,children:"Room Full"}),C.jsxs("p",{style:le.fullRoomMessage,children:["This room has reached its maximum capacity of ",s?.maxParticipants," participants."]}),C.jsxs("div",{style:le.fullRoomDetails,children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Room:"})," ",s?.name]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Host:"})," ",s?.hostName]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Current Participants:"})," ",s?.currentParticipants,"/",s?.maxParticipants]})]}),C.jsxs("div",{style:le.fullRoomActions,children:[C.jsx("button",{onClick:()=>e("/dashboard"),style:le.fullRoomButton,children:"Back to Dashboard"}),C.jsx("button",{onClick:()=>window.location.reload(),style:le.fullRoomButtonSecondary,children:"Try Again"})]})]})}):C.jsxs("div",{style:le.container,children:[C.jsxs("header",{style:le.header,children:[C.jsxs("div",{style:le.headerLeft,children:[C.jsx("button",{onClick:()=>e("/dashboard"),style:le.backButton,children:" Back"}),C.jsxs("div",{style:le.roomInfo,children:[C.jsx("h1",{style:le.roomName,children:s.name}),C.jsxs("div",{style:le.roomMeta,children:[C.jsxs("span",{style:le.roomCode,onClick:x,title:"Click to copy",children:["#",s.roomCode]}),C.jsxs("span",{style:le.participantCount,children:[s.currentParticipants,"/",s.maxParticipants," participants"]}),C.jsx("span",{style:le.roomStatus,"data-status":s.status,children:s.status})]})]})]}),C.jsx("div",{style:le.headerRight,children:C.jsx("button",{onClick:S,style:le.leaveButton,children:"Leave Room"})})]}),C.jsxs("main",{style:le.main,children:[C.jsxs("div",{style:le.videoSection,children:[C.jsx("div",{style:le.videoContainer,children:C.jsx(lO,{})}),Object.entries(L).map(([w,I])=>C.jsx("div",{style:le.videoContainer,children:C.jsx(RemoteVideo,{stream:I.stream,userData:I.userData,connectionState:I.connectionState})},w)),C.jsxs("div",{style:le.connectionStatus,children:[C.jsx("div",{style:{...le.statusIndicator,backgroundColor:H==="connected"?"#10b981":H==="connecting"?"#f59e0b":"#ef4444"},children:H.toUpperCase()}),C.jsxs("div",{style:le.statusText,children:[G," connection",G!==1?"s":""," active"]})]})]}),C.jsxs("aside",{style:le.sidebar,children:[C.jsxs("div",{style:le.sidebarHeader,children:[C.jsx("h3",{style:le.sidebarTitle,children:"Participants"}),C.jsx("span",{style:le.participantBadge,children:u.length})]}),C.jsx("div",{style:le.participantsList,children:u.map(w=>C.jsxs("div",{style:{...le.participantItem,...w.isHost?le.hostItem:{}},children:[C.jsxs("div",{style:le.participantAvatar,children:[w.photoURL?C.jsx("img",{src:w.photoURL,alt:w.name,style:le.avatarImage}):C.jsx("div",{style:le.defaultAvatar,children:w.name.charAt(0)}),w.isHost&&C.jsx("div",{style:le.hostBadge,title:"Host",children:""})]}),C.jsxs("div",{style:le.participantInfo,children:[C.jsxs("div",{style:le.participantName,children:[w.name,w.id===n?.uid&&C.jsx("span",{style:le.youBadge,children:" (You)"})]}),C.jsxs("div",{style:le.participantStatus,children:[C.jsx("span",{style:le.statusDot}),w.isActive?"Online":"Offline"]})]}),s.hostId===n?.uid&&!w.isHost&&C.jsx("button",{style:le.kickButton,title:"Kick participant",onClick:()=>alert(`Kick ${w.name} - Coming soon`),children:""})]},w.id))}),C.jsxs("div",{style:le.controlsSection,children:[C.jsx("h4",{style:le.controlsTitle,children:"Room Controls"}),C.jsxs("div",{style:le.controlsGrid,children:[C.jsx("button",{style:{...le.controlButton,...X?le.controlButtonActive:le.controlButtonInactive},onClick:re,disabled:oe,children:X?" Mic On":" Mic Muted"}),C.jsx("button",{style:{...le.controlButton,...J?le.controlButtonActive:le.controlButtonInactive},onClick:W,disabled:oe,children:J?" Camera On":" Camera Off"}),C.jsx("button",{style:le.controlButton,onClick:x,children:" Invite"}),s.hostId===n?.uid&&C.jsx("button",{style:le.controlButtonDanger,onClick:()=>alert("End Room - Coming soon"),children:" End Room"})]}),fe&&C.jsxs("div",{style:le.mediaError,children:[" ",fe]})]})]})]}),C.jsx(aO,{}),C.jsxs("div",{style:le.statusContainer,children:[C.jsx("div",{style:{...le.statusIndicator,backgroundColor:s?.currentParticipants>=s?.maxParticipants?"#ef4444":"#10b981"},children:s?.currentParticipants>=s?.maxParticipants?"FULL":"AVAILABLE"}),C.jsxs("div",{style:le.statusText,children:[s?.currentParticipants,"/",s?.maxParticipants," participants",s?.currentParticipants>=s?.maxParticipants&&" (Room is full)"]})]}),C.jsx("footer",{style:le.footer,children:C.jsxs("div",{style:le.footerContent,children:[C.jsxs("div",{style:le.footerInfo,children:[C.jsxs("span",{children:["Room created by ",s.hostName]}),C.jsx("span",{style:le.footerSeparator,children:""}),C.jsx("span",{children:"Host controls enabled"})]}),C.jsxs("div",{style:le.footerActions,children:[C.jsx("button",{style:le.footerButton,onClick:x,children:"Copy Invite Code"}),C.jsx("button",{style:le.footerButton,onClick:()=>alert("Settings - Coming soon"),children:"Settings"})]})]})})]}):C.jsxs("div",{style:le.errorContainer,children:[C.jsx("h2",{style:le.errorTitle,children:"Room Not Found"}),C.jsx("button",{onClick:()=>e("/dashboard"),style:le.backButton,children:"Back to Dashboard"})]})},le={container:{minHeight:"100vh",backgroundColor:"var(--bg-dark)",color:"var(--text-light)",display:"flex",flexDirection:"column"},loadingContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-dark)"},spinner:{width:"50px",height:"50px",border:"4px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},loadingText:{color:"var(--text-gray)",fontSize:"1.1rem"},errorContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-dark)",textAlign:"center",padding:"20px"},errorIcon:{fontSize:"4rem",marginBottom:"20px"},errorTitle:{fontSize:"2rem",marginBottom:"10px",color:"var(--text-light)"},errorMessage:{color:"var(--text-gray)",marginBottom:"30px",fontSize:"1.1rem",maxWidth:"400px"},header:{backgroundColor:"var(--bg-card)",borderBottom:"1px solid var(--border-light)",padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},headerLeft:{display:"flex",alignItems:"center",gap:"20px"},backButton:{padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},roomInfo:{display:"flex",flexDirection:"column",gap:"5px"},roomName:{fontSize:"1.5rem",fontWeight:"600",margin:0,color:"var(--text-light)"},roomMeta:{display:"flex",alignItems:"center",gap:"15px",fontSize:"0.9rem",color:"var(--text-gray)"},roomCode:{backgroundColor:"rgba(124, 58, 237, 0.2)",color:"#a78bfa",padding:"4px 8px",borderRadius:"4px",fontFamily:"monospace",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},participantCount:{padding:"4px 8px",backgroundColor:"rgba(59, 130, 246, 0.2)",borderRadius:"4px"},roomStatus:{padding:"4px 8px",borderRadius:"4px",fontWeight:"500",textTransform:"capitalize"},headerRight:{display:"flex",alignItems:"center",gap:"10px"},leaveButton:{padding:"10px 20px",backgroundColor:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"var(--radius-md)",color:"#f87171",cursor:"pointer",fontWeight:"500",transition:"all 0.2s ease"},main:{flex:1,display:"flex",padding:"20px",gap:"20px",overflow:"hidden"},videoSection:{flex:3,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px",backgroundColor:"var(--bg-card-light)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-light)",padding:"15px",minHeight:"500px",overflowY:"auto"},sidebar:{flex:1,backgroundColor:"var(--bg-card-light)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-light)",padding:"20px",minWidth:"300px",maxHeight:"600px",overflowY:"auto"},sidebarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border-light)"},sidebarTitle:{fontSize:"1.2rem",fontWeight:"600",margin:0,color:"var(--text-light)"},participantBadge:{backgroundColor:"var(--primary-purple)",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"600"},participantsList:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"30px"},participantItem:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--radius-md)",transition:"all 0.2s ease"},hostItem:{backgroundColor:"rgba(124, 58, 237, 0.1)",borderLeft:"3px solid var(--primary-purple)"},participantAvatar:{position:"relative",width:"40px",height:"40px"},avatarImage:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"},defaultAvatar:{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"var(--primary-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"1.2rem"},hostBadge:{position:"absolute",bottom:"-5px",right:"-5px",backgroundColor:"var(--primary-purple)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},participantInfo:{flex:1,minWidth:0},participantName:{fontWeight:"500",color:"var(--text-light)",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},youBadge:{color:"var(--accent-blue)",fontSize:"0.9rem"},participantStatus:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.8rem",color:"var(--text-gray)"},statusDot:{width:"8px",height:"8px",backgroundColor:"#10b981",borderRadius:"50%"},kickButton:{width:"28px",height:"28px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"50%",color:"#f87171",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",transition:"all 0.2s ease"},controlsSection:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid var(--border-light)"},controlsTitle:{fontSize:"1rem",fontWeight:"600",marginBottom:"15px",color:"var(--text-light)"},controlsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},controlButton:{padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},controlButtonDanger:{gridColumn:"1 / -1",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"var(--radius-md)",color:"#f87171",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},footer:{backgroundColor:"var(--bg-card)",borderTop:"1px solid var(--border-light)",padding:"15px 20px"},footerContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},footerInfo:{display:"flex",alignItems:"center",gap:"10px",color:"var(--text-gray)",fontSize:"0.9rem"},footerSeparator:{opacity:.5},footerActions:{display:"flex",gap:"10px"},footerButton:{padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},statusContainer:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},statusIndicator:{padding:"4px 8px",borderRadius:"12px",color:"white",fontWeight:"600",fontSize:"0.8rem",textTransform:"uppercase"},statusText:{fontSize:"0.8rem",opacity:.9},controlButtonActive:{backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 0.5)",color:"#4ade80"},controlButtonInactive:{backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 0.5)",color:"#f87171"},mediaError:{marginTop:"10px",padding:"8px 12px",backgroundColor:"rgba(245, 158, 11, 0.2)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"var(--radius-md)",color:"#fbbf24",fontSize:"0.8rem"},videoContainer:{position:"relative",backgroundColor:"#000",borderRadius:"var(--radius-md)",overflow:"hidden",aspectRatio:"16/9",minHeight:"250px",border:"2px solid var(--border-light)"},connectionStatus:{position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"8px 12px",borderRadius:"var(--radius-md)",fontSize:"0.9rem",zIndex:100,display:"flex",alignItems:"center",gap:"10px",backdropFilter:"blur(10px)"}};function cO(){return C.jsx(GN,{children:C.jsx(QN,{children:C.jsx(nO,{children:C.jsxs(iO,{children:["  ",C.jsxs(Nw,{children:["  ",C.jsxs(ow,{children:[C.jsx(no,{path:"/",element:C.jsx(jm,{})}),C.jsx(no,{path:"/Labyrinth",element:C.jsx(jm,{})})," ",C.jsx(no,{path:"/dashboard",element:C.jsx(OE,{children:C.jsx(sO,{})})}),C.jsx(no,{path:"/room/:roomId",element:C.jsx(OE,{children:C.jsx(uO,{})})}),C.jsx(no,{path:"*",element:C.jsx(jm,{})})]})]})]})})})})}lA.createRoot(document.getElementById("root")).render(C.jsx(k.StrictMode,{children:C.jsx(cO,{})}));
