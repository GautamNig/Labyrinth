(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function J1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ym={exports:{}},Ll={};var qv;function W1(){if(qv)return Ll;qv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=t,Ll.jsx=n,Ll.jsxs=n,Ll}var Hv;function Z1(){return Hv||(Hv=1,ym.exports=W1()),ym.exports}var I=Z1(),_m={exports:{}},Rt={};var Fv;function tA(){if(Fv)return Rt;Fv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function L(P){return P===null||typeof P!="object"?null:(P=R&&P[R]||P["@@iterator"],typeof P=="function"?P:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,q={};function J(P,nt,ut){this.props=P,this.context=nt,this.refs=q,this.updater=ut||H}J.prototype.isReactComponent={},J.prototype.setState=function(P,nt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,nt,"setState")},J.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=J.prototype;function W(P,nt,ut){this.props=P,this.context=nt,this.refs=q,this.updater=ut||H}var rt=W.prototype=new X;rt.constructor=W,G(rt,J.prototype),rt.isPureReactComponent=!0;var ot=Array.isArray;function ft(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(P,nt,ut){var dt=ut.ref;return{$$typeof:r,type:P,key:nt,ref:dt!==void 0?dt:null,props:ut}}function w(P,nt){return C(P.type,nt,P.props)}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function M(P){var nt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ut){return nt[ut]})}var D=/\/+/g;function wt(P,nt){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):nt.toString(36)}function Ot(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ft,ft):(P.status="pending",P.then(function(nt){P.status==="pending"&&(P.status="fulfilled",P.value=nt)},function(nt){P.status==="pending"&&(P.status="rejected",P.reason=nt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Y(P,nt,ut,dt,St){var Dt=typeof P;(Dt==="undefined"||Dt==="boolean")&&(P=null);var Bt=!1;if(P===null)Bt=!0;else switch(Dt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(P.$$typeof){case r:case t:Bt=!0;break;case E:return Bt=P._init,Y(Bt(P._payload),nt,ut,dt,St)}}if(Bt)return St=St(P),Bt=dt===""?"."+wt(P,0):dt,ot(St)?(ut="",Bt!=null&&(ut=Bt.replace(D,"$&/")+"/"),Y(St,nt,ut,"",function(Es){return Es})):St!=null&&(x(St)&&(St=w(St,ut+(St.key==null||P&&P.key===St.key?"":(""+St.key).replace(D,"$&/")+"/")+Bt)),nt.push(St)),1;Bt=0;var Le=dt===""?".":dt+":";if(ot(P))for(var ue=0;ue<P.length;ue++)dt=P[ue],Dt=Le+wt(dt,ue),Bt+=Y(dt,nt,ut,Dt,St);else if(ue=L(P),typeof ue=="function")for(P=ue.call(P),ue=0;!(dt=P.next()).done;)dt=dt.value,Dt=Le+wt(dt,ue++),Bt+=Y(dt,nt,ut,Dt,St);else if(Dt==="object"){if(typeof P.then=="function")return Y(Ot(P),nt,ut,dt,St);throw nt=String(P),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function st(P,nt,ut){if(P==null)return P;var dt=[],St=0;return Y(P,dt,"","",function(Dt){return nt.call(ut,Dt,St++)}),dt}function gt(P){if(P._status===-1){var nt=P._result;nt=nt(),nt.then(function(ut){(P._status===0||P._status===-1)&&(P._status=1,P._result=ut)},function(ut){(P._status===0||P._status===-1)&&(P._status=2,P._result=ut)}),P._status===-1&&(P._status=0,P._result=nt)}if(P._status===1)return P._result.default;throw P._result}var Ft=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Xt={map:st,forEach:function(P,nt,ut){st(P,function(){nt.apply(this,arguments)},ut)},count:function(P){var nt=0;return st(P,function(){nt++}),nt},toArray:function(P){return st(P,function(nt){return nt})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Rt.Activity=T,Rt.Children=Xt,Rt.Component=J,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=W,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},Rt.cache=function(P){return function(){return P.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(P,nt,ut){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var dt=G({},P.props),St=P.key;if(nt!=null)for(Dt in nt.key!==void 0&&(St=""+nt.key),nt)!S.call(nt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&nt.ref===void 0||(dt[Dt]=nt[Dt]);var Dt=arguments.length-2;if(Dt===1)dt.children=ut;else if(1<Dt){for(var Bt=Array(Dt),Le=0;Le<Dt;Le++)Bt[Le]=arguments[Le+2];dt.children=Bt}return C(P.type,St,dt)},Rt.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Rt.createElement=function(P,nt,ut){var dt,St={},Dt=null;if(nt!=null)for(dt in nt.key!==void 0&&(Dt=""+nt.key),nt)S.call(nt,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(St[dt]=nt[dt]);var Bt=arguments.length-2;if(Bt===1)St.children=ut;else if(1<Bt){for(var Le=Array(Bt),ue=0;ue<Bt;ue++)Le[ue]=arguments[ue+2];St.children=Le}if(P&&P.defaultProps)for(dt in Bt=P.defaultProps,Bt)St[dt]===void 0&&(St[dt]=Bt[dt]);return C(P,Dt,St)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(P){return{$$typeof:m,render:P}},Rt.isValidElement=x,Rt.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:gt}},Rt.memo=function(P,nt){return{$$typeof:y,type:P,compare:nt===void 0?null:nt}},Rt.startTransition=function(P){var nt=N.T,ut={};N.T=ut;try{var dt=P(),St=N.S;St!==null&&St(ut,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(ft,Ft)}catch(Dt){Ft(Dt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),N.T=nt}},Rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Rt.use=function(P){return N.H.use(P)},Rt.useActionState=function(P,nt,ut){return N.H.useActionState(P,nt,ut)},Rt.useCallback=function(P,nt){return N.H.useCallback(P,nt)},Rt.useContext=function(P){return N.H.useContext(P)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(P,nt){return N.H.useDeferredValue(P,nt)},Rt.useEffect=function(P,nt){return N.H.useEffect(P,nt)},Rt.useEffectEvent=function(P){return N.H.useEffectEvent(P)},Rt.useId=function(){return N.H.useId()},Rt.useImperativeHandle=function(P,nt,ut){return N.H.useImperativeHandle(P,nt,ut)},Rt.useInsertionEffect=function(P,nt){return N.H.useInsertionEffect(P,nt)},Rt.useLayoutEffect=function(P,nt){return N.H.useLayoutEffect(P,nt)},Rt.useMemo=function(P,nt){return N.H.useMemo(P,nt)},Rt.useOptimistic=function(P,nt){return N.H.useOptimistic(P,nt)},Rt.useReducer=function(P,nt,ut){return N.H.useReducer(P,nt,ut)},Rt.useRef=function(P){return N.H.useRef(P)},Rt.useState=function(P){return N.H.useState(P)},Rt.useSyncExternalStore=function(P,nt,ut){return N.H.useSyncExternalStore(P,nt,ut)},Rt.useTransition=function(){return N.H.useTransition()},Rt.version="19.2.3",Rt}var Gv;function mp(){return Gv||(Gv=1,_m.exports=tA()),_m.exports}var k=mp();const jm=J1(k);var vm={exports:{}},Ul={},Em={exports:{}},Tm={};var Qv;function eA(){return Qv||(Qv=1,(function(r){function t(Y,st){var gt=Y.length;Y.push(st);t:for(;0<gt;){var Ft=gt-1>>>1,Xt=Y[Ft];if(0<o(Xt,st))Y[Ft]=st,Y[gt]=Xt,gt=Ft;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],gt=Y.pop();if(gt!==st){Y[0]=gt;t:for(var Ft=0,Xt=Y.length,P=Xt>>>1;Ft<P;){var nt=2*(Ft+1)-1,ut=Y[nt],dt=nt+1,St=Y[dt];if(0>o(ut,gt))dt<Xt&&0>o(St,ut)?(Y[Ft]=St,Y[dt]=gt,Ft=dt):(Y[Ft]=ut,Y[nt]=gt,Ft=nt);else if(dt<Xt&&0>o(St,gt))Y[Ft]=St,Y[dt]=gt,Ft=dt;else break t}}return st}function o(Y,st){var gt=Y.sortIndex-st.sortIndex;return gt!==0?gt:Y.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,R=3,L=!1,H=!1,G=!1,q=!1,J=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function rt(Y){for(var st=n(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Y)s(y),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(y)}}function ot(Y){if(G=!1,rt(Y),!H)if(n(p)!==null)H=!0,ft||(ft=!0,M());else{var st=n(y);st!==null&&Ot(ot,st.startTime-Y)}}var ft=!1,N=-1,S=5,C=-1;function w(){return q?!0:!(r.unstable_now()-C<S)}function x(){if(q=!1,ft){var Y=r.unstable_now();C=Y;var st=!0;try{t:{H=!1,G&&(G=!1,X(N),N=-1),L=!0;var gt=R;try{e:{for(rt(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&w());){var Ft=T.callback;if(typeof Ft=="function"){T.callback=null,R=T.priorityLevel;var Xt=Ft(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Xt=="function"){T.callback=Xt,rt(Y),st=!0;break e}T===n(p)&&s(p),rt(Y)}else s(p);T=n(p)}if(T!==null)st=!0;else{var P=n(y);P!==null&&Ot(ot,P.startTime-Y),st=!1}}break t}finally{T=null,R=gt,L=!1}st=void 0}}finally{st?M():ft=!1}}}var M;if(typeof W=="function")M=function(){W(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,wt=D.port2;D.port1.onmessage=x,M=function(){wt.postMessage(null)}}else M=function(){J(x,0)};function Ot(Y,st){N=J(function(){Y(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var st=3;break;default:st=R}var gt=R;R=st;try{return Y()}finally{R=gt}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=R;R=Y;try{return st()}finally{R=gt}},r.unstable_scheduleCallback=function(Y,st,gt){var Ft=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ft+gt:Ft):gt=Ft,Y){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=gt+Xt,Y={id:E++,callback:st,priorityLevel:Y,startTime:gt,expirationTime:Xt,sortIndex:-1},gt>Ft?(Y.sortIndex=gt,t(y,Y),n(p)===null&&Y===n(y)&&(G?(X(N),N=-1):G=!0,Ot(ot,gt-Ft))):(Y.sortIndex=Xt,t(p,Y),H||L||(H=!0,ft||(ft=!0,M()))),Y},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(Y){var st=R;return function(){var gt=R;R=st;try{return Y.apply(this,arguments)}finally{R=gt}}}})(Tm)),Tm}var Yv;function nA(){return Yv||(Yv=1,Em.exports=eA()),Em.exports}var bm={exports:{}},nn={};var Kv;function iA(){if(Kv)return nn;Kv=1;var r=mp();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},nn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var Xv;function rA(){if(Xv)return bm.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bm.exports=iA(),bm.exports}var $v;function sA(){if($v)return Ul;$v=1;var r=nA(),t=mp(),n=rA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case J:return"Profiler";case q:return"StrictMode";case ot:return"Suspense";case ft:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case W:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:wt(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return wt(e(i))}catch{}}return null}var Ot=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ft=[],Xt=-1;function P(e){return{current:e}}function nt(e){0>Xt||(e.current=Ft[Xt],Ft[Xt]=null,Xt--)}function ut(e,i){Xt++,Ft[Xt]=e.current,e.current=i}var dt=P(null),St=P(null),Dt=P(null),Bt=P(null);function Le(e,i){switch(ut(Dt,i),ut(St,e),ut(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?hv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=hv(i),e=fv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(dt),ut(dt,e)}function ue(){nt(dt),nt(St),nt(Dt)}function Es(e){e.memoizedState!==null&&ut(Bt,e);var i=dt.current,a=fv(i,e.type);i!==a&&(ut(St,e),ut(dt,a))}function ha(e){St.current===e&&(nt(dt),nt(St)),Bt.current===e&&(nt(Bt),Ml._currentValue=gt)}var fa,da;function mi(e){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+e+da}var Mo=!1;function Ts(e,i){if(!e||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var F=K}Reflect.construct(e,[],et)}else{try{et.call()}catch(K){F=K}e.call(et.prototype)}}else{try{throw Error()}catch(K){F=K}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),B=b.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===B.length)for(l=O.length-1,h=B.length-1;1<=l&&0<=h&&O[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==B[h]){var $=`
`+O[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mi(a):""}function Vo(e,i){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return e.child!==i&&i!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ts(e.type,!1);case 11:return Ts(e.type.render,!1);case 1:return Ts(e.type,!0);case 31:return mi("Activity");default:return""}}function ko(e){try{var i="",a=null;do i+=Vo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Ue=r.unstable_scheduleCallback,Tr=r.unstable_cancelCallback,vf=r.unstable_shouldYield,Au=r.unstable_requestPaint,ln=r.unstable_now,bs=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,Lo=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,Ef=r.unstable_LowPriority,wu=r.unstable_IdlePriority,Ru=r.log,Cu=r.unstable_setDisableYieldValue,$n=null,Ye=null;function Pn(e){if(typeof Ru=="function"&&Cu(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode($n,e)}catch{}}var ve=Math.clz32?Math.clz32:xu,Iu=Math.log,ma=Math.LN2;function xu(e){return e>>>=0,e===0?32:31-(Iu(e)/ma|0)|0}var pi=256,Ss=262144,we=4194304;function gi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=gi(l):(_&=b,_!==0?h=gi(_):a||(a=b&~e,a!==0&&(h=gi(a))))):(b=l&~d,b!==0?h=gi(b):_!==0?h=gi(_):a||(a=l&~e,a!==0&&(h=gi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Tf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function _i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function As(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,O=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ve(a),et=1<<$;b[$]=0,O[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}a&=~et}l!==0&&ws(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ws(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ve(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Uo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ve(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function zo(e,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(e.suspendedLanes|i))!==0?0:a}function Rs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:kv(e.type))}function Wn(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Zn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Zn,qe="__reactProps$"+Zn,vi="__reactContainer$"+Zn,pa="__reactEvents$"+Zn,Sf="__reactListeners$"+Zn,Ou="__reactHandles$"+Zn,Mu="__reactResources$"+Zn,Ei="__reactMarker$"+Zn;function ga(e){delete e[Re],delete e[qe],delete e[pa],delete e[Sf],delete e[Ou]}function Ti(e){var i=e[Re];if(i)return i;for(var a=e.parentNode;a;){if(i=a[vi]||a[Re]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=vv(e);e!==null;){if(a=e[Re])return a;e=vv(e)}return i}e=a,a=e.parentNode}return null}function Ln(e){if(e=e[Re]||e[vi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Tn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function bi(e){var i=e[Mu];return i||(i=e[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ce(e){e[Ei]=!0}var jo=new Set,Bo={};function Si(e,i){Ai(e,i),Ai(e+"Capture",i)}function Ai(e,i){for(Bo[e]=i,e=0;e<i.length;e++)jo.add(i[e])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Vu(e){return Ae.call(Fo,e)?!0:Ae.call(Ho,e)?!1:qo.test(e)?Fo[e]=!0:(Ho[e]=!0,!1)}function ya(e,i,a){if(Vu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function bn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ie(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $t(e){if(!e._valueTracker){var i=Sr(e)?"checked":"value";e._valueTracker=Go(e,i,""+e[i])}}function Cs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Sr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Is=/[\n"\\]/g;function fn(e){return e.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(e,i,a,l,h,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+He(i)):e.value!==""+He(i)&&(e.value=""+He(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Qo(e,_,He(i)):a!=null?Qo(e,_,He(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+He(b):e.removeAttribute("name")}function ku(e,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$t(e);return}a=a!=null?""+He(a):"",i=i!=null?""+He(i):a,b||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),$t(e)}function Qo(e,i,a){i==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ar(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+He(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Pu(e,i,a){if(i!=null&&(i=""+He(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+He(a):""}function wr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=He(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),$t(e)}function dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Lu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ko(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Yo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(e,d,i[d])}function va(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(e){return Rr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var Xo=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cr=null,Ri=null;function xs(e){var i=Ln(e);if(i&&(e=i.stateNode)){var a=e[qe]||null;t:switch(e=i.stateNode,i.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[qe]||null;if(!h)throw Error(s(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Cs(l)}break t;case"textarea":Pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ar(e,!!a.multiple,i,!1)}}}var Ta=!1;function Ir(e,i,a){if(Ta)return e(i,a);Ta=!0;try{var l=e(i);return l}finally{if(Ta=!1,(Cr!==null||Ri!==null)&&(Nc(),Cr&&(i=Cr,e=Ri,Ri=Cr=null,xs(i),e)))for(i=0;i<e.length;i++)xs(e[i])}}function ei(e,i){var a=e.stateNode;if(a===null)return null;var l=a[qe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(zn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ds=!1}var Ci=null,$o=null,Ns=null;function Jo(){if(Ns)return Ns;var e,i=$o,a=i.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ns=h.slice(e,1<l?1-l:void 0)}function Os(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ni(){return!1}function Ke(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:ni,this.isPropagationStopped=ni,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ke(Qi),xr=T({},Qi,{view:0,detail:0}),Wo=Ke(xr),Dr,ba,xi,Sa=T({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Dr=e.screenX-xi.screenX,ba=e.screenY-xi.screenY):ba=Dr=0,xi=e),Dr)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Zo=Ke(Sa),Ms=T({},Sa,{dataTransfer:0}),zu=Ke(Ms),ju=T({},xr,{relatedTarget:0}),Vs=Ke(ju),tl=T({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=Ke(tl),Aa=T({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qu=Ke(Aa),Hu=T({},Qi,{data:0}),Di=Ke(Hu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Qu[e])?!!i[e]:!1}function Nr(){return Yu}var un=T({},xr,{key:function(e){if(e.key){var i=Fu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=Ke(un),Xu=T({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ke(Xu),c=T({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),g=Ke(c),v=T({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(v),z=T({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ke(z),at=T({},Qi,{newState:0,oldState:0}),It=Ke(at),Ee=[9,13,27,32],Yt=zn&&"CompositionEvent"in window,ce=null;zn&&"documentMode"in document&&(ce=document.documentMode);var jn=zn&&"TextEvent"in window&&!ce,Ni=zn&&(!Yt||ce&&8<ce&&11>=ce),ii=" ",ri=!1;function ks(e,i){switch(e){case"keyup":return Ee.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function TS(e,i){switch(e){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(ri=!0,ii);case"textInput":return e=i.data,e===ii&&ri?null:e;default:return null}}function bS(e,i){if(Ra)return e==="compositionend"||!Yt&&ks(e,i)?(e=Jo(),Ns=$o=Ci=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ni&&i.locale!=="ko"?null:i.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!SS[e.type]:i==="textarea"}function Sg(e,i,a,l){Cr?Ri?Ri.push(l):Ri=[l]:Cr=l,i=Uc(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var el=null,nl=null;function AS(e){sv(e,0)}function $u(e){var i=Tn(e);if(Cs(i))return e}function Ag(e,i){if(e==="change")return i}var wg=!1;if(zn){var Af;if(zn){var wf="oninput"in document;if(!wf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),wf=typeof Rg.oninput=="function"}Af=wf}else Af=!1;wg=Af&&(!document.documentMode||9<document.documentMode)}function Cg(){el&&(el.detachEvent("onpropertychange",Ig),nl=el=null)}function Ig(e){if(e.propertyName==="value"&&$u(nl)){var i=[];Sg(i,nl,e,Un(e)),Ir(AS,i)}}function wS(e,i,a){e==="focusin"?(Cg(),el=i,nl=a,el.attachEvent("onpropertychange",Ig)):e==="focusout"&&Cg()}function RS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(nl)}function CS(e,i){if(e==="click")return $u(i)}function IS(e,i){if(e==="input"||e==="change")return $u(i)}function xS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Sn=typeof Object.is=="function"?Object.is:xS;function il(e,i){if(Sn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ae.call(i,h)||!Sn(e[h],i[h]))return!1}return!0}function xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,i){var a=xg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xg(a)}}function Ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=wi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=wi(e.document)}return i}function Rf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var DS=zn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Cf=null,rl=null,If=!1;function Mg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Ca==null||Ca!==wi(l)||(l=Ca,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Uc(Cf,"onSelect"),0<l.length&&(i=new Ii("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ca)))}function Ps(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ia={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},xf={},Vg={};zn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ls(e){if(xf[e])return xf[e];if(!Ia[e])return e;var i=Ia[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return xf[e]=i[a];return e}var kg=Ls("animationend"),Pg=Ls("animationiteration"),Lg=Ls("animationstart"),NS=Ls("transitionrun"),OS=Ls("transitionstart"),MS=Ls("transitioncancel"),Ug=Ls("transitionend"),zg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function si(e,i){zg.set(e,i),Si(i,[e])}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],xa=0,Nf=0;function Wu(){for(var e=xa,i=Nf=xa=0;i<e;){var a=Bn[i];Bn[i++]=null;var l=Bn[i];Bn[i++]=null;var h=Bn[i];Bn[i++]=null;var d=Bn[i];if(Bn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&jg(a,h,d)}}function Zu(e,i,a,l){Bn[xa++]=e,Bn[xa++]=i,Bn[xa++]=a,Bn[xa++]=l,Nf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Of(e,i,a,l){return Zu(e,i,a,l),tc(e)}function Us(e,i){return Zu(e,null,null,i),tc(e)}function jg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ve(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(e){if(50<Rl)throw Rl=0,Bd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Da={};function VS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,i,a,l){return new VS(e,i,a,l)}function Mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,i){var a=e.alternate;return a===null?(a=An(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ec(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Mf(e)&&(_=1);else if(typeof e=="string")_=z1(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=An(31,a,i,h),e.elementType=C,e.lanes=d,e;case G:return zs(a.children,h,d,i);case q:_=8,h|=24;break;case J:return e=An(12,a,i,h|2),e.elementType=J,e.lanes=d,e;case ot:return e=An(13,a,i,h),e.elementType=ot,e.lanes=d,e;case ft:return e=An(19,a,i,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:_=10;break t;case X:_=9;break t;case rt:_=11;break t;case N:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=An(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function zs(e,i,a,l){return e=An(7,e,l,i),e.lanes=a,e}function Vf(e,i,a){return e=An(6,e,null,i),e.lanes=a,e}function qg(e){var i=An(18,null,null,0);return i.stateNode=e,i}function kf(e,i,a){return i=An(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Hg=new WeakMap;function qn(e,i){if(typeof e=="object"&&e!==null){var a=Hg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ko(i)},Hg.set(e,i),i)}return{value:e,source:i,stack:ko(i)}}var Na=[],Oa=0,nc=null,sl=0,Hn=[],Fn=0,Or=null,Oi=1,Mi="";function Xi(e,i){Na[Oa++]=sl,Na[Oa++]=nc,nc=e,sl=i}function Fg(e,i,a){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Or,Or=e;var l=Oi;e=Mi;var h=32-ve(l)-1;l&=~(1<<h),a+=1;var d=32-ve(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-ve(i)+h|a<<h|l,Mi=d+e}else Oi=1<<d|a<<h|l,Mi=e}function Pf(e){e.return!==null&&(Xi(e,1),Fg(e,1,0))}function Lf(e){for(;e===nc;)nc=Na[--Oa],Na[Oa]=null,sl=Na[--Oa],Na[Oa]=null;for(;e===Or;)Or=Hn[--Fn],Hn[Fn]=null,Mi=Hn[--Fn],Hn[Fn]=null,Oi=Hn[--Fn],Hn[Fn]=null}function Gg(e,i){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Or,Oi=i.id,Mi=i.overflow,Or=e}var Xe=null,ae=null,jt=!1,Mr=null,Gn=!1,Uf=Error(s(519));function Vr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(qn(i,e)),Uf}function Qg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Re]=e,i[qe]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)Vt(Il[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),wr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||uv(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Vr(e,!0)}function Yg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function Ma(e){if(e!==Xe)return!1;if(!jt)return Yg(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||nm(e.type,e.memoizedProps)),a=!a),a&&ae&&Vr(e),Yg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=_v(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=_v(e)}else i===27?(i=ae,Kr(e.type)?(e=om,om=null,ae=e):ae=i):ae=Xe?Yn(e.stateNode.nextSibling):null;return!0}function js(){ae=Xe=null,jt=!1}function zf(){var e=Mr;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Mr=null),e}function al(e){Mr===null?Mr=[e]:Mr.push(e)}var jf=P(null),Bs=null,$i=null;function kr(e,i,a){ut(jf,i._currentValue),i._currentValue=a}function Ji(e){e._currentValue=jf.current,nt(jf)}function Bf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function qf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Bf(d.return,a,e),l||(_=null);break t}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Bf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;Sn(h.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(h===Bt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}h=h.return}e!==null&&qf(i,e,a,l),i.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qs(e){Bs=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Kg(Bs,e)}function rc(e,i){return Bs===null&&qs(e),Kg(e,i)}function Kg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(e===null)throw Error(s(308));$i=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else $i=$i.next=i;return a}var kS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},PS=r.unstable_scheduleCallback,LS=r.unstable_NormalPriority,xe={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new kS,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&PS(LS,function(){e.controller.abort()})}var ll=null,Ff=0,ka=0,Pa=null;function US(e,i){if(ll===null){var a=ll=[];Ff=0,ka=Yd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,i.then(Xg,Xg),i}function Xg(){if(--Ff===0&&ll!==null){Pa!==null&&(Pa.status="fulfilled");var e=ll;ll=null,ka=0,Pa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function zS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=Y.S;Y.S=function(e,i){M_=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&US(e,i),$g!==null&&$g(e,i)};var Hs=P(null);function Gf(){var e=Hs.current;return e!==null?e:re.pooledCache}function sc(e,i){i===null?ut(Hs,Hs.current):ut(Hs,i.pool)}function Jg(){var e=Gf();return e===null?null:{parent:xe._currentValue,pool:e}}var La=Error(s(460)),Qf=Error(s(474)),ac=Error(s(542)),oc={then:function(){}};function Wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ey(e),e;default:if(typeof i.status=="string")i.then(ti,ti);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ey(e),e}throw Gs=i,La}}function Fs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,La):a}}var Gs=null;function ty(){if(Gs===null)throw Error(s(459));var e=Gs;return Gs=null,e}function ey(e){if(e===La||e===ac)throw Error(s(483))}var Ua=null,ul=0;function lc(e){var i=ul;return ul+=1,Ua===null&&(Ua=[]),Zg(Ua,e,i)}function cl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function uc(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ny(e){function i(U,V){if(e){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Ki(U,V),U.index=0,U.sibling=null,U}function d(U,V,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,j,tt){return V===null||V.tag!==6?(V=Vf(j,U.mode,tt),V.return=U,V):(V=h(V,j),V.return=U,V)}function O(U,V,j,tt){var _t=j.type;return _t===G?$(U,V,j.props.children,tt,j.key):V!==null&&(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&Fs(_t)===V.type)?(V=h(V,j.props),cl(V,j),V.return=U,V):(V=ec(j.type,j.key,j.props,null,U.mode,tt),cl(V,j),V.return=U,V)}function B(U,V,j,tt){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=kf(j,U.mode,tt),V.return=U,V):(V=h(V,j.children||[]),V.return=U,V)}function $(U,V,j,tt,_t){return V===null||V.tag!==7?(V=zs(j,U.mode,tt,_t),V.return=U,V):(V=h(V,j),V.return=U,V)}function et(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Vf(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return j=ec(V.type,V.key,V.props,null,U.mode,j),cl(j,V),j.return=U,j;case H:return V=kf(V,U.mode,j),V.return=U,V;case S:return V=Fs(V),et(U,V,j)}if(Ot(V)||M(V))return V=zs(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return et(U,lc(V),j);if(V.$$typeof===W)return et(U,rc(U,V),j);uc(U,V)}return null}function F(U,V,j,tt){var _t=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _t!==null?null:b(U,V,""+j,tt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===_t?O(U,V,j,tt):null;case H:return j.key===_t?B(U,V,j,tt):null;case S:return j=Fs(j),F(U,V,j,tt)}if(Ot(j)||M(j))return _t!==null?null:$(U,V,j,tt,null);if(typeof j.then=="function")return F(U,V,lc(j),tt);if(j.$$typeof===W)return F(U,V,rc(U,j),tt);uc(U,j)}return null}function K(U,V,j,tt,_t){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return U=U.get(j)||null,b(V,U,""+tt,_t);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case L:return U=U.get(tt.key===null?j:tt.key)||null,O(V,U,tt,_t);case H:return U=U.get(tt.key===null?j:tt.key)||null,B(V,U,tt,_t);case S:return tt=Fs(tt),K(U,V,j,tt,_t)}if(Ot(tt)||M(tt))return U=U.get(j)||null,$(V,U,tt,_t,null);if(typeof tt.then=="function")return K(U,V,j,lc(tt),_t);if(tt.$$typeof===W)return K(U,V,j,rc(V,tt),_t);uc(V,tt)}return null}function mt(U,V,j,tt){for(var _t=null,Gt=null,pt=V,Nt=V=0,Pt=null;pt!==null&&Nt<j.length;Nt++){pt.index>Nt?(Pt=pt,pt=null):Pt=pt.sibling;var Qt=F(U,pt,j[Nt],tt);if(Qt===null){pt===null&&(pt=Pt);break}e&&pt&&Qt.alternate===null&&i(U,pt),V=d(Qt,V,Nt),Gt===null?_t=Qt:Gt.sibling=Qt,Gt=Qt,pt=Pt}if(Nt===j.length)return a(U,pt),jt&&Xi(U,Nt),_t;if(pt===null){for(;Nt<j.length;Nt++)pt=et(U,j[Nt],tt),pt!==null&&(V=d(pt,V,Nt),Gt===null?_t=pt:Gt.sibling=pt,Gt=pt);return jt&&Xi(U,Nt),_t}for(pt=l(pt);Nt<j.length;Nt++)Pt=K(pt,U,Nt,j[Nt],tt),Pt!==null&&(e&&Pt.alternate!==null&&pt.delete(Pt.key===null?Nt:Pt.key),V=d(Pt,V,Nt),Gt===null?_t=Pt:Gt.sibling=Pt,Gt=Pt);return e&&pt.forEach(function(Zr){return i(U,Zr)}),jt&&Xi(U,Nt),_t}function Et(U,V,j,tt){if(j==null)throw Error(s(151));for(var _t=null,Gt=null,pt=V,Nt=V=0,Pt=null,Qt=j.next();pt!==null&&!Qt.done;Nt++,Qt=j.next()){pt.index>Nt?(Pt=pt,pt=null):Pt=pt.sibling;var Zr=F(U,pt,Qt.value,tt);if(Zr===null){pt===null&&(pt=Pt);break}e&&pt&&Zr.alternate===null&&i(U,pt),V=d(Zr,V,Nt),Gt===null?_t=Zr:Gt.sibling=Zr,Gt=Zr,pt=Pt}if(Qt.done)return a(U,pt),jt&&Xi(U,Nt),_t;if(pt===null){for(;!Qt.done;Nt++,Qt=j.next())Qt=et(U,Qt.value,tt),Qt!==null&&(V=d(Qt,V,Nt),Gt===null?_t=Qt:Gt.sibling=Qt,Gt=Qt);return jt&&Xi(U,Nt),_t}for(pt=l(pt);!Qt.done;Nt++,Qt=j.next())Qt=K(pt,U,Nt,Qt.value,tt),Qt!==null&&(e&&Qt.alternate!==null&&pt.delete(Qt.key===null?Nt:Qt.key),V=d(Qt,V,Nt),Gt===null?_t=Qt:Gt.sibling=Qt,Gt=Qt);return e&&pt.forEach(function($1){return i(U,$1)}),jt&&Xi(U,Nt),_t}function ne(U,V,j,tt){if(typeof j=="object"&&j!==null&&j.type===G&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:t:{for(var _t=j.key;V!==null;){if(V.key===_t){if(_t=j.type,_t===G){if(V.tag===7){a(U,V.sibling),tt=h(V,j.props.children),tt.return=U,U=tt;break t}}else if(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&Fs(_t)===V.type){a(U,V.sibling),tt=h(V,j.props),cl(tt,j),tt.return=U,U=tt;break t}a(U,V);break}else i(U,V);V=V.sibling}j.type===G?(tt=zs(j.props.children,U.mode,tt,j.key),tt.return=U,U=tt):(tt=ec(j.type,j.key,j.props,null,U.mode,tt),cl(tt,j),tt.return=U,U=tt)}return _(U);case H:t:{for(_t=j.key;V!==null;){if(V.key===_t)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(U,V.sibling),tt=h(V,j.children||[]),tt.return=U,U=tt;break t}else{a(U,V);break}else i(U,V);V=V.sibling}tt=kf(j,U.mode,tt),tt.return=U,U=tt}return _(U);case S:return j=Fs(j),ne(U,V,j,tt)}if(Ot(j))return mt(U,V,j,tt);if(M(j)){if(_t=M(j),typeof _t!="function")throw Error(s(150));return j=_t.call(j),Et(U,V,j,tt)}if(typeof j.then=="function")return ne(U,V,lc(j),tt);if(j.$$typeof===W)return ne(U,V,rc(U,j),tt);uc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(U,V.sibling),tt=h(V,j),tt.return=U,U=tt):(a(U,V),tt=Vf(j,U.mode,tt),tt.return=U,U=tt),_(U)):a(U,V)}return function(U,V,j,tt){try{ul=0;var _t=ne(U,V,j,tt);return Ua=null,_t}catch(pt){if(pt===La||pt===ac)throw pt;var Gt=An(29,pt,null,U.mode);return Gt.lanes=tt,Gt.return=U,Gt}}}var Qs=ny(!0),iy=ny(!1),Pr=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(e),jg(e,null,a),i}return Zu(e,l,i,a),tc(e)}function hl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Uo(e,a)}}function Xf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var $f=!1;function fl(){if($f){var e=Pa;if(e!==null)throw e}}function dl(e,i,a,l){$f=!1;var h=e.updateQueue;Pr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,B=O.next;O.next=null,_===null?d=B:_.next=B,_=O;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=B:b.next=B,$.lastBaseUpdate=O))}if(d!==null){var et=h.baseState;_=0,$=B=O=null,b=d;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(kt&F)===F:(l&F)===F){F!==0&&F===ka&&($f=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var mt=e,Et=b;F=i;var ne=a;switch(Et.tag){case 1:if(mt=Et.payload,typeof mt=="function"){et=mt.call(ne,et,F);break t}et=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Et.payload,F=typeof mt=="function"?mt.call(ne,et,F):mt,F==null)break t;et=T({},et,F);break t;case 2:Pr=!0}}F=b.callback,F!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(B=$=K,O=et):$=$.next=K,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(O=et),h.baseState=O,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Hr|=_,e.lanes=_,e.memoizedState=et}}function ry(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function sy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ry(a[e],i)}var za=P(null),cc=P(0);function ay(e,i){e=ar,ut(cc,e),ut(za,i),ar=e|i.baseLanes}function Jf(){ut(cc,ar),ut(za,za.current)}function Wf(){ar=cc.current,nt(za),nt(cc)}var wn=P(null),Qn=null;function zr(e){var i=e.alternate;ut(Te,Te.current&1),ut(wn,e),Qn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(Qn=e)}function Zf(e){ut(Te,Te.current),ut(wn,e),Qn===null&&(Qn=e)}function oy(e){e.tag===22?(ut(Te,Te.current),ut(wn,e),Qn===null&&(Qn=e)):jr()}function jr(){ut(Te,Te.current),ut(wn,wn.current)}function Rn(e){nt(wn),Qn===e&&(Qn=null),nt(Te)}var Te=P(0);function hc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sm(a)||am(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wi=0,xt=null,te=null,De=null,fc=!1,ja=!1,Ys=!1,dc=0,ml=0,Ba=null,jS=0;function me(){throw Error(s(321))}function td(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Sn(e[a],i[a]))return!1;return!0}function ed(e,i,a,l,h,d){return Wi=d,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?Fy:gd,Ys=!1,d=a(l,h),Ys=!1,ja&&(d=uy(i,a,l,h)),ly(e),d}function ly(e){Y.H=yl;var i=te!==null&&te.next!==null;if(Wi=0,De=te=xt=null,fc=!1,ml=0,Ba=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&ic(e)&&(Ne=!0))}function uy(e,i,a,l){xt=e;var h=0;do{if(ja&&(Ba=null),ml=0,ja=!1,25<=h)throw Error(s(301));if(h+=1,De=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Gy,d=i(a,l)}while(ja);return d}function BS(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?pl(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(xt.flags|=1024),i}function nd(){var e=dc!==0;return dc=0,e}function id(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function rd(e){if(fc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}fc=!1}Wi=0,De=te=xt=null,ja=!1,ml=dc=0,Ba=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?xt.memoizedState=De=e:De=De.next=e,De}function be(){if(te===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=De===null?xt.memoizedState:De.next;if(i!==null)De=i,te=e;else{if(e===null)throw xt.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},De===null?xt.memoizedState=De=e:De=De.next=e}return De}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var i=ml;return ml+=1,Ba===null&&(Ba=[]),e=Zg(Ba,e,i),i=xt,(De===null?i.memoizedState:De.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Fy:gd),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===W)return $e(e)}throw Error(s(438,String(e)))}function sd(e){var i=null,a=xt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),xt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=w;return i.index++,a}function Zi(e,i){return typeof i=="function"?i(e):i}function gc(e){var i=be();return ad(i,te,e)}function ad(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var b=_=null,O=null,B=i,$=!1;do{var et=B.lane&-536870913;if(et!==B.lane?(kt&et)===et:(Wi&et)===et){var F=B.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),et===ka&&($=!0);else if((Wi&F)===F){B=B.next,F===ka&&($=!0);continue}else et={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=et,_=d):O=O.next=et,xt.lanes|=F,Hr|=F;et=B.action,Ys&&a(d,et),d=B.hasEagerState?B.eagerState:a(d,et)}else F={lane:et,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(b=O=F,_=d):O=O.next=F,xt.lanes|=et,Hr|=et;B=B.next}while(B!==null&&B!==i);if(O===null?_=d:O.next=b,!Sn(d,e.memoizedState)&&(Ne=!0,$&&(a=Pa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function od(e){var i=be(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Sn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(e,i,a){var l=xt,h=be(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Sn((te||h).memoizedState,a);if(_&&(h.memoizedState=a,Ne=!0),h=h.queue,cd(dy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},fy.bind(null,l,h,a,i),null),re===null)throw Error(s(349));d||(Wi&127)!==0||hy(l,i,a)}return a}function hy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=xt.updateQueue,i===null?(i=mc(),xt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function fy(e,i,a,l){i.value=a,i.getSnapshot=l,my(i)&&py(e)}function dy(e,i,a){return a(function(){my(i)&&py(e)})}function my(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Sn(e,a)}catch{return!0}}function py(e){var i=Us(e,2);i!==null&&_n(i,e,2)}function ld(e){var i=cn();if(typeof e=="function"){var a=e;if(e=a(),Ys){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},i}function gy(e,i,a,l){return e.baseState=a,ad(e,te,typeof l=="function"?l:Zi)}function qS(e,i,a,l,h){if(vc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,yy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function yy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var b=a(h,l),O=Y.S;O!==null&&O(_,b),_y(e,i,b)}catch(B){ud(e,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),_y(e,i,d)}catch(B){ud(e,i,B)}}function _y(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(e,i,l)},function(l){return ud(e,i,l)}):vy(e,i,a)}function vy(e,i,a){i.status="fulfilled",i.value=a,Ey(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,yy(e,a)))}function ud(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ey(i),i=i.next;while(i!==l)}e.action=null}function Ey(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ty(e,i){return i}function by(e,i){if(jt){var a=re.formState;if(a!==null){t:{var l=xt;if(jt){if(ae){e:{for(var h=ae,d=Gn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=Yn(h.nextSibling),l=h.data==="F!";break t}}Vr(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:i},a.queue=l,a=By.bind(null,xt,l),l.dispatch=a,l=ld(!1),d=pd.bind(null,xt,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=qS.bind(null,xt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Sy(e){var i=be();return Ay(i,te,e)}function Ay(e,i,a){if(i=ad(e,i,Ty)[0],e=gc(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(_){throw _===La?ac:_}else l=i;i=be();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(xt.flags|=2048,qa(9,{destroy:void 0},HS.bind(null,h,a),null)),[l,d,e]}function HS(e,i){e.action=i}function wy(e){var i=be(),a=te;if(a!==null)return Ay(i,a,e);be(),i=i.memoizedState,a=be();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function qa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=xt.updateQueue,i===null&&(i=mc(),xt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ry(){return be().memoizedState}function yc(e,i,a,l){var h=cn();xt.flags|=e,h.memoizedState=qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function _c(e,i,a,l){var h=be();l=l===void 0?null:l;var d=h.memoizedState.inst;te!==null&&l!==null&&td(l,te.memoizedState.deps)?h.memoizedState=qa(i,d,a,l):(xt.flags|=e,h.memoizedState=qa(1|i,d,a,l))}function Cy(e,i){yc(8390656,8,e,i)}function cd(e,i){_c(2048,8,e,i)}function FS(e){xt.flags|=4;var i=xt.updateQueue;if(i===null)i=mc(),xt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Iy(e){var i=be().memoizedState;return FS({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function xy(e,i){return _c(4,2,e,i)}function Dy(e,i){return _c(4,4,e,i)}function Ny(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Oy(e,i,a){a=a!=null?a.concat([e]):null,_c(4,4,Ny.bind(null,i,e),a)}function hd(){}function My(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Vy(e,i){var a=be();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=e(),Ys){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function fd(e,i,a){return a===void 0||(Wi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=k_(),xt.lanes|=e,Hr|=e,a)}function ky(e,i,a,l){return Sn(a,i)?a:za.current!==null?(e=fd(e,a,l),Sn(e,i)||(Ne=!0),e):(Wi&42)===0||(Wi&1073741824)!==0&&(kt&261930)===0?(Ne=!0,e.memoizedState=a):(e=k_(),xt.lanes|=e,Hr|=e,i)}function Py(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=Y.T,b={};Y.T=b,pd(e,!1,i,a);try{var O=h(),B=Y.S;if(B!==null&&B(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=zS(O,l);gl(e,i,$,xn(e))}else gl(e,i,l,xn(e))}catch(et){gl(e,i,{then:function(){},status:"rejected",reason:et},xn())}finally{st.p=d,_!==null&&b.types!==null&&(_.types=b.types),Y.T=_}}function GS(){}function dd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ly(e).queue;Py(e,h,i,gt,a===null?GS:function(){return Uy(e),a(l)})}function Ly(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Uy(e){var i=Ly(e);i.next===null&&(i=e.alternate.memoizedState),gl(e,i.next.queue,{},xn())}function md(){return $e(Ml)}function zy(){return be().memoizedState}function jy(){return be().memoizedState}function QS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();e=Lr(a);var l=Ur(i,e,a);l!==null&&(_n(l,i,a),hl(l,i,a)),i={cache:Hf()},e.payload=i;return}i=i.return}}function YS(e,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?qy(i,a):(a=Of(e,i,a,l),a!==null&&(_n(a,e,l),Hy(a,i,l)))}function By(e,i,a){var l=xn();gl(e,i,a,l)}function gl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))qy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,Sn(b,_))return Zu(e,i,h,0),re===null&&Wu(),!1}catch{}if(a=Of(e,i,h,l),a!==null)return _n(a,e,l),Hy(a,i,l),!0}return!1}function pd(e,i,a,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(i)throw Error(s(479))}else i=Of(e,a,l,2),i!==null&&_n(i,e,2)}function vc(e){var i=e.alternate;return e===xt||i!==null&&i===xt}function qy(e,i){ja=fc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Hy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Uo(e,a)}}var yl={readContext:$e,use:pc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};yl.useEffectEvent=me;var Fy={readContext:$e,use:pc,useCallback:function(e,i){return cn().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:Cy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,yc(4194308,4,Ny.bind(null,i,e),a)},useLayoutEffect:function(e,i){return yc(4194308,4,e,i)},useInsertionEffect:function(e,i){yc(4,2,e,i)},useMemo:function(e,i){var a=cn();i=i===void 0?null:i;var l=e();if(Ys){Pn(!0);try{e()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Ys){Pn(!0);try{a(i)}finally{Pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=YS.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var i=cn();return e={current:e},i.memoizedState=e},useState:function(e){e=ld(e);var i=e.queue,a=By.bind(null,xt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(e,i){var a=cn();return fd(a,e,i)},useTransition:function(){var e=ld(!1);return e=Py.bind(null,xt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=xt,h=cn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(kt&127)!==0||hy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Cy(dy.bind(null,l,d,e),[e]),l.flags|=2048,qa(9,{destroy:void 0},fy.bind(null,l,d,a,i),null),a},useId:function(){var e=cn(),i=re.identifierPrefix;if(jt){var a=Mi,l=Oi;a=(l&~(1<<32-ve(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=jS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:md,useFormState:by,useActionState:by,useOptimistic:function(e){var i=cn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pd.bind(null,xt,!0,a),a.dispatch=i,[e,i]},useMemoCache:sd,useCacheRefresh:function(){return cn().memoizedState=QS.bind(null,xt)},useEffectEvent:function(e){var i=cn(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gd={readContext:$e,use:pc,useCallback:My,useContext:$e,useEffect:cd,useImperativeHandle:Oy,useInsertionEffect:xy,useLayoutEffect:Dy,useMemo:Vy,useReducer:gc,useRef:Ry,useState:function(){return gc(Zi)},useDebugValue:hd,useDeferredValue:function(e,i){var a=be();return ky(a,te.memoizedState,e,i)},useTransition:function(){var e=gc(Zi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:pl(e),i]},useSyncExternalStore:cy,useId:zy,useHostTransitionStatus:md,useFormState:Sy,useActionState:Sy,useOptimistic:function(e,i){var a=be();return gy(a,te,e,i)},useMemoCache:sd,useCacheRefresh:jy};gd.useEffectEvent=Iy;var Gy={readContext:$e,use:pc,useCallback:My,useContext:$e,useEffect:cd,useImperativeHandle:Oy,useInsertionEffect:xy,useLayoutEffect:Dy,useMemo:Vy,useReducer:od,useRef:Ry,useState:function(){return od(Zi)},useDebugValue:hd,useDeferredValue:function(e,i){var a=be();return te===null?fd(a,e,i):ky(a,te.memoizedState,e,i)},useTransition:function(){var e=od(Zi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:pl(e),i]},useSyncExternalStore:cy,useId:zy,useHostTransitionStatus:md,useFormState:wy,useActionState:wy,useOptimistic:function(e,i){var a=be();return te!==null?gy(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:jy};Gy.useEffectEvent=Iy;function yd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var _d={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=xn(),h=Lr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(e,h,l),i!==null&&(_n(i,e,l),hl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=xn(),h=Lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(e,h,l),i!==null&&(_n(i,e,l),hl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=xn(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(e,l,a),i!==null&&(_n(i,e,a),hl(i,e,a))}};function Qy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Yy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&_d.enqueueReplaceState(i,i.state,null)}function Ks(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ky(e){Ju(e)}function Xy(e){console.error(e)}function $y(e){Ju(e)}function Ec(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vd(e,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(e,i)},a}function Wy(e){return e=Lr(e),e.tag=3,e}function Zy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Jy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Jy(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function KS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?Oc():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Fd(e,l,h)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Fd(e,l,h)),!1}throw Error(s(435,a.tag))}return Fd(e,l,h),Oc(),!1}if(jt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(e=Error(s(422),{cause:l}),al(qn(e,a)))):(l!==Uf&&(i=Error(s(423),{cause:l}),al(qn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=qn(l,a),h=vd(e.stateNode,l,h),Xf(e,h),pe!==4&&(pe=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),wl===null?wl=[d]:wl.push(d),pe!==4&&(pe=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=vd(a.stateNode,l,e),Xf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wy(h),Zy(h,e,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Ed=Error(s(461)),Ne=!1;function Je(e,i,a,l){i.child=e===null?iy(i,null,a,l):Qs(i,e.child,a,l)}function t_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return qs(i),l=ed(e,i,a,_,d,h),b=nd(),e!==null&&!Ne?(id(e,i,h),tr(e,i,h)):(jt&&b&&Pf(i),i.flags|=1,Je(e,i,l,h),i.child)}function e_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,n_(e,i,d,l,h)):(e=ec(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Id(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&e.ref===i.ref)return tr(e,i,h)}return i.flags|=1,e=Ki(d,l),e.ref=i.ref,e.return=i,i.child=e}function n_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(il(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,Id(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,tr(e,i,h)}return Td(e,i,a,l,h)}function i_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return r_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(i,d!==null?d.cachePool:null),d!==null?ay(i,d):Jf(),oy(i);else return l=i.lanes=536870912,r_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(sc(i,d.cachePool),ay(i,d),jr(),i.memoizedState=null):(e!==null&&sc(i,null),Jf(),jr());return Je(e,i,h,a),i.child}function _l(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function r_(e,i,a,l,h){var d=Gf();return d=d===null?null:{parent:xe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&sc(i,null),Jf(),oy(i),e!==null&&Va(e,i,l,!0),i.childLanes=h,null}function Tc(e,i){return i=Sc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function s_(e,i,a){return Qs(i,e.child,null,a),e=Tc(i,i.pendingProps),e.flags|=2,Rn(i),i.memoizedState=null,e}function XS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=Tc(i,l),i.lanes=536870912,_l(null,e);if(Zf(i),(e=ae)?(e=yv(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Or!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=qg(e),a.return=i,i.child=a,Xe=i,ae=null)):e=null,e===null)throw Vr(i);return i.lanes=536870912,null}return Tc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Zf(i),h)if(i.flags&256)i.flags&=-257,i=s_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ne||Va(e,i,a,!1),h=(a&e.childLanes)!==0,Ne||h){if(l=re,l!==null&&(_=zo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Us(e,_),_n(l,e,_),Ed;Oc(),i=s_(e,i,a)}else e=d.treeContext,ae=Yn(_.nextSibling),Xe=i,jt=!0,Mr=null,Gn=!1,e!==null&&Gg(i,e),i=Tc(i,l),i.flags|=4096;return i}return e=Ki(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function bc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Td(e,i,a,l,h){return qs(i),a=ed(e,i,a,l,void 0,h),l=nd(),e!==null&&!Ne?(id(e,i,h),tr(e,i,h)):(jt&&l&&Pf(i),i.flags|=1,Je(e,i,a,h),i.child)}function a_(e,i,a,l,h,d){return qs(i),i.updateQueue=null,a=uy(i,l,a,h),ly(e),l=nd(),e!==null&&!Ne?(id(e,i,d),tr(e,i,d)):(jt&&l&&Pf(i),i.flags|=1,Je(e,i,a,d),i.child)}function o_(e,i,a,l,h){if(qs(i),i.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=$e(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Yf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$e(_):Da,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(yd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&_d.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var b=i.memoizedProps,O=Ks(a,b);d.props=O;var B=d.context,$=a.contextType;_=Da,typeof $=="object"&&$!==null&&(_=$e($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==_)&&Yy(i,d,l,_),Pr=!1;var F=i.memoizedState;d.state=F,dl(i,l,d,h),fl(),B=i.memoizedState,b||F!==B||Pr?(typeof et=="function"&&(yd(i,a,et,l),B=i.memoizedState),(O=Pr||Qy(i,a,O,l,F,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kf(e,i),_=i.memoizedProps,$=Ks(a,_),d.props=$,et=i.pendingProps,F=d.context,B=a.contextType,O=Da,typeof B=="object"&&B!==null&&(O=$e(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==et||F!==O)&&Yy(i,d,l,O),Pr=!1,F=i.memoizedState,d.state=F,dl(i,l,d,h),fl();var K=i.memoizedState;_!==et||F!==K||Pr||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof b=="function"&&(yd(i,a,b,l),K=i.memoizedState),($=Pr||Qy(i,a,$,l,F,K,O)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Qs(i,e.child,null,h),i.child=Qs(i,null,a,h)):Je(e,i,a,h),i.memoizedState=d.state,e=i.child):e=tr(e,i,h),e}function l_(e,i,a,l){return js(),i.flags|=256,Je(e,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(e){return{baseLanes:e,cachePool:Jg()}}function Ad(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=In),e}function u_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?zr(i):jr(),(e=ae)?(e=yv(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Or!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=qg(e),a.return=i,i.child=a,Xe=i,ae=null)):e=null,e===null)throw Vr(i);return am(e)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(jr(),h=i.mode,b=Sc({mode:"hidden",children:b},h),l=zs(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(e,_,a),i.memoizedState=bd,_l(null,l)):(zr(i),wd(i,b))}var O=e.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(zr(i),i.flags&=-257,i=Rd(e,i,a)):i.memoizedState!==null?(jr(),i.child=e.child,i.flags|=128,i=null):(jr(),b=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),b=zs(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Qs(i,e.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(e,_,a),i.memoizedState=bd,i=_l(null,l));else if(zr(i),am(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),i=Rd(e,i,a)}else if(Ne||Va(e,i,a,!1),_=(a&e.childLanes)!==0,Ne||_){if(_=re,_!==null&&(l=zo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Us(e,l),_n(_,e,l),Ed;sm(b)||Oc(),i=Rd(e,i,a)}else sm(b)?(i.flags|=192,i.child=e.child,i=null):(e=O.treeContext,ae=Yn(b.nextSibling),Xe=i,jt=!0,Mr=null,Gn=!1,e!==null&&Gg(i,e),i=wd(i,l.children),i.flags|=4096);return i}return h?(jr(),b=l.fallback,h=i.mode,O=e.child,B=O.sibling,l=Ki(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,B!==null?b=Ki(B,b):(b=zs(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,_l(null,l),l=i.child,b=e.child.memoizedState,b===null?b=Sd(a):(h=b.cachePool,h!==null?(O=xe._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Jg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ad(e,_,a),i.memoizedState=bd,_l(e.child,l)):(zr(i),a=e.child,e=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function wd(e,i){return i=Sc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Sc(e,i){return e=An(22,e,null,i),e.lanes=0,e}function Rd(e,i,a){return Qs(i,e.child,null,a),e=wd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function c_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Bf(e.return,i,a)}function Cd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function h_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Te.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ut(Te,_),Je(e,i,l,a),l=jt?sl:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c_(e,a,i);else if(e.tag===19)c_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&hc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&hc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function tr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Hr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Va(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function $S(e,i,a){switch(i.tag){case 3:Le(i,i.stateNode.containerInfo),kr(i,xe,e.memoizedState.cache),js();break;case 27:case 5:Es(i);break;case 4:Le(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?u_(e,i,a):(zr(i),e=tr(e,i,a),e!==null?e.sibling:null);zr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return h_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ut(Te,Te.current),l)break;return null;case 22:return i.lanes=0,i_(e,i,a,i.pendingProps);case 24:kr(i,xe,e.memoizedState.cache)}return tr(e,i,a)}function f_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Id(e,a)&&(i.flags&128)===0)return Ne=!1,$S(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(i.flags&1048576)!==0&&Fg(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Fs(i.elementType),i.type=e,typeof e=="function")Mf(e)?(l=Ks(e,l),i.tag=1,i=o_(null,i,e,l,a)):(i.tag=0,i=Td(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===rt){i.tag=11,i=t_(null,i,e,l,a);break t}else if(h===N){i.tag=14,i=e_(null,i,e,l,a);break t}}throw i=wt(e)||e,Error(s(306,i,""))}}return i;case 0:return Td(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),o_(e,i,l,h,a);case 3:t:{if(Le(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Kf(e,i),dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,xe,l),l!==d.cache&&qf(i,[xe],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=l_(e,i,l,a);break t}else if(l!==h){h=qn(Error(s(424)),i),al(h),i=l_(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Yn(e.firstChild),Xe=i,jt=!0,Mr=null,Gn=!0,a=iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),l===h){i=tr(e,i,a);break t}Je(e,i,l,a)}i=i.child}return i;case 26:return bc(e,i),e===null?(a=Sv(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=zc(Dt.current).createElement(a),l[Re]=i,l[qe]=e,We(l,a,e),Ce(l),i.stateNode=l):i.memoizedState=Sv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Es(i),e===null&&jt&&(l=i.stateNode=Ev(i.type,i.pendingProps,Dt.current),Xe=i,Gn=!0,h=ae,Kr(i.type)?(om=h,ae=Yn(l.firstChild)):ae=h),Je(e,i,i.pendingProps.children,a),bc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=ae)&&(l=R1(l,i.type,i.pendingProps,Gn),l!==null?(i.stateNode=l,Xe=i,ae=Yn(l.firstChild),Gn=!1,h=!0):h=!1),h||Vr(i)),Es(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,nm(h,d)?l=null:_!==null&&nm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=ed(e,i,BS,null,null,a),Ml._currentValue=h),bc(e,i),Je(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ae)&&(a=C1(a,i.pendingProps,Gn),a!==null?(i.stateNode=a,Xe=i,ae=null,e=!0):e=!1),e||Vr(i)),null;case 13:return u_(e,i,a);case 4:return Le(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Qs(i,null,l,a):Je(e,i,l,a),i.child;case 11:return t_(e,i,i.type,i.pendingProps,a);case 7:return Je(e,i,i.pendingProps,a),i.child;case 8:return Je(e,i,i.pendingProps.children,a),i.child;case 12:return Je(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Je(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qs(i),h=$e(h),l=l(h),i.flags|=1,Je(e,i,l,a),i.child;case 14:return e_(e,i,i.type,i.pendingProps,a);case 15:return n_(e,i,i.type,i.pendingProps,a);case 19:return h_(e,i,a);case 31:return XS(e,i,a);case 22:return i_(e,i,a,i.pendingProps);case 24:return qs(i),l=$e(xe),e===null?(h=Gf(),h===null&&(h=re,d=Hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Yf(i),kr(i,xe,h)):((e.lanes&a)!==0&&(Kf(e,i),dl(i,null,null,a),fl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,xe,l)):(l=d.cache,kr(i,xe,l),l!==h.cache&&qf(i,[xe],a,!0))),Je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(e){e.flags|=4}function xd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(z_())e.flags|=8192;else throw Gs=oc,Qf}else e.flags&=-16777217}function d_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Iv(i))if(z_())e.flags|=8192;else throw Gs=oc,Qf}function Ac(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Du():536870912,e.lanes|=i,Qa|=i)}function vl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function JS(e,i,a){var l=i.pendingProps;switch(Lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(xe),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ma(i)?er(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zf())),oe(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(er(i),d!==null?(oe(i),d_(i,d)):(oe(i),xd(i,h,null,l,a))):d?d!==e.memoizedState?(er(i),oe(i),d_(i,d)):(oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&er(i),oe(i),xd(i,h,e,l,a)),null;case 27:if(ha(i),a=Dt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=dt.current,Ma(i)?Qg(i):(e=Ev(h,l,a),i.stateNode=e,er(i))}return oe(i),null;case 5:if(ha(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(d=dt.current,Ma(i))Qg(i);else{var _=zc(Dt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Re]=i,d[qe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(We(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&er(i)}}return oe(i),xd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Dt.current,Ma(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(e.nodeValue,a)),e||Vr(i,!0)}else e=zc(e).createTextNode(l),e[Re]=i,i.stateNode=e}return oe(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ma(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Re]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),e=!1}else a=zf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Rn(i),i):(Rn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ma(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Re]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=zf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Rn(i),i):(Rn(i),null)}return Rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),oe(i),null);case 4:return ue(),e===null&&Jd(i.stateNode.containerInfo),oe(i),null;case 10:return Ji(i.type),oe(i),null;case 19:if(nt(Te),l=i.memoizedState,l===null)return oe(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)vl(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=hc(e),d!==null){for(i.flags|=128,vl(l,!1),e=d.updateQueue,i.updateQueue=e,Ac(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Bg(a,e),a=a.sibling;return ut(Te,Te.current&1|2),jt&&Xi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&ln()>xc&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304)}else{if(!h)if(e=hc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Ac(i,e),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return oe(i),null}else 2*ln()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ln(),e.sibling=null,a=Te.current,ut(Te,h?a&1|2:a&1),jt&&Xi(i,l.treeForkCount),e):(oe(i),null);case 22:case 23:return Rn(i),Wf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&nt(Hs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(xe),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WS(e,i){switch(Lf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ji(xe),ue(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(Rn(i),i.alternate===null)throw Error(s(340));js()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Rn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Te),null;case 4:return ue(),null;case 10:return Ji(i.type),null;case 22:case 23:return Rn(i),Wf(),e!==null&&nt(Hs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ji(xe),null;case 25:return null;default:return null}}function m_(e,i){switch(Lf(i),i.tag){case 3:Ji(xe),ue();break;case 26:case 27:case 5:ha(i);break;case 4:ue();break;case 31:i.memoizedState!==null&&Rn(i);break;case 13:Rn(i);break;case 19:nt(Te);break;case 10:Ji(i.type);break;case 22:case 23:Rn(i),Wf(),e!==null&&nt(Hs);break;case 24:Ji(xe)}}function El(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Wt(i,i.return,b)}}function Br(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var O=a,B=b;try{B()}catch($){Wt(h,O,$)}}}l=l.next}while(l!==d)}}catch($){Wt(i,i.return,$)}}function p_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{sy(i,a)}catch(l){Wt(e,e.return,l)}}}function g_(e,i,a){a.props=Ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function Tl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Wt(e,i,h)}}function Vi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function y_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Dd(e,i,a){try{var l=e.stateNode;E1(l,e.type,a,i),l[qe]=i}catch(h){Wt(e,e.return,h)}}function __(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kr(e.type)||e.tag===4}function Nd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||__(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Od(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&Kr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Od(e,i,a),e=e.sibling;e!==null;)Od(e,i,a),e=e.sibling}function wc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(wc(e,i,a),e=e.sibling;e!==null;)wc(e,i,a),e=e.sibling}function v_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);We(i,l,a),i[Re]=e,i[qe]=a}catch(d){Wt(e,e.return,d)}}var nr=!1,Oe=!1,Md=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function ZS(e,i){if(e=e.containerInfo,tm=Qc,e=Og(e),Rf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,b=-1,O=-1,B=0,$=0,et=e,F=null;e:for(;;){for(var K;et!==a||h!==0&&et.nodeType!==3||(b=_+h),et!==d||l!==0&&et.nodeType!==3||(O=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(K=et.firstChild)!==null;)F=et,et=K;for(;;){if(et===e)break e;if(F===a&&++B===h&&(b=_),F===d&&++$===l&&(O=_),(K=et.nextSibling)!==null)break;et=F,F=et.parentNode}et=K}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:e,selectionRange:a},Qc=!1,Fe=i;Fe!==null;)if(i=Fe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Fe=e;else for(;Fe!==null;){switch(i=Fe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=Ks(a.type,h);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Wt(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)rm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Fe=e;break}Fe=i.return}}function T_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(e,a),l&4&&El(5,a);break;case 1:if(rr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Wt(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(a,a.return,_)}}l&64&&p_(a),l&512&&Tl(a,a.return);break;case 3:if(rr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(e,i)}catch(_){Wt(a,a.return,_)}}break;case 27:i===null&&l&4&&v_(a);case 26:case 5:rr(e,a),i===null&&l&4&&y_(a),l&512&&Tl(a,a.return);break;case 12:rr(e,a);break;case 31:rr(e,a),l&4&&A_(e,a);break;case 13:rr(e,a),l&4&&w_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=l1.bind(null,a),I1(e,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){i=i!==null&&i.memoizedState!==null||Oe,h=nr;var d=Oe;nr=l,(Oe=i)&&!d?sr(e,a,(a.subtreeFlags&8772)!==0):rr(e,a),nr=h,Oe=d}break;case 30:break;default:rr(e,a)}}function b_(e){var i=e.alternate;i!==null&&(e.alternate=null,b_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ga(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,mn=!1;function ir(e,i,a){for(a=a.child;a!==null;)S_(e,i,a),a=a.sibling}function S_(e,i,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Oe||Vi(a,i),ir(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Oe||Vi(a,i);var l=he,h=mn;Kr(a.type)&&(he=a.stateNode,mn=!1),ir(e,i,a),Dl(a.stateNode),he=l,mn=h;break;case 5:Oe||Vi(a,i);case 6:if(l=he,h=mn,he=null,ir(e,i,a),he=l,mn=h,he!==null)if(mn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{he.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:he!==null&&(mn?(e=he,pv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),to(e)):pv(he,a.stateNode));break;case 4:l=he,h=mn,he=a.stateNode.containerInfo,mn=!0,ir(e,i,a),he=l,mn=h;break;case 0:case 11:case 14:case 15:Br(2,a,i),Oe||Br(4,a,i),ir(e,i,a);break;case 1:Oe||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&g_(a,i,l)),ir(e,i,a);break;case 21:ir(e,i,a);break;case 22:Oe=(l=Oe)||a.memoizedState!==null,ir(e,i,a),Oe=l;break;default:ir(e,i,a)}}function A_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{to(e)}catch(a){Wt(i,i.return,a)}}}function w_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(a){Wt(i,i.return,a)}}function t1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new E_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new E_),i;default:throw Error(s(435,e.tag))}}function Rc(e,i){var a=t1(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=u1.bind(null,e,l);l.then(h,h)}})}function pn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(Kr(b.type)){he=b.stateNode,mn=!1;break t}break;case 5:he=b.stateNode,mn=!1;break t;case 3:case 4:he=b.stateNode.containerInfo,mn=!0;break t}b=b.return}if(he===null)throw Error(s(160));S_(d,_,h),he=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)R_(i,e),i=i.sibling}var ai=null;function R_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(i,e),gn(e),l&4&&(Br(3,e,e.return),El(3,e),Br(5,e,e.return));break;case 1:pn(i,e),gn(e),l&512&&(Oe||a===null||Vi(a,a.return)),l&64&&nr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ai;if(pn(i,e),gn(e),l&512&&(Oe||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),We(d,l,a),d[Re]=e,Ce(d),l=d;break t;case"link":var _=Rv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Rv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break e}}d=h.createElement(l),We(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,Ce(d),l=d}e.stateNode=l}else Cv(h,e.type,e.stateNode);else e.stateNode=wv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Cv(h,e.type,e.stateNode):wv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Dd(e,e.memoizedProps,a.memoizedProps)}break;case 27:pn(i,e),gn(e),l&512&&(Oe||a===null||Vi(a,a.return)),a!==null&&l&4&&Dd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,e),gn(e),l&512&&(Oe||a===null||Vi(a,a.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(mt){Wt(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Dd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Md=!0);break;case 6:if(pn(i,e),gn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(mt){Wt(e,e.return,mt)}}break;case 3:if(qc=null,h=ai,ai=jc(i.containerInfo),pn(i,e),ai=h,gn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(mt){Wt(e,e.return,mt)}Md&&(Md=!1,C_(e));break;case 4:l=ai,ai=jc(e.stateNode.containerInfo),pn(i,e),gn(e),ai=l;break;case 12:pn(i,e),gn(e);break;case 31:pn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 13:pn(i,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=ln()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 22:h=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,B=nr,$=Oe;if(nr=B||h,Oe=$||O,pn(i,e),Oe=$,nr=B,gn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||nr||Oe||Xs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var et=O.memoizedProps.style,F=et!=null&&et.hasOwnProperty("display")?et.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(mt){Wt(O,O.return,mt)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(mt){Wt(O,O.return,mt)}}}else if(i.tag===18){if(a===null){O=i;try{var K=O.stateNode;h?gv(K,!0):gv(O.stateNode,!1)}catch(mt){Wt(O,O.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(e,a))));break;case 19:pn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 30:break;case 21:break;default:pn(i,e),gn(e)}}function gn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(__(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Nd(e);wc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var b=Nd(e);wc(e,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,B=Nd(e);Od(e,B,O);break;default:throw Error(s(161))}}catch($){Wt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function C_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;C_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function rr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)T_(e,i.alternate,i),i=i.sibling}function Xs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Xs(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&g_(i,i.return,a),Xs(i);break;case 27:Dl(i.stateNode);case 26:case 5:Vi(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}e=e.sibling}}function sr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(h,d,a),El(4,d);break;case 1:if(sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Wt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)ry(O[h],b)}catch(B){Wt(l,l.return,B)}}a&&_&64&&p_(d),Tl(d,d.return);break;case 27:v_(d);case 26:case 5:sr(h,d,a),a&&l===null&&_&4&&y_(d),Tl(d,d.return);break;case 12:sr(h,d,a);break;case 31:sr(h,d,a),a&&_&4&&A_(h,d);break;case 13:sr(h,d,a),a&&_&4&&w_(h,d);break;case 22:d.memoizedState===null&&sr(h,d,a),Tl(d,d.return);break;case 30:break;default:sr(h,d,a)}i=i.sibling}}function Vd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ol(a))}function kd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ol(e))}function oi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I_(e,i,a,l),i=i.sibling}function I_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(e,i,a,l),h&2048&&El(9,i);break;case 1:oi(e,i,a,l);break;case 3:oi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ol(e)));break;case 12:if(h&2048){oi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Wt(i,i.return,O)}}else oi(e,i,a,l);break;case 31:oi(e,i,a,l);break;case 13:oi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?oi(e,i,a,l):bl(e,i):d._visibility&2?oi(e,i,a,l):(d._visibility|=2,Ha(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Vd(_,i);break;case 24:oi(e,i,a,l),h&2048&&kd(i.alternate,i);break;default:oi(e,i,a,l)}}function Ha(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,b=a,O=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,b,O,h),El(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ha(d,_,b,O,h):bl(d,_):($._visibility|=2,Ha(d,_,b,O,h)),h&&B&2048&&Vd(_.alternate,_);break;case 24:Ha(d,_,b,O,h),h&&B&2048&&kd(_.alternate,_);break;default:Ha(d,_,b,O,h)}i=i.sibling}}function bl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Vd(l.alternate,l);break;case 24:bl(a,l),h&2048&&kd(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var Sl=8192;function Fa(e,i,a){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)x_(e,i,a),e=e.sibling}function x_(e,i,a){switch(e.tag){case 26:Fa(e,i,a),e.flags&Sl&&e.memoizedState!==null&&j1(a,ai,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,i,a);break;case 3:case 4:var l=ai;ai=jc(e.stateNode.containerInfo),Fa(e,i,a),ai=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Fa(e,i,a),Sl=l):Fa(e,i,a));break;default:Fa(e,i,a)}}function D_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Fe=l,O_(l,e)}D_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)N_(e),e=e.sibling}function N_(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&Br(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Cc(e)):Al(e);break;default:Al(e)}}function Cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Fe=l,O_(l,e)}D_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}e=e.sibling}}function O_(e,i){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=e;Fe!==null;){l=Fe;var h=l.sibling,d=l.return;if(b_(l),l===a){Fe=null;break t}if(h!==null){h.return=d,Fe=h;break t}Fe=d}}}var e1={getCacheForType:function(e){var i=$e(xe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return $e(xe).controller.signal}},n1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Mt=null,kt=0,Jt=0,Cn=null,qr=!1,Ga=!1,Pd=!1,ar=0,pe=0,Hr=0,$s=0,Ld=0,In=0,Qa=0,wl=null,yn=null,Ud=!1,Ic=0,M_=0,xc=1/0,Dc=null,Fr=null,ze=0,Gr=null,Ya=null,or=0,zd=0,jd=null,V_=null,Rl=0,Bd=null;function xn(){return(Kt&2)!==0&&kt!==0?kt&-kt:Y.T!==null?Yd():Nu()}function k_(){if(In===0)if((kt&536870912)===0||jt){var e=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),In=e}else In=536870912;return e=wn.current,e!==null&&(e.flags|=32),In}function _n(e,i,a){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Qr(e,kt,In,!1)),As(e,a),((Kt&2)===0||e!==re)&&(e===re&&((Kt&2)===0&&($s|=a),pe===4&&Qr(e,kt,In,!1)),ki(e))}function P_(e,i,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Jn(e,i),h=l?s1(e,i):Hd(e,i,!0),d=l;do{if(h===0){Ga&&!l&&Qr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!i1(a)){h=Hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var b=e;h=wl;var O=b.current.memoizedState.isDehydrated;if(O&&(Ka(b,_).flags|=256),_=Hd(b,_,!1),_!==2){if(Pd&&!O){b.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break t}d=yn,yn=h,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(e,0),Qr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,In,!qr);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ic+300-ln(),10<h)){if(Qr(l,i,In,!qr),yi(l,0,!0)!==0)break t;or=i,l.timeoutHandle=dv(L_.bind(null,l,a,yn,Dc,Ud,i,In,$s,Qa,qr,d,"Throttled",-0,0),h);break t}L_(l,a,yn,Dc,Ud,i,In,$s,Qa,qr,d,null,-0,0)}}break}while(!0);ki(e)}function L_(e,i,a,l,h,d,_,b,O,B,$,et,F,K){if(e.timeoutHandle=-1,et=i.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},x_(i,d,et);var mt=(d&62914560)===d?Ic-ln():(d&4194048)===d?M_-ln():0;if(mt=B1(et,mt),mt!==null){or=d,e.cancelPendingCommit=mt(G_.bind(null,e,i,d,a,l,h,_,b,O,$,et,null,F,K)),Qr(e,d,_,!B);return}}G_(e,i,d,a,l,h,_,b,O)}function i1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(e,i,a,l){i&=~Ld,i&=~$s,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ve(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ws(e,a,i)}function Nc(){return(Kt&6)===0?(Cl(0),!1):!0}function qd(){if(Mt!==null){if(Jt===0)var e=Mt.return;else e=Mt,$i=Bs=null,rd(e),Ua=null,ul=0,e=Mt;for(;e!==null;)m_(e.alternate,e),e=e.return;Mt=null}}function Ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),or=0,qd(),re=e,Mt=a=Ki(e.current,null),kt=i,Jt=0,Cn=null,qr=!1,Ga=Jn(e,i),Pd=!1,Qa=In=Ld=$s=Hr=pe=0,yn=wl=null,Ud=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ve(l),d=1<<h;i|=e[h],l&=~d}return ar=i,Wu(),a}function U_(e,i){xt=null,Y.H=yl,i===La||i===ac?(i=ty(),Jt=3):i===Qf?(i=ty(),Jt=4):Jt=i===Ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Mt===null&&(pe=1,Ec(e,qn(i,e.current)))}function z_(){var e=wn.current;return e===null?!0:(kt&4194048)===kt?Qn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Qn:!1}function j_(){var e=Y.H;return Y.H=yl,e===null?yl:e}function B_(){var e=Y.A;return Y.A=e1,e}function Oc(){pe=4,qr||(kt&4194048)!==kt&&wn.current!==null||(Ga=!0),(Hr&134217727)===0&&($s&134217727)===0||re===null||Qr(re,kt,In,!1)}function Hd(e,i,a){var l=Kt;Kt|=2;var h=j_(),d=B_();(re!==e||kt!==i)&&(Dc=null,Ka(e,i)),i=!1;var _=pe;t:do try{if(Jt!==0&&Mt!==null){var b=Mt,O=Cn;switch(Jt){case 8:qd(),_=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var B=Jt;if(Jt=0,Cn=null,Xa(e,b,O,B),a&&Ga){_=0;break t}break;default:B=Jt,Jt=0,Cn=null,Xa(e,b,O,B)}}r1(),_=pe;break}catch($){U_(e,$)}while(!0);return i&&e.shellSuspendCounter++,$i=Bs=null,Kt=l,Y.H=h,Y.A=d,Mt===null&&(re=null,kt=0,Wu()),_}function r1(){for(;Mt!==null;)q_(Mt)}function s1(e,i){var a=Kt;Kt|=2;var l=j_(),h=B_();re!==e||kt!==i?(Dc=null,xc=ln()+500,Ka(e,i)):Ga=Jn(e,i);t:do try{if(Jt!==0&&Mt!==null){i=Mt;var d=Cn;e:switch(Jt){case 1:Jt=0,Cn=null,Xa(e,i,d,1);break;case 2:case 9:if(Wg(d)){Jt=0,Cn=null,H_(i);break}i=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),ki(e)},d.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Wg(d)?(Jt=0,Cn=null,H_(i)):(Jt=0,Cn=null,Xa(e,i,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var b=Mt;if(_?Iv(_):b.stateNode.complete){Jt=0,Cn=null;var O=b.sibling;if(O!==null)Mt=O;else{var B=b.return;B!==null?(Mt=B,Mc(B)):Mt=null}break e}}Jt=0,Cn=null,Xa(e,i,d,5);break;case 6:Jt=0,Cn=null,Xa(e,i,d,6);break;case 8:qd(),pe=6;break t;default:throw Error(s(462))}}a1();break}catch($){U_(e,$)}while(!0);return $i=Bs=null,Y.H=l,Y.A=h,Kt=a,Mt!==null?0:(re=null,kt=0,Wu(),pe)}function a1(){for(;Mt!==null&&!vf();)q_(Mt)}function q_(e){var i=f_(e.alternate,e,ar);e.memoizedProps=e.pendingProps,i===null?Mc(e):Mt=i}function H_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=a_(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=a_(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:rd(i);default:m_(a,i),i=Mt=Bg(i,ar),i=f_(a,i,ar)}e.memoizedProps=e.pendingProps,i===null?Mc(e):Mt=i}function Xa(e,i,a,l){$i=Bs=null,rd(i),Ua=null,ul=0;var h=i.return;try{if(KS(e,h,i,a,kt)){pe=1,Ec(e,qn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;pe=1,Ec(e,qn(a,e.current)),Mt=null;return}i.flags&32768?(jt||l===1?e=!0:Ga||(kt&536870912)!==0?e=!1:(qr=e=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),F_(i,e)):Mc(i)}function Mc(e){var i=e;do{if((i.flags&32768)!==0){F_(i,qr);return}e=i.return;var a=JS(i.alternate,i,ar);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);pe===0&&(pe=5)}function F_(e,i){do{var a=WS(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);pe=6,Mt=null}function G_(e,i,a,l,h,d,_,b,O){e.cancelPendingCommit=null;do Vc();while(ze!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Nf,bf(e,a,d,_,b,O),e===re&&(Mt=re=null,kt=0),Ya=i,Gr=e,or=a,zd=d,jd=h,V_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,c1(br,function(){return $_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=st.p,st.p=2,_=Kt,Kt|=4;try{ZS(e,i,a)}finally{Kt=_,st.p=h,Y.T=l}}ze=1,Q_(),Y_(),K_()}}function Q_(){if(ze===1){ze=0;var e=Gr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Kt;Kt|=4;try{R_(i,e);var d=em,_=Og(e.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Ng(b.ownerDocument.documentElement,b)){if(O!==null&&Rf(b)){var B=O.start,$=O.end;if($===void 0&&($=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min($,b.value.length);else{var et=b.ownerDocument||document,F=et&&et.defaultView||window;if(F.getSelection){var K=F.getSelection(),mt=b.textContent.length,Et=Math.min(O.start,mt),ne=O.end===void 0?Et:Math.min(O.end,mt);!K.extend&&Et>ne&&(_=ne,ne=Et,Et=_);var U=Dg(b,Et),V=Dg(b,ne);if(U&&V&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var j=et.createRange();j.setStart(U.node,U.offset),K.removeAllRanges(),Et>ne?(K.addRange(j),K.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),K.addRange(j))}}}}for(et=[],K=b;K=K.parentNode;)K.nodeType===1&&et.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<et.length;b++){var tt=et[b];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Qc=!!tm,em=tm=null}finally{Kt=h,st.p=l,Y.T=a}}e.current=i,ze=2}}function Y_(){if(ze===2){ze=0;var e=Gr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Kt;Kt|=4;try{T_(e,i.alternate,i)}finally{Kt=h,st.p=l,Y.T=a}}ze=3}}function K_(){if(ze===4||ze===3){ze=0,Au();var e=Gr,i=Ya,a=or,l=V_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Ya=Gr=null,X_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fr=null),Fi(a),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=st.p,st.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,st.p=h}}(or&3)!==0&&Vc(),ki(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Bd?Rl++:(Rl=0,Bd=e):Rl=0,Cl(0)}}function X_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ol(i)))}function Vc(){return Q_(),Y_(),K_(),$_()}function $_(){if(ze!==5)return!1;var e=Gr,i=zd;zd=0;var a=Fi(or),l=Y.T,h=st.p;try{st.p=32>a?32:a,Y.T=null,a=jd,jd=null;var d=Gr,_=or;if(ze=0,Ya=Gr=null,or=0,(Kt&6)!==0)throw Error(s(331));var b=Kt;if(Kt|=4,N_(d.current),I_(d,d.current,_,a),Kt=b,Cl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{st.p=h,Y.T=l,X_(e,i)}}function J_(e,i,a){i=qn(a,i),i=vd(e.stateNode,i,2),e=Ur(e,i,2),e!==null&&(As(e,2),ki(e))}function Wt(e,i,a){if(e.tag===3)J_(e,e,a);else for(;i!==null;){if(i.tag===3){J_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){e=qn(a,e),a=Wy(2),l=Ur(i,a,2),l!==null&&(Zy(a,l,i,e),As(l,2),ki(l));break}}i=i.return}}function Fd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new n1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Pd=!0,h.add(a),e=o1.bind(null,e,i,a),i.then(e,e))}function o1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(kt&a)===a&&(pe===4||pe===3&&(kt&62914560)===kt&&300>ln()-Ic?(Kt&2)===0&&Ka(e,0):Ld|=a,Qa===kt&&(Qa=0)),ki(e)}function W_(e,i){i===0&&(i=Du()),e=Us(e,i),e!==null&&(As(e,i),ki(e))}function l1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),W_(e,a)}function u1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),W_(e,a)}function c1(e,i){return Ue(e,i)}var kc=null,$a=null,Gd=!1,Pc=!1,Qd=!1,Yr=0;function ki(e){e!==$a&&e.next===null&&($a===null?kc=$a=e:$a=$a.next=e),Pc=!0,Gd||(Gd=!0,f1())}function Cl(e,i){if(!Qd&&Pc){Qd=!0;do for(var a=!1,l=kc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ve(42|e)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,nv(l,d))}else d=kt,d=yi(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jn(l,d)||(a=!0,nv(l,d));l=l.next}while(a);Qd=!1}}function h1(){Z_()}function Z_(){Pc=Gd=!1;var e=0;Yr!==0&&b1()&&(e=Yr);for(var i=ln(),a=null,l=kc;l!==null;){var h=l.next,d=tv(l,i);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&($a=a)):(a=l,(e!==0||(d&3)!==0)&&(Pc=!0)),l=h}ze!==0&&ze!==5||Cl(e),Yr!==0&&(Yr=0)}function tv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ve(d),b=1<<_,O=h[_];O===-1?((b&a)===0||(b&l)!==0)&&(h[_]=Tf(b,i)):O<=i&&(e.expiredLanes|=b),d&=~b}if(i=re,a=kt,a=yi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Tr(l),Fi(a)){case 2:case 8:a=Lo;break;case 32:a=br;break;case 268435456:a=wu;break;default:a=br}return l=ev.bind(null,e),a=Ue(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Tr(l),e.callbackPriority=2,e.callbackNode=null,2}function ev(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vc()&&e.callbackNode!==a)return null;var l=kt;return l=yi(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(P_(e,l,i),tv(e,ln()),e.callbackNode!=null&&e.callbackNode===a?ev.bind(null,e):null)}function nv(e,i){if(Vc())return null;P_(e,i,!0)}function f1(){A1(function(){(Kt&6)!==0?Ue(Po,h1):Z_()})}function Yd(){if(Yr===0){var e=ka;e===0&&(e=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Yr=e}return Yr}function iv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ea(""+e)}function rv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function d1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=iv((h[qe]||null).action),_=l.submitter;_&&(i=(i=_[qe]||null)?iv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ii("action","action",null,l,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var O=_?rv(h,_):new FormData(h);dd(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?rv(h,_):new FormData(h),dd(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Kd=0;Kd<Df.length;Kd++){var Xd=Df[Kd],m1=Xd.toLowerCase(),p1=Xd[0].toUpperCase()+Xd.slice(1);si(m1,"on"+p1)}si(kg,"onAnimationEnd"),si(Pg,"onAnimationIteration"),si(Lg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(NS,"onTransitionRun"),si(OS,"onTransitionStart"),si(MS,"onTransitionCancel"),si(Ug,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function sv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,B=b.currentTarget;if(b=b.listener,O!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=B;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,B=b.currentTarget,b=b.listener,O!==d&&h.isPropagationStopped())break t;d=b,h.currentTarget=B;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=O}}}}function Vt(e,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var l=e+"__bubble";a.has(l)||(av(i,e,2,!1),a.add(l))}function $d(e,i,a){var l=0;i&&(l|=4),av(a,e,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Jd(e){if(!e[Lc]){e[Lc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(g1.has(a)||$d(a,!1,e),$d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,$d("selectionchange",!1,i))}}function av(e,i,a,l){switch(kv(i)){case 2:var h=F1;break;case 8:h=G1;break;default:h=fm}a=h.bind(null,i,a,e),h=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Wd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Ti(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue t}b=b.parentNode}}l=l.return}Ir(function(){var B=d,$=Un(a),et=[];t:{var F=zg.get(e);if(F!==void 0){var K=Ii,mt=e;switch(e){case"keypress":if(Os(a)===0)break t;case"keydown":case"keyup":K=Ku;break;case"focusin":mt="focus",K=Vs;break;case"focusout":mt="blur",K=Vs;break;case"beforeblur":case"afterblur":K=Vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case kg:case Pg:case Lg:K=Bu;break;case Ug:K=A;break;case"scroll":case"scrollend":K=Wo;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Yi;break;case"toggle":case"beforetoggle":K=It}var Et=(i&4)!==0,ne=!Et&&(e==="scroll"||e==="scrollend"),U=Et?F!==null?F+"Capture":null:F;Et=[];for(var V=B,j;V!==null;){var tt=V;if(j=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||j===null||U===null||(tt=ei(V,U),tt!=null&&Et.push(xl(V,tt,j))),ne)break;V=V.return}0<Et.length&&(F=new K(F,mt,null,a,$),et.push({event:F,listeners:Et}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",F&&a!==Xo&&(mt=a.relatedTarget||a.fromElement)&&(Ti(mt)||mt[vi]))break t;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(mt=a.relatedTarget||a.toElement,K=B,mt=mt?Ti(mt):null,mt!==null&&(ne=u(mt),Et=mt.tag,mt!==ne||Et!==5&&Et!==27&&Et!==6)&&(mt=null)):(K=null,mt=B),K!==mt)){if(Et=Zo,tt="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Yi,tt="onPointerLeave",U="onPointerEnter",V="pointer"),ne=K==null?F:Tn(K),j=mt==null?F:Tn(mt),F=new Et(tt,V+"leave",K,a,$),F.target=ne,F.relatedTarget=j,tt=null,Ti($)===B&&(Et=new Et(U,V+"enter",mt,a,$),Et.target=j,Et.relatedTarget=ne,tt=Et),ne=tt,K&&mt)e:{for(Et=y1,U=K,V=mt,j=0,tt=U;tt;tt=Et(tt))j++;tt=0;for(var _t=V;_t;_t=Et(_t))tt++;for(;0<j-tt;)U=Et(U),j--;for(;0<tt-j;)V=Et(V),tt--;for(;j--;){if(U===V||V!==null&&U===V.alternate){Et=U;break e}U=Et(U),V=Et(V)}Et=null}else Et=null;K!==null&&ov(et,F,K,Et,!1),mt!==null&&ne!==null&&ov(et,ne,mt,Et,!0)}}t:{if(F=B?Tn(B):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Gt=Ag;else if(bg(F))if(wg)Gt=IS;else{Gt=RS;var pt=wS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&va(B.elementType)&&(Gt=Ag):Gt=CS;if(Gt&&(Gt=Gt(e,B))){Sg(et,Gt,a,$);break t}pt&&pt(e,F,B),e==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Qo(F,"number",F.value)}switch(pt=B?Tn(B):window,e){case"focusin":(bg(pt)||pt.contentEditable==="true")&&(Ca=pt,Cf=B,rl=null);break;case"focusout":rl=Cf=Ca=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Mg(et,a,$);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":Mg(et,a,$)}var Nt;if(Yt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ra?ks(e,a)&&(Pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ni&&a.locale!=="ko"&&(Ra||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ra&&(Nt=Jo()):(Ci=$,$o="value"in Ci?Ci.value:Ci.textContent,Ra=!0)),pt=Uc(B,Pt),0<pt.length&&(Pt=new Di(Pt,e,null,a,$),et.push({event:Pt,listeners:pt}),Nt?Pt.data=Nt:(Nt=wa(a),Nt!==null&&(Pt.data=Nt)))),(Nt=jn?TS(e,a):bS(e,a))&&(Pt=Uc(B,"onBeforeInput"),0<Pt.length&&(pt=new Di("onBeforeInput","beforeinput",null,a,$),et.push({event:pt,listeners:Pt}),pt.data=Nt)),d1(et,e,B,a,$)}sv(et,i)})}function xl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Uc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ei(e,a),h!=null&&l.unshift(xl(e,h,d)),h=ei(e,i),h!=null&&l.push(xl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function y1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ov(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,B=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||B===null||(O=B,h?(B=ei(a,d),B!=null&&_.unshift(xl(a,B,O))):h||(B=ei(a,d),B!=null&&_.push(xl(a,B,O)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var _1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function lv(e){return(typeof e=="string"?e:""+e).replace(_1,`
`).replace(v1,"")}function uv(e,i){return i=lv(i),lv(e)===i}function ee(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(e,""+l);break;case"className":bn(e,"class",l);break;case"tabIndex":bn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,a,l);break;case"style":Ko(e,l,d);break;case"data":if(i!=="object"){bn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ti);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ya(e,"popover",l);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uu.get(a)||a,ya(e,a,l))}}function Zd(e,i,a,l,h,d){switch(a){case"style":Ko(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[qe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ya(e,a,l)}}}function We(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,d,_,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var b=d=_=h=null,O=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":O=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ee(e,i,l,$,a,null)}}ku(e,d,b,O,B,_,h,!1);return;case"select":Vt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:ee(e,i,h,b,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Ar(e,!!l,i,!1):a!=null&&Ar(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ee(e,i,_,b,a,null)}wr(e,l,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ee(e,i,O,l,a,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Il.length;l++)Vt(Il[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,B,l,a,null)}return;default:if(va(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Zd(e,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ee(e,i,b,l,a,null))}function E1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,O=null,B=null,$=null;for(K in a){var et=a[K];if(a.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=et;default:l.hasOwnProperty(K)||ee(e,i,K,null,l,et)}}for(var F in l){var K=l[F];if(et=a[F],l.hasOwnProperty(F)&&(K!=null||et!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==et&&ee(e,i,F,K,l,et)}}_a(e,_,b,O,B,$,d,h);return;case"select":K=_=b=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&ee(e,i,h,d,l,O)}i=b,a=_,l=K,F!=null?Ar(e,!!a,F,!1):!!l!=!!a&&(i!=null?Ar(e,!!a,i,!0):Ar(e,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ee(e,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ee(e,i,_,h,l,d)}Pu(e,F,K);return;case"option":for(var mt in a)F=a[mt],a.hasOwnProperty(mt)&&F!=null&&!l.hasOwnProperty(mt)&&(mt==="selected"?e.selected=!1:ee(e,i,mt,null,l,F));for(O in l)F=l[O],K=a[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null)&&(O==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":ee(e,i,O,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)F=a[Et],a.hasOwnProperty(Et)&&F!=null&&!l.hasOwnProperty(Et)&&ee(e,i,Et,null,l,F);for(B in l)if(F=l[B],K=a[B],l.hasOwnProperty(B)&&F!==K&&(F!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:ee(e,i,B,F,l,K)}return;default:if(va(i)){for(var ne in a)F=a[ne],a.hasOwnProperty(ne)&&F!==void 0&&!l.hasOwnProperty(ne)&&Zd(e,i,ne,void 0,l,F);for($ in l)F=l[$],K=a[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||Zd(e,i,$,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&ee(e,i,U,null,l,F);for(et in l)F=l[et],K=a[et],!l.hasOwnProperty(et)||F===K||F==null&&K==null||ee(e,i,et,F,l,K)}function cv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&cv(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],B=O.startTime;if(B>b)break;var $=O.transferSize,et=O.initiatorType;$&&cv(et)&&(O=O.responseEnd,_+=$*(O<b?1:(b-B)/(O-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var tm=null,em=null;function zc(e){return e.nodeType===9?e:e.ownerDocument}function hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function nm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function b1(){var e=window.event;return e&&e.type==="popstate"?e===im?!1:(im=e,!0):(im=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(e){return mv.resolve(null).then(e).catch(w1)}:dv;function w1(e){setTimeout(function(){throw e})}function Kr(e){return e==="head"}function pv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Dl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Dl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Ei]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Dl(e.ownerDocument.body);a=h}while(a);to(i)}function gv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function rm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function R1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ei])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function C1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function yv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Yn(e.nextSibling),e===null))return null;return e}function sm(e){return e.data==="$?"||e.data==="$~"}function am(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var om=null;function _v(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Yn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function vv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Ev(e,i,a){switch(i=zc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Dl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ga(e)}var Kn=new Map,Tv=new Set;function jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var lr=st.d;st.d={f:x1,r:D1,D:N1,C:O1,L:M1,m:V1,X:P1,S:k1,M:L1};function x1(){var e=lr.f(),i=Nc();return e||i}function D1(e){var i=Ln(e);i!==null&&i.tag===5&&i.type==="form"?Uy(i):lr.r(e)}var Ja=typeof document>"u"?null:document;function bv(e,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=fn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Tv.has(h)||(Tv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),We(i,"link",e),Ce(i),l.head.appendChild(i)))}}function N1(e){lr.D(e),bv("dns-prefetch",e,null)}function O1(e,i){lr.C(e,i),bv("preconnect",e,i)}function M1(e,i,a){lr.L(e,i,a);var l=Ja;if(l&&e&&i){var h='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+fn(a.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var d=h;switch(i){case"style":d=Wa(e);break;case"script":d=Za(e)}Kn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Kn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),We(i,"link",e),Ce(i),l.head.appendChild(i)))}}function V1(e,i){lr.m(e,i);var a=Ja;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(e)}if(!Kn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),We(l,"link",e),Ce(l),a.head.appendChild(l)}}}function k1(e,i,a){lr.S(e,i,a);var l=Ja;if(l&&e){var h=bi(l).hoistableStyles,d=Wa(e);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Nl(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Kn.get(d))&&lm(e,a);var O=_=l.createElement("link");Ce(O),We(O,"link",e),O._p=new Promise(function(B,$){O.onload=B,O.onerror=$}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function P1(e,i){lr.X(e,i);var a=Ja;if(a&&e){var l=bi(a).hoistableScripts,h=Za(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=T({src:e,async:!0},i),(i=Kn.get(h))&&um(e,i),d=a.createElement("script"),Ce(d),We(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function L1(e,i){lr.M(e,i);var a=Ja;if(a&&e){var l=bi(a).hoistableScripts,h=Za(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Kn.get(h))&&um(e,i),d=a.createElement("script"),Ce(d),We(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Sv(e,i,a,l){var h=(h=Dt.current)?jc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=bi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wa(a.href);var d=bi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Nl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(e,a),d||U1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=bi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Wa(e){return'href="'+fn(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function Av(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function U1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),We(i,"link",a),Ce(i),e.head.appendChild(i))}function Za(e){return'[src="'+fn(e)+'"]'}function Ol(e){return"script[async]"+e}function wv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,Ce(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ce(l),We(l,"style",h),Bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Wa(a.href);var d=e.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,Ce(d),d;l=Av(a),(h=Kn.get(h))&&lm(l,h),d=(e.ownerDocument||e).createElement("link"),Ce(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),We(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,e),i.instance=d;case"script":return d=Za(a.src),(h=e.querySelector(Ol(d)))?(i.instance=h,Ce(h),h):(l=a,(h=Kn.get(d))&&(l=T({},a),um(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),We(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,e));return i.instance}function Bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function um(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var qc=null;function Rv(e,i,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ei]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Cv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function z1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Iv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function j1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(Nl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Hc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ce(d);return}d=i.ownerDocument||i,l=Av(l),(h=Kn.get(h))&&lm(l,h),d=d.createElement("link"),Ce(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),We(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Hc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var cm=0;function B1(e,i){return e.stylesheets&&e.count===0&&Gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&cm===0&&(cm=62500*T1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>cm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Gc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,i.forEach(q1,e),Fc=null,Hc.call(e))}function q1(e,i){if(!(i.state.loading&4)){var a=Fc.get(e);if(a)var l=a.get(null);else{a=new Map,Fc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ml={$$typeof:W,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function H1(e,i,a,l,h,d,_,b,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function xv(e,i,a,l,h,d,_,b,O,B,$,et){return e=new H1(e,i,a,_,O,B,$,et,b),i=1,d===!0&&(i|=24),d=An(3,null,null,i),e.current=d,d.stateNode=e,i=Hf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Yf(d),e}function Dv(e){return e?(e=Da,e):Da}function Nv(e,i,a,l,h,d){h=Dv(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(e,l,i),a!==null&&(_n(a,e,i),hl(a,e,i))}function Ov(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function hm(e,i){Ov(e,i),(e=e.alternate)&&Ov(e,i)}function Mv(e){if(e.tag===13||e.tag===31){var i=Us(e,67108864);i!==null&&_n(i,e,67108864),hm(e,67108864)}}function Vv(e){if(e.tag===13||e.tag===31){var i=xn();i=Rs(i);var a=Us(e,i);a!==null&&_n(a,e,i),hm(e,i)}}var Qc=!0;function F1(e,i,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=2,fm(e,i,a,l)}finally{st.p=d,Y.T=h}}function G1(e,i,a,l){var h=Y.T;Y.T=null;var d=st.p;try{st.p=8,fm(e,i,a,l)}finally{st.p=d,Y.T=h}}function fm(e,i,a,l){if(Qc){var h=dm(l);if(h===null)Wd(e,i,l,Yc,a),Pv(e,l);else if(Y1(h,e,i,a,l))l.stopPropagation();else if(Pv(e,l),i&4&&-1<Q1.indexOf(e)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-ve(_);b.entanglements[1]|=O,_&=~O}ki(d),(Kt&6)===0&&(xc=ln()+500,Cl(0))}}break;case 31:case 13:b=Us(d,2),b!==null&&_n(b,d,2),Nc(),hm(d,2)}if(d=dm(l),d===null&&Wd(e,i,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wd(e,i,l,null,a)}}function dm(e){return e=Un(e),mm(e)}var Yc=null;function mm(e){if(Yc=null,e=Ti(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Yc=e,null}function kv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Po:return 2;case Lo:return 8;case br:case Ef:return 32;case wu:return 268435456;default:return 32}default:return 32}}var pm=!1,Xr=null,$r=null,Jr=null,Vl=new Map,kl=new Map,Wr=[],Q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pv(e,i){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Pl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ln(i),i!==null&&Mv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Y1(e,i,a,l,h){switch(i){case"focusin":return Xr=Pl(Xr,e,i,a,l,h),!0;case"dragenter":return $r=Pl($r,e,i,a,l,h),!0;case"mouseover":return Jr=Pl(Jr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Pl(Vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Pl(kl.get(d)||null,e,i,a,l,h)),!0}return!1}function Lv(e){var i=Ti(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Wn(e.priority,function(){Vv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Wn(e.priority,function(){Vv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=dm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=Ln(a),i!==null&&Mv(i),e.blockedOn=a,!1;i.shift()}return!0}function Uv(e,i,a){Kc(e)&&a.delete(i)}function K1(){pm=!1,Xr!==null&&Kc(Xr)&&(Xr=null),$r!==null&&Kc($r)&&($r=null),Jr!==null&&Kc(Jr)&&(Jr=null),Vl.forEach(Uv),kl.forEach(Uv)}function Xc(e,i){e.blockedOn===i&&(e.blockedOn=null,pm||(pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,K1)))}var $c=null;function zv(e){$c!==e&&($c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===e&&($c=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(mm(l||a)===null)continue;break}var d=Ln(a);d!==null&&(e.splice(i,3),i-=3,dd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(e){function i(O){return Xc(O,e)}Xr!==null&&Xc(Xr,e),$r!==null&&Xc($r,e),Jr!==null&&Xc(Jr,e),Vl.forEach(i),kl.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&Wr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[qe]||null;if(typeof d=="function")_||zv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[qe]||null)b=_.formAction;else if(mm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),zv(a)}}}function jv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function gm(e){this._internalRoot=e}Jc.prototype.render=gm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();Nv(a,l,e,i,null,null)},Jc.prototype.unmount=gm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Nv(e.current,2,null,e,null,null),Nc(),i[vi]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Nu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,e),a===0&&Lv(e)}};var Bv=t.version;if(Bv!=="19.2.3")throw Error(s(527,Bv,"19.2.3"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var X1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{$n=Wc.inject(X1),Ye=Wc}catch{}}return Ul.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ky,d=Xy,_=$y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=xv(e,1,!1,null,null,a,l,null,h,d,_,jv),e[vi]=i.current,Jd(e),new gm(i)},Ul.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ky,_=Xy,b=$y,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=xv(e,1,!0,i,a??null,l,h,O,d,_,b,jv),i.context=Dv(null),a=i.current,l=xn(),l=Rs(l),h=Lr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,As(i,a),ki(i),e[vi]=i.current,Jd(e),new Jc(i)},Ul.version="19.2.3",Ul}var Jv;function aA(){if(Jv)return vm.exports;Jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vm.exports=sA(),vm.exports}var oA=aA();var Wv="popstate";function lA(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Bm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return cA(t,n,null,r)}function fe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Xn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uA(){return Math.random().toString(36).substring(2,10)}function Zv(r,t){return{usr:r.state,key:r.key,idx:t}}function Bm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?To(t):t,state:n,key:t&&t.key||s||uA()}}function Wl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function To(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function cA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),J=q==null?null:q-y;y=q,p&&p({action:m,location:G.location,delta:J})}function R(q,J){m="PUSH";let X=Bm(G.location,q,J);y=E()+1;let W=Zv(X,y),rt=G.createHref(X);try{f.pushState(W,"",rt)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(rt)}u&&p&&p({action:m,location:G.location,delta:1})}function L(q,J){m="REPLACE";let X=Bm(G.location,q,J);y=E();let W=Zv(X,y),rt=G.createHref(X);f.replaceState(W,"",rt),u&&p&&p({action:m,location:G.location,delta:0})}function H(q){return hA(q)}let G={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,T),p=q,()=>{o.removeEventListener(Wv,T),p=null}},createHref(q){return t(o,q)},createURL:H,encodeLocation(q){let J=H(q);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:L,go(q){return f.go(q)}};return G}function hA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ME(r,t,n="/"){return fA(r,t,n,!1)}function fA(r,t,n,s){let o=typeof t=="string"?To(t):t,u=mr(o.pathname||"/",n);if(u==null)return null;let f=VE(r);dA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=AA(u);m=bA(f[p],y,s)}return m}function VE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;fe(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=dr([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(fe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VE(f.children,t,R,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:EA(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of kE(f.path))u(f,m,!0,p)}),t}function kE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function dA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:TA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var mA=/^:[\w-]+$/,pA=3,gA=2,yA=1,_A=10,vA=-2,t0=r=>r==="*";function EA(r,t){let n=r.split("/"),s=n.length;return n.some(t0)&&(s+=vA),t&&(s+=gA),n.filter(o=>!t0(o)).reduce((o,u)=>o+(mA.test(u)?pA:u===""?yA:_A),s)}function TA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function bA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:dr([u,T.pathname]),pathnameBase:IA(dr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=dr([u,T.pathnameBase]))}return f}function Eh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=SA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},R)=>{if(E==="*"){let H=m[R]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const L=m[R];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function SA(r,t=!1,n=!0){Xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function AA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function mr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wA=r=>PE.test(r);function RA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?To(r):r,u;if(n)if(wA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=e0(n.substring(1),"/"):u=e0(n,t)}else u=t;return{pathname:u,search:xA(s),hash:DA(o)}}function e0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pp(r){let t=CA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function gp(r,t,n,s=!1){let o;typeof r=="string"?o=To(r):(o={...r},fe(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),fe(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),fe(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?t[T]:"/"}let p=RA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var dr=r=>r.join("/").replace(/\/\/+/g,"/"),IA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,DA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,NA=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function OA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function MA(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function UE(r,t){let n=r;if(typeof n!="string"||!PE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(LE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=mr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Xn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zE=["POST","PUT","PATCH","DELETE"];new Set(zE);var VA=["GET",...zE];new Set(VA);var bo=k.createContext(null);bo.displayName="DataRouter";var Hh=k.createContext(null);Hh.displayName="DataRouterState";var kA=k.createContext(!1),jE=k.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var PA=k.createContext(new Map);PA.displayName="Fetchers";var LA=k.createContext(null);LA.displayName="Await";var kn=k.createContext(null);kn.displayName="Navigation";var lu=k.createContext(null);lu.displayName="Location";var di=k.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var yp=k.createContext(null);yp.displayName="RouteError";var BE="REACT_ROUTER_ERROR",UA="REDIRECT",zA="ROUTE_ERROR_RESPONSE";function jA(r){if(r.startsWith(`${BE}:${UA}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function BA(r){if(r.startsWith(`${BE}:${zA}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new NA(t.status,t.statusText,t.data)}catch{}}function qA(r,{relative:t}={}){fe(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(kn),{hash:o,pathname:u,search:f}=uu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return k.useContext(lu)!=null}function ys(){return fe(So(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(lu).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HE(r){k.useContext(kn).static||k.useLayoutEffect(r)}function Ao(){let{isDataRoute:r}=k.useContext(di);return r?nw():HA()}function HA(){fe(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(bo),{basename:t,navigator:n}=k.useContext(kn),{matches:s}=k.useContext(di),{pathname:o}=ys(),u=JSON.stringify(pp(s)),f=k.useRef(!1);return HE(()=>{f.current=!0}),k.useCallback((p,y={})=>{if(Xn(f.current,qE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=gp(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:dr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}k.createContext(null);function FA(){let{matches:r}=k.useContext(di),t=r[r.length-1];return t?t.params:{}}function uu(r,{relative:t}={}){let{matches:n}=k.useContext(di),{pathname:s}=ys(),o=JSON.stringify(pp(n));return k.useMemo(()=>gp(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function GA(r,t){return FE(r,t)}function FE(r,t,n,s,o){fe(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(kn),{matches:f}=k.useContext(di),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";QE(y,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=ys(),L;if(t){let X=typeof t=="string"?To(t):t;fe(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),L=X}else L=R;let H=L.pathname||"/",G=H;if(E!=="/"){let X=E.replace(/^\//,"").split("/");G="/"+H.replace(/^\//,"").split("/").slice(X.length).join("/")}let q=ME(r,{pathname:G});Xn(T||q!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Xn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=$A(q&&q.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:dr([E,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:dr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,o);return t&&J?k.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},J):J}function QA(){let r=ew(),t=OA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:o},n):null,f)}var YA=k.createElement(QA,null),GE=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=BA(r.digest);n&&(r=n)}let t=r!==void 0?k.createElement(di.Provider,{value:this.props.routeContext},k.createElement(yp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?k.createElement(KA,{error:r},t):t}};GE.contextType=kA;var Am=new WeakMap;function KA({children:r,error:t}){let{basename:n}=k.useContext(kn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=jA(t.digest);if(s){let o=Am.get(t);if(o)throw o;let u=UE(s.location,n);if(LE&&!Am.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(t,f),f}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function XA({routeContext:r,match:t,children:n}){let s=k.useContext(bo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(di.Provider,{value:r},n)}function $A(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);fe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:R,errors:L}=n,H=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!L||L[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:MA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let L,H=!1,G=null,q=null;n&&(L=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||YA,m&&(p<0&&R===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,q=null):p===R&&(H=!0,q=T.route.hydrateFallbackElement||null)));let J=t.concat(u.slice(0,R+1)),X=()=>{let W;return L?W=G:H?W=q:T.route.Component?W=k.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=E,k.createElement(XA,{match:T,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:W})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?k.createElement(GE,{location:n.location,revalidation:n.revalidation,component:G,error:L,children:X(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):X()},null)}function _p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JA(r){let t=k.useContext(bo);return fe(t,_p(r)),t}function WA(r){let t=k.useContext(Hh);return fe(t,_p(r)),t}function ZA(r){let t=k.useContext(di);return fe(t,_p(r)),t}function vp(r){let t=ZA(r),n=t.matches[t.matches.length-1];return fe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function tw(){return vp("useRouteId")}function ew(){let r=k.useContext(yp),t=WA("useRouteError"),n=vp("useRouteError");return r!==void 0?r:t.errors?.[n]}function nw(){let{router:r}=JA("useNavigate"),t=vp("useNavigate"),n=k.useRef(!1);return HE(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{Xn(n.current,qE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var n0={};function QE(r,t,n){!t&&!n0[r]&&(n0[r]=!0,Xn(!1,n))}k.memo(iw);function iw({routes:r,future:t,state:n,onError:s}){return FE(r,void 0,n,s,t)}function rw({to:r,replace:t,state:n,relative:s}){fe(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(kn);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(di),{pathname:f}=ys(),m=Ao(),p=gp(r,pp(u),f,s==="path"),y=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function eo(r){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){fe(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=To(n));let{pathname:y="/",search:E="",hash:T="",state:R=null,key:L="default"}=n,H=k.useMemo(()=>{let G=mr(y,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:R,key:L},navigationType:s}},[m,y,E,T,R,L,s]);return Xn(H!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:k.createElement(kn.Provider,{value:p},k.createElement(lu.Provider,{children:t,value:H}))}function aw({children:r,location:t}){return GA(qm(r),t)}function qm(r,t=[]){let n=[];return k.Children.forEach(r,(s,o)=>{if(!k.isValidElement(s))return;let u=[...t,o];if(s.type===k.Fragment){n.push.apply(n,qm(s.props.children,u));return}fe(s.type===eo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=qm(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function Fh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function ow(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function lw(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function uw(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function cw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hw(r,t){return r.button===0&&(!t||t==="_self")&&!cw(r)}var Zc=null;function fw(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wm(r){return r!=null&&!dw.has(r)?(Xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function mw(r,t){let n,s,o,u,f;if(lw(r)){let m=r.getAttribute("action");s=m?mr(m,t):null,n=r.getAttribute("method")||ah,o=wm(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(ow(r)||uw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?mr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=wm(r.getAttribute("formenctype"))||wm(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!fw()){let{name:y,type:E,value:T}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,T)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function pw(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&mr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function gw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _w(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await gw(u,n);return f.links?f.links():[]}return[]}));return bw(s.flat(1).filter(yw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function i0(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function vw(r,t,{includeHydrateFallback:n}={}){return Ew(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ew(r){return[...new Set(r)]}function Tw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function bw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Tw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function YE(){let r=k.useContext(bo);return Ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sw(){let r=k.useContext(Hh);return Ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Tp=k.createContext(void 0);Tp.displayName="FrameworkContext";function KE(){let r=k.useContext(Tp);return Ep(r,"You must render this element inside a <HydratedRouter> element"),r}function Aw(r,t){let n=k.useContext(Tp),[s,o]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,R=k.useRef(null);k.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=J=>{J.forEach(X=>{f(X.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),k.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let L=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:zl(m,L),onBlur:zl(p,H),onMouseEnter:zl(y,L),onMouseLeave:zl(E,H),onTouchStart:zl(T,L)}]:[!1,R,{}]}function zl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function ww({page:r,...t}){let{router:n}=YE(),s=k.useMemo(()=>ME(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?k.createElement(Cw,{page:r,matches:s,...t}):null}function Rw(r){let{manifest:t,routeModules:n}=KE(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return _w(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Cw({page:r,matches:t,...n}){let s=ys(),{manifest:o,routeModules:u}=KE(),{basename:f}=YE(),{loaderData:m,matches:p}=Sw(),y=k.useMemo(()=>i0(r,t,p,o,s,"data"),[r,t,p,o,s]),E=k.useMemo(()=>i0(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=k.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,G=!1;if(t.forEach(J=>{let X=o.routes[J.route.id];!X||!X.hasLoader||(!y.some(W=>W.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||X.hasClientLoader?G=!0:H.add(J.route.id))}),H.size===0)return[];let q=pw(r,f,"data");return G&&H.size>0&&q.searchParams.set("_routes",t.filter(J=>H.has(J.route.id)).map(J=>J.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,t,r,u]),R=k.useMemo(()=>vw(E,o),[E,o]),L=Rw(E);return k.createElement(k.Fragment,null,T.map(H=>k.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>k.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),L.map(({key:H,link:G})=>k.createElement("link",{key:H,nonce:n.nonce,...G})))}function Iw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xw&&(window.__reactRouterVersion="7.11.0")}catch{}function Dw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=k.useRef();o.current==null&&(o.current=lA({window:s,v5Compat:!0}));let u=o.current,[f,m]=k.useState({action:u.action,location:u.location}),p=k.useCallback(y=>{n===!1?m(y):k.startTransition(()=>m(y))},[n]);return k.useLayoutEffect(()=>u.listen(p),[u,p]),k.createElement(sw,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$E=k.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...L},H){let{basename:G,unstable_useTransitions:q}=k.useContext(kn),J=typeof y=="string"&&XE.test(y),X=UE(y,G);y=X.to;let W=qA(y,{relative:o}),[rt,ot,ft]=Aw(s,L),N=Vw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:R,unstable_useTransitions:q});function S(w){t&&t(w),w.defaultPrevented||N(w)}let C=k.createElement("a",{...L,...ft,href:X.absoluteURL||W,onClick:X.isExternal||u?t:S,ref:Iw(H,ot),target:p,"data-discover":!J&&n==="render"?"true":void 0});return rt&&!J?k.createElement(k.Fragment,null,C,k.createElement(ww,{page:W})):C});$E.displayName="Link";var Nw=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=uu(f,{relative:y.relative}),R=ys(),L=k.useContext(Hh),{navigator:H,basename:G}=k.useContext(kn),q=L!=null&&zw(T)&&m===!0,J=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,X=R.pathname,W=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(X=X.toLowerCase(),W=W?W.toLowerCase():null,J=J.toLowerCase()),W&&G&&(W=mr(W,G)||W);const rt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ot=X===J||!o&&X.startsWith(J)&&X.charAt(rt)==="/",ft=W!=null&&(W===J||!o&&W.startsWith(J)&&W.charAt(J.length)==="/"),N={isActive:ot,isPending:ft,isTransitioning:q},S=ot?t:void 0,C;typeof s=="function"?C=s(N):C=[s,ot?"active":null,ft?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let w=typeof u=="function"?u(N):u;return k.createElement($E,{...y,"aria-current":S,className:C,ref:E,style:w,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Nw.displayName="NavLink";var Ow=k.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...L},H)=>{let{unstable_useTransitions:G}=k.useContext(kn),q=Lw(),J=Uw(m,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&XE.test(m),rt=ot=>{if(p&&p(ot),ot.defaultPrevented)return;ot.preventDefault();let ft=ot.nativeEvent.submitter,N=ft?.getAttribute("formmethod")||f,S=()=>q(ft||ot.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R});G&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:H,method:X,action:J,onSubmit:s?p:rt,...L,"data-discover":!W&&r==="render"?"true":void 0})});Ow.displayName="Form";function Mw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(r){let t=k.useContext(bo);return fe(t,Mw(r)),t}function Vw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=Ao(),E=ys(),T=uu(r,{relative:u});return k.useCallback(R=>{if(hw(R,t)){R.preventDefault();let L=n!==void 0?n:Wl(E)===Wl(T),H=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?k.startTransition(()=>H()):H()}},[E,y,T,n,s,t,r,o,u,f,m,p])}var kw=0,Pw=()=>`__${String(++kw)}__`;function Lw(){let{router:r}=JE("useSubmit"),{basename:t}=k.useContext(kn),n=tw(),s=r.fetch,o=r.navigate;return k.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=mw(u,t);if(f.navigate===!1){let R=f.fetcherKey||Pw();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Uw(r,{relative:t}={}){let{basename:n}=k.useContext(kn),s=k.useContext(di);fe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:t})},f=ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),Wl(u)}function zw(r,{relative:t}={}){let n=k.useContext(jE);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JE("useViewTransitionState"),o=uu(r,{relative:t});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}const jw=()=>{};var r0={};const WE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Bw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(R=64)),s.push(n[E],n[T],n[R],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(WE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Bw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new qw;const R=u<<2|m>>4;if(s.push(R),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const H=y<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(r){const t=WE(r);return ZE.encodeByteArray(t,!0)},Th=function(r){return Hw(r).replace(/\./g,"")},tT=function(r){try{return ZE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Fw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gw=()=>Fw().__FIREBASE_DEFAULTS__,Qw=()=>{if(typeof process>"u"||typeof r0>"u")return;const r=r0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Yw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&tT(r[1]);return t&&JSON.parse(t)},Gh=()=>{try{return jw()||Gw()||Qw()||Yw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eT=r=>Gh()?.emulatorHosts?.[r],Kw=r=>{const t=eT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},nT=()=>Gh()?.config,iT=r=>Gh()?.[`_${r}`];class Xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rT(r){return(await fetch(r,{credentials:"include"})).ok}function $w(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const Gl={};function Jw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?r.emulator.push(t):r.prod.push(t);return r}function Ww(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let s0=!1;function sT(r,t){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Gl[r]===t||Gl[r]||s0)return;Gl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=Jw().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{s0=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=Ww(s),L=n("text"),H=document.getElementById(L)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),J=n("preprendIcon"),X=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const W=R.element;m(W),E(q,G);const rt=y();p(X,J),W.append(X,H,q,rt),document.body.appendChild(W)}u?(H.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function tR(){const r=Gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aR(){try{return typeof indexedDB=="object"}catch{return!1}}function oR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const lR="FirebaseError";class Er extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=lR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?uR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,s)}}function uR(r,t){return r.replace(cR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const cR=/\{\$([^}]+)}/g;function hR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ia(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(a0(u)&&a0(f)){if(!ia(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function a0(r){return r!==null&&typeof r=="object"}function hu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function fR(r,t){const n=new dR(r,t);return n.subscribe.bind(n)}class dR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Rm(){}function Be(r){return r&&r._delegate?r._delegate:r}class ra{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Js="[DEFAULT]";class pR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Xw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yR(t))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Js){return this.instances.has(t)}getOptions(t=Js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Js){return this.component?this.component.multipleInstances?t:Js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gR(r){return r===Js?void 0:r}function yR(r){return r.instantiationMode==="EAGER"}class _R{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new pR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const vR={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},ER=Lt.INFO,TR={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},bR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=TR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=ER,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const SR=(r,t)=>t.some(n=>r instanceof n);let o0,l0;function AR(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wR(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aT=new WeakMap,Hm=new WeakMap,oT=new WeakMap,Cm=new WeakMap,Sp=new WeakMap;function RR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ss(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&aT.set(n,r)}).catch(()=>{}),Sp.set(t,r),t}function CR(r){if(Hm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Hm.set(r,t)}let Fm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Hm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||oT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function IR(r){Fm=r(Fm)}function xR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Im(this),t,...n);return oT.set(s,t.sort?t.sort():[t]),ss(s)}:wR().includes(r)?function(...t){return r.apply(Im(this),t),ss(aT.get(this))}:function(...t){return ss(r.apply(Im(this),t))}}function DR(r){return typeof r=="function"?xR(r):(r instanceof IDBTransaction&&CR(r),SR(r,AR())?new Proxy(r,Fm):r)}function ss(r){if(r instanceof IDBRequest)return RR(r);if(Cm.has(r))return Cm.get(r);const t=DR(r);return t!==r&&(Cm.set(r,t),Sp.set(t,r)),t}const Im=r=>Sp.get(r);function NR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ss(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ss(f.result),p.oldVersion,p.newVersion,ss(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const OR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],xm=new Map;function u0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(xm.get(t))return xm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=MR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return xm.set(t,u),u}IR(r=>({...r,get:(t,n,s)=>u0(t,n)||r.get(t,n,s),has:(t,n)=>!!u0(t,n)||r.has(t,n)}));class VR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kR(r){return r.getComponent()?.type==="VERSION"}const Gm="@firebase/app",c0="0.14.6";const pr=new bp("@firebase/app"),PR="@firebase/app-compat",LR="@firebase/analytics-compat",UR="@firebase/analytics",zR="@firebase/app-check-compat",jR="@firebase/app-check",BR="@firebase/auth",qR="@firebase/auth-compat",HR="@firebase/database",FR="@firebase/data-connect",GR="@firebase/database-compat",QR="@firebase/functions",YR="@firebase/functions-compat",KR="@firebase/installations",XR="@firebase/installations-compat",$R="@firebase/messaging",JR="@firebase/messaging-compat",WR="@firebase/performance",ZR="@firebase/performance-compat",tC="@firebase/remote-config",eC="@firebase/remote-config-compat",nC="@firebase/storage",iC="@firebase/storage-compat",rC="@firebase/firestore",sC="@firebase/ai",aC="@firebase/firestore-compat",oC="firebase",lC="12.6.0";const Qm="[DEFAULT]",uC={[Gm]:"fire-core",[PR]:"fire-core-compat",[UR]:"fire-analytics",[LR]:"fire-analytics-compat",[jR]:"fire-app-check",[zR]:"fire-app-check-compat",[BR]:"fire-auth",[qR]:"fire-auth-compat",[HR]:"fire-rtdb",[FR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[QR]:"fire-fn",[YR]:"fire-fn-compat",[KR]:"fire-iid",[XR]:"fire-iid-compat",[$R]:"fire-fcm",[JR]:"fire-fcm-compat",[WR]:"fire-perf",[ZR]:"fire-perf-compat",[tC]:"fire-rc",[eC]:"fire-rc-compat",[nC]:"fire-gcs",[iC]:"fire-gcs-compat",[rC]:"fire-fst",[aC]:"fire-fst-compat",[sC]:"fire-vertex","fire-js":"fire-js",[oC]:"fire-js-all"};const bh=new Map,cC=new Map,Ym=new Map;function h0(r,t){try{r.container.addComponent(t)}catch(n){pr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const t=r.name;if(Ym.has(t))return pr.debug(`There were multiple attempts to register component ${t}.`),!1;Ym.set(t,r);for(const n of bh.values())h0(n,r);for(const n of cC.values())h0(n,r);return!0}function Ap(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ui(r){return r==null?!1:r.settings!==void 0}const hC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new cu("app","Firebase",hC);class fC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const Ro=lC;function lT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Qm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=nT()),!n)throw as.create("no-options");const u=bh.get(o);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const f=new _R(o);for(const p of Ym.values())f.addComponent(p);const m=new fC(n,s,f);return bh.set(o,m),m}function uT(r=Qm){const t=bh.get(r);if(!t&&r===Qm&&nT())return lT();if(!t)throw as.create("no-app",{appName:r});return t}function os(r,t,n){let s=uC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pr.warn(f.join(" "));return}ho(new ra(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const dC="firebase-heartbeat-database",mC=1,Zl="firebase-heartbeat-store";let Dm=null;function cT(){return Dm||(Dm=NR(dC,mC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function pC(r){try{const n=(await cT()).transaction(Zl),s=await n.objectStore(Zl).get(hT(r));return await n.done,s}catch(t){if(t instanceof Er)pr.warn(t.message);else{const n=as.create("idb-get",{originalErrorMessage:t?.message});pr.warn(n.message)}}}async function f0(r,t){try{const s=(await cT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(t,hT(r)),await s.done}catch(n){if(n instanceof Er)pr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function hT(r){return`${r.name}!${r.options.appId}`}const gC=1024,yC=30;class _C{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>yC){const o=TC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d0(),{heartbeatsToSend:n,unsentEntries:s}=vC(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return pr.warn(t),""}}}function d0(){return new Date().toISOString().substring(0,10)}function vC(r,t=gC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),m0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class EC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aR()?oR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function m0(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function TC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function bC(r){ho(new ra("platform-logger",t=>new VR(t),"PRIVATE")),ho(new ra("heartbeat",t=>new _C(t),"PRIVATE")),os(Gm,c0,r),os(Gm,c0,"esm2020"),os("fire-js","")}bC("");function fT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SC=fT,dT=new cu("auth","Firebase",fT());const Sh=new bp("@firebase/auth");function AC(r,...t){Sh.logLevel<=Lt.WARN&&Sh.warn(`Auth (${Ro}): ${r}`,...t)}function lh(r,...t){Sh.logLevel<=Lt.ERROR&&Sh.error(`Auth (${Ro}): ${r}`,...t)}function qi(r,...t){throw Rp(r,...t)}function hi(r,...t){return Rp(r,...t)}function wp(r,t,n){const s={...SC(),[t]:n};return new cu("auth","Firebase",s).create(t,{appName:r.name})}function ea(r){return wp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wC(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&qi(r,"argument-error"),wp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return dT.create(r,...t)}function bt(r,t,...n){if(!r)throw Rp(t,...n)}function hr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw lh(t),new Error(t)}function gr(r,t){r||hr(t)}function Km(){return typeof self<"u"&&self.location?.href||""}function RC(){return p0()==="http:"||p0()==="https:"}function p0(){return typeof self<"u"&&self.location?.protocol||null}function CC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RC()||nR()||"connection"in navigator)?navigator.onLine:!0}function IC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fu{constructor(t,n){this.shortDelay=t,this.longDelay=n,gr(n>t,"Short delay should be less than long delay!"),this.isMobile=Zw()||iR()}get(){return CC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(r,t){gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class mT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NC=new fu(3e4,6e4);function Ip(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Co(r,t,n,s,o={}){return pT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return eR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&wo(r.emulatorConfig.host)&&(y.credentials="include"),mT.fetch()(await gT(r,r.config.apiHost,n,m),y)})}async function pT(r,t,n){r._canInitEmulator=!1;const s={...xC,...t};try{const o=new MC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw wp(r,E,y);qi(r,E)}}catch(o){if(o instanceof Er)throw o;qi(r,"network-request-failed",{message:String(o)})}}async function OC(r,t,n,s,o={}){const u=await Co(r,t,n,s,o);return"mfaPendingCredential"in u&&qi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function gT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Cp(r.config,o):`${r.config.apiScheme}://${o}`;return DC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class MC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),NC.get())})}}function th(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,t,s);return o.customData._tokenResponse=n,o}async function VC(r,t){return Co(r,"POST","/v1/accounts:delete",t)}async function Ah(r,t){return Co(r,"POST","/v1/accounts:lookup",t)}function Ql(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kC(r,t=!1){const n=Be(r),s=await n.getIdToken(t),o=xp(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Nm(o.auth_time)),issuedAtTime:Ql(Nm(o.iat)),expirationTime:Ql(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Nm(r){return Number(r)*1e3}function xp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=tT(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g0(r){const t=xp(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function tu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Er&&PC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function PC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class LC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wh(r){const t=r.auth,n=await r.getIdToken(),s=await tu(r,Ah(t,{idToken:n}));bt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?yT(o.providerUserInfo):[],f=zC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function UC(r){const t=Be(r);await wh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function yT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jC(r,t){const n=await pT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await gT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&wo(r.emulatorConfig.host)&&(p.credentials="include"),mT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BC(r,t){return Co(r,"POST","/v2/accounts:revokeToken",Ip(r,t))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):g0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=g0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(bt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return hr("not implemented")}}function ts(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await tu(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kC(this,t)}reload(){return UC(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(ea(this.auth));const t=await this.getIdToken();return await tu(this,VC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:L,providerData:H,stsTokenManager:G}=n;bt(T&&G,t,"internal-error");const q=oo.fromJSON(this.name,G);bt(typeof T=="string",t,"internal-error"),ts(s,t.name),ts(o,t.name),bt(typeof R=="boolean",t,"internal-error"),bt(typeof L=="boolean",t,"internal-error"),ts(u,t.name),ts(f,t.name),ts(m,t.name),ts(p,t.name),ts(y,t.name),ts(E,t.name);const J=new ci({uid:T,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:y,lastLoginAt:E});return H&&Array.isArray(H)&&(J.providerData=H.map(X=>({...X}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(t,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ci({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new ci({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const y0=new Map;function fr(r){gr(r instanceof Function,"Expected a class definition");let t=y0.get(r);return t?(gr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,y0.set(r,t),t)}class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_T.type="NONE";const _0=_T;function uh(r,t,n){return`firebase:${r}:${t}:${n}`}class lo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ah(this.auth,{idToken:t}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new lo(fr(_0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||fr(_0);const f=uh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const R=await Ah(t,{idToken:E}).catch(()=>{});if(!R)break;T=await ci._fromGetAccountInfoResponse(t,R,E)}else T=ci._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new lo(u,t,s))}}function v0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AT(t))return"Blackberry";if(wT(t))return"Webos";if(ET(t))return"Safari";if((t.includes("chrome/")||TT(t))&&!t.includes("edge/"))return"Chrome";if(ST(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function vT(r=on()){return/firefox\//i.test(r)}function ET(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TT(r=on()){return/crios\//i.test(r)}function bT(r=on()){return/iemobile/i.test(r)}function ST(r=on()){return/android/i.test(r)}function AT(r=on()){return/blackberry/i.test(r)}function wT(r=on()){return/webos/i.test(r)}function Dp(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qC(r=on()){return Dp(r)&&!!window.navigator?.standalone}function HC(){return rR()&&document.documentMode===10}function RT(r=on()){return Dp(r)||ST(r)||wT(r)||AT(r)||/windows phone/i.test(r)||bT(r)}function CT(r,t=[]){let n;switch(r){case"Browser":n=v0(on());break;case"Worker":n=`${v0(on())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}class FC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function GC(r,t={}){return Co(r,"GET","/v2/passwordPolicy",Ip(r,t))}const QC=6;class YC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class KC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new FC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ah(this,{idToken:t}),s=await ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ui(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=IC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ui(this.app))return Promise.reject(ea(this));const n=t?Be(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ui(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GC(this),n=new YC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&fr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&AC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qh(r){return Be(r)}class E0{constructor(t){this.auth=t,this.observer=null,this.addObserver=fR(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XC(r){Np=r}function $C(r){return Np.loadJS(r)}function JC(){return Np.gapiScript}function WC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ZC(r,t){const n=Ap(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,t??{}))return o;qi(o,"already-initialized")}return n.initialize({options:t})}function t2(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function e2(r,t,n){const s=Qh(r);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=IT(t),{host:f,port:m}=n2(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(ia(y,s.config.emulator)&&ia(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,wo(f)?(rT(`${u}//${f}${p}`),sT("Auth",!0)):i2()}function IT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function n2(r){const t=IT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:T0(f)}}}function T0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function i2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class xT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(t){return hr("not implemented")}_linkToIdToken(t,n){return hr("not implemented")}_getReauthenticationResolver(t){return hr("not implemented")}}async function uo(r,t){return OC(r,"POST","/v1/accounts:signInWithIdp",Ip(r,t))}const r2="http://localhost";class sa extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return uo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,uo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,uo(t,n)}buildRequest(){const t={requestUri:r2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hu(n)}return t}}class Op{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class du extends Op{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class es extends du{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";class cr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return sa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return cr.credential(n,s)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class ns extends du{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";class is extends du{constructor(){super("twitter.com")}static credential(t,n){return sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";class fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ci._fromIdTokenResponse(t,s,o),f=b0(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=b0(s);return new fo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function b0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Rh extends Er{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Rh(t,n,s,o)}}function DT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,u,t,s):u})}async function s2(r,t,n=!1){const s=await tu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}async function a2(r,t,n=!1){const{auth:s}=r;if(ui(s.app))return Promise.reject(ea(s));const o="reauthenticate";try{const u=await tu(r,DT(s,o,t,r),n);bt(u.idToken,s,"internal-error");const f=xp(u.idToken);bt(f,s,"internal-error");const{sub:m}=f;return bt(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qi(s,"user-mismatch"),u}}async function o2(r,t,n=!1){if(ui(r.app))return Promise.reject(ea(r));const s="signIn",o=await DT(r,s,t),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function l2(r,t,n,s){return Be(r).onIdTokenChanged(t,n,s)}function u2(r,t,n){return Be(r).beforeAuthStateChanged(t,n)}function c2(r,t,n,s){return Be(r).onAuthStateChanged(t,n,s)}function h2(r){return Be(r).signOut()}const Ch="__sak";class NT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const f2=1e3,d2=10;class OT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,d2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}OT.type="LOCAL";const m2=OT;class MT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}MT.type="SESSION";const VT=MT;function p2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await p2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function Mp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class g2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function y2(r){Li().location.href=r}function kT(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function _2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v2(){return navigator?.serviceWorker?.controller||null}function E2(){return kT()?self:null}const PT="firebaseLocalStorageDb",T2=1,Ih="firebaseLocalStorage",LT="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,t){return r.transaction([Ih],t?"readwrite":"readonly").objectStore(Ih)}function b2(){const r=indexedDB.deleteDatabase(PT);return new mu(r).toPromise()}function $m(){const r=indexedDB.open(PT,T2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:LT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?t(s):(s.close(),await b2(),t(await $m()))})})}async function S0(r,t,n){const s=Kh(r,!0).put({[LT]:t,value:n});return new mu(s).toPromise()}async function S2(r,t){const n=Kh(r,!1).get(t),s=await new mu(n).toPromise();return s===void 0?null:s.value}function A0(r,t){const n=Kh(r,!0).delete(t);return new mu(n).toPromise()}const A2=800,w2=3;class UT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>w2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(E2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||v2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $m();return await S0(t,Ch,"1"),await A0(t,Ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>S0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>S2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new mu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UT.type="LOCAL";const R2=UT;new fu(3e4,6e4);function zT(r,t){return t?fr(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vp extends xT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return uo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return uo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function C2(r){return o2(r.auth,new Vp(r),r.bypassAuthState)}function I2(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),a2(n,new Vp(r),r.bypassAuthState)}async function x2(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),s2(n,new Vp(r),r.bypassAuthState)}class jT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return C2;case"linkViaPopup":case"linkViaRedirect":return x2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:qi(this.auth,"internal-error")}}resolve(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const D2=new fu(2e3,1e4);async function N2(r,t,n){if(ui(r.app))return Promise.reject(hi(r,"operation-not-supported-in-this-environment"));const s=Qh(r);wC(r,t,Op);const o=zT(s,n);return new Zs(s,"signInViaPopup",t,o).executeNotNull()}class Zs extends jT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const t=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,D2.get())};t()}}Zs.currentPopupAction=null;const O2="pendingRedirect",ch=new Map;class M2 extends jT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ch.get(this.auth._key());if(!t){try{const s=await V2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ch.set(this.auth._key(),t)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V2(r,t){const n=L2(t),s=P2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function k2(r,t){ch.set(r._key(),t)}function P2(r){return fr(r._redirectPersistence)}function L2(r){return uh(O2,r.config.apiKey,r.name)}async function U2(r,t,n=!1){if(ui(r.app))return Promise.reject(ea(r));const s=Qh(r),o=zT(s,t),f=await new M2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const z2=600*1e3;class j2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!B2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!BT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(hi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(t))}saveEventToCache(t){this.cachedEventUids.add(w0(t)),this.lastProcessedEventTime=Date.now()}}function w0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function BT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function B2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(r);default:return!1}}async function q2(r,t={}){return Co(r,"GET","/v1/projects",t)}const H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F2=/^https?/;async function G2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await q2(r);for(const n of t)try{if(Q2(n))return}catch{}qi(r,"unauthorized-domain")}function Q2(r){const t=Km(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!F2.test(n))return!1;if(H2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Y2=new fu(3e4,6e4);function R0(){const r=Li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function K2(r){return new Promise((t,n)=>{function s(){R0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{R0(),n(hi(r,"network-request-failed"))},timeout:Y2.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=WC("iframefcb");return Li()[o]=()=>{gapi.load?s():n(hi(r,"network-request-failed"))},$C(`${JC()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw hh=null,t})}let hh=null;function X2(r){return hh=hh||K2(r),hh}const $2=new fu(5e3,15e3),J2="__/auth/iframe",W2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eI(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Cp(t,W2):`https://${r.config.authDomain}/${J2}`,s={apiKey:t.apiKey,appName:r.name,v:Ro},o=tI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function nI(r){const t=await X2(r),n=Li().gapi;return bt(n,r,"internal-error"),t.open({where:document.body,url:eI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},$2.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const iI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rI=500,sI=600,aI="_blank",oI="http://localhost";class C0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(r,t,n,s=rI,o=sI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...iI,width:s.toString(),height:o.toString(),top:u,left:f},y=on().toLowerCase();n&&(m=TT(y)?aI:n),vT(y)&&(t=t||oI,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[L,H])=>`${R}${L}=${H},`,"");if(qC(y)&&m!=="_self")return uI(t||"",m),new C0(null);const T=window.open(t||"",m,E);bt(T,r,"popup-blocked");try{T.focus()}catch{}return new C0(T)}function uI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const cI="__/auth/handler",hI="emulator/auth/handler",fI=encodeURIComponent("fac");async function I0(r,t,n,s,o,u){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(t instanceof Op){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",hR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof du){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${fI}=${encodeURIComponent(p)}`:"";return`${dI(r)}?${hu(m).slice(1)}${y}`}function dI({config:r}){return r.emulator?Cp(r,hI):`https://${r.authDomain}/${cI}`}const Om="webStorageSupport";class mI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=U2,this._overrideRedirectResult=k2}async _openPopup(t,n,s,o){gr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await I0(t,n,s,Km(),o);return lI(t,u,Mp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await I0(t,n,s,Km(),o);return y2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await nI(t),s=new j2(t);return n.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Om,{type:Om},o=>{const u=o?.[0]?.[Om];u!==void 0&&n(!!u),qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return RT()||ET()||Dp()}}const pI=mI;var x0="@firebase/auth",D0="1.12.0";class gI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(r){ho(new ra("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(r)},y=new KC(s,o,u,p);return t2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ho(new ra("auth-internal",t=>{const n=Qh(t.getProvider("auth").getImmediate());return(s=>new gI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(x0,D0,yI(r)),os(x0,D0,"esm2020")}const vI=300,EI=iT("authIdTokenMaxAge")||vI;let N0=null;const TI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EI)return;const o=n?.token;N0!==o&&(N0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bI(r=uT()){const t=Ap(r,"auth");if(t.isInitialized())return t.getImmediate();const n=ZC(r,{popupRedirectResolver:pI,persistence:[R2,m2,VT]}),s=iT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=TI(u.toString());u2(n,f,()=>f(n.currentUser)),l2(n,m=>f(m))}}const o=eT("auth");return o&&e2(n,`http://${o}`),n}function SI(){return document.getElementsByTagName("head")?.[0]??document}XC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",SI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");var AI="firebase",wI="12.7.0";os(AI,wI,"app");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,qT;(function(){var r;function t(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(w,x,M){for(var D=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)D[wt-2]=arguments[wt];return S.prototype[x].apply(w,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);const w=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)w[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;x<16;++x)w[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],x=N.g[2];let M=N.g[3],D;D=S+(M^C&(x^M))+w[0]+3614090360&4294967295,S=C+(D<<7&4294967295|D>>>25),D=M+(x^S&(C^x))+w[1]+3905402710&4294967295,M=S+(D<<12&4294967295|D>>>20),D=x+(C^M&(S^C))+w[2]+606105819&4294967295,x=M+(D<<17&4294967295|D>>>15),D=C+(S^x&(M^S))+w[3]+3250441966&4294967295,C=x+(D<<22&4294967295|D>>>10),D=S+(M^C&(x^M))+w[4]+4118548399&4294967295,S=C+(D<<7&4294967295|D>>>25),D=M+(x^S&(C^x))+w[5]+1200080426&4294967295,M=S+(D<<12&4294967295|D>>>20),D=x+(C^M&(S^C))+w[6]+2821735955&4294967295,x=M+(D<<17&4294967295|D>>>15),D=C+(S^x&(M^S))+w[7]+4249261313&4294967295,C=x+(D<<22&4294967295|D>>>10),D=S+(M^C&(x^M))+w[8]+1770035416&4294967295,S=C+(D<<7&4294967295|D>>>25),D=M+(x^S&(C^x))+w[9]+2336552879&4294967295,M=S+(D<<12&4294967295|D>>>20),D=x+(C^M&(S^C))+w[10]+4294925233&4294967295,x=M+(D<<17&4294967295|D>>>15),D=C+(S^x&(M^S))+w[11]+2304563134&4294967295,C=x+(D<<22&4294967295|D>>>10),D=S+(M^C&(x^M))+w[12]+1804603682&4294967295,S=C+(D<<7&4294967295|D>>>25),D=M+(x^S&(C^x))+w[13]+4254626195&4294967295,M=S+(D<<12&4294967295|D>>>20),D=x+(C^M&(S^C))+w[14]+2792965006&4294967295,x=M+(D<<17&4294967295|D>>>15),D=C+(S^x&(M^S))+w[15]+1236535329&4294967295,C=x+(D<<22&4294967295|D>>>10),D=S+(x^M&(C^x))+w[1]+4129170786&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^x&(S^C))+w[6]+3225465664&4294967295,M=S+(D<<9&4294967295|D>>>23),D=x+(S^C&(M^S))+w[11]+643717713&4294967295,x=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(x^M))+w[0]+3921069994&4294967295,C=x+(D<<20&4294967295|D>>>12),D=S+(x^M&(C^x))+w[5]+3593408605&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^x&(S^C))+w[10]+38016083&4294967295,M=S+(D<<9&4294967295|D>>>23),D=x+(S^C&(M^S))+w[15]+3634488961&4294967295,x=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(x^M))+w[4]+3889429448&4294967295,C=x+(D<<20&4294967295|D>>>12),D=S+(x^M&(C^x))+w[9]+568446438&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^x&(S^C))+w[14]+3275163606&4294967295,M=S+(D<<9&4294967295|D>>>23),D=x+(S^C&(M^S))+w[3]+4107603335&4294967295,x=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(x^M))+w[8]+1163531501&4294967295,C=x+(D<<20&4294967295|D>>>12),D=S+(x^M&(C^x))+w[13]+2850285829&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^x&(S^C))+w[2]+4243563512&4294967295,M=S+(D<<9&4294967295|D>>>23),D=x+(S^C&(M^S))+w[7]+1735328473&4294967295,x=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(x^M))+w[12]+2368359562&4294967295,C=x+(D<<20&4294967295|D>>>12),D=S+(C^x^M)+w[5]+4294588738&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^x)+w[8]+2272392833&4294967295,M=S+(D<<11&4294967295|D>>>21),D=x+(M^S^C)+w[11]+1839030562&4294967295,x=M+(D<<16&4294967295|D>>>16),D=C+(x^M^S)+w[14]+4259657740&4294967295,C=x+(D<<23&4294967295|D>>>9),D=S+(C^x^M)+w[1]+2763975236&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^x)+w[4]+1272893353&4294967295,M=S+(D<<11&4294967295|D>>>21),D=x+(M^S^C)+w[7]+4139469664&4294967295,x=M+(D<<16&4294967295|D>>>16),D=C+(x^M^S)+w[10]+3200236656&4294967295,C=x+(D<<23&4294967295|D>>>9),D=S+(C^x^M)+w[13]+681279174&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^x)+w[0]+3936430074&4294967295,M=S+(D<<11&4294967295|D>>>21),D=x+(M^S^C)+w[3]+3572445317&4294967295,x=M+(D<<16&4294967295|D>>>16),D=C+(x^M^S)+w[6]+76029189&4294967295,C=x+(D<<23&4294967295|D>>>9),D=S+(C^x^M)+w[9]+3654602809&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^x)+w[12]+3873151461&4294967295,M=S+(D<<11&4294967295|D>>>21),D=x+(M^S^C)+w[15]+530742520&4294967295,x=M+(D<<16&4294967295|D>>>16),D=C+(x^M^S)+w[2]+3299628645&4294967295,C=x+(D<<23&4294967295|D>>>9),D=S+(x^(C|~M))+w[0]+4096336452&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~x))+w[7]+1126891415&4294967295,M=S+(D<<10&4294967295|D>>>22),D=x+(S^(M|~C))+w[14]+2878612391&4294967295,x=M+(D<<15&4294967295|D>>>17),D=C+(M^(x|~S))+w[5]+4237533241&4294967295,C=x+(D<<21&4294967295|D>>>11),D=S+(x^(C|~M))+w[12]+1700485571&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~x))+w[3]+2399980690&4294967295,M=S+(D<<10&4294967295|D>>>22),D=x+(S^(M|~C))+w[10]+4293915773&4294967295,x=M+(D<<15&4294967295|D>>>17),D=C+(M^(x|~S))+w[1]+2240044497&4294967295,C=x+(D<<21&4294967295|D>>>11),D=S+(x^(C|~M))+w[8]+1873313359&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~x))+w[15]+4264355552&4294967295,M=S+(D<<10&4294967295|D>>>22),D=x+(S^(M|~C))+w[6]+2734768916&4294967295,x=M+(D<<15&4294967295|D>>>17),D=C+(M^(x|~S))+w[13]+1309151649&4294967295,C=x+(D<<21&4294967295|D>>>11),D=S+(x^(C|~M))+w[4]+4149444226&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~x))+w[11]+3174756917&4294967295,M=S+(D<<10&4294967295|D>>>22),D=x+(S^(M|~C))+w[2]+718787259&4294967295,x=M+(D<<15&4294967295|D>>>17),D=C+(M^(x|~S))+w[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,w=this.C;let x=this.h,M=0;for(;M<S;){if(x==0)for(;M<=C;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<S;)if(w[x++]=N.charCodeAt(M++),x==this.blockSize){o(this,w),x=0;break}}else for(;M<S;)if(w[x++]=N[M++],x==this.blockSize){o(this,w),x=0;break}}this.h=x,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let w=0;w<32;w+=8)N[S++]=this.g[C]>>>w&255;return N};function u(N,S){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function f(N,S){this.h=S;const C=[];let w=!0;for(let x=N.length-1;x>=0;x--){const M=N[x]|0;w&&M==S||(C[x]=M,w=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(S){return new f([S|0],S<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return q(y(-N));const S=[];let C=1;for(let w=0;N>=C;w++)S[w]=N/C|0,C*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return q(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let w=T;for(let M=0;M<N.length;M+=8){var x=Math.min(8,N.length-M);const D=parseInt(N.substring(M,M+x),S);x<8?(x=y(Math.pow(S,x)),w=w.j(x).add(y(D))):(w=w.j(C),w=w.add(y(D)))}return w}var T=p(0),R=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-q(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const w=this.i(C);N+=(w>=0?w:4294967296+w)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(G(this))return"-"+q(this).toString(N);const S=y(Math.pow(N,6));var C=this;let w="";for(;;){const x=rt(C,S).g;C=J(C,x.j(S));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=x,H(C))return M+w;for(;M.length<6;)M="0"+M;w=M+w}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function G(N){return N.h==-1}r.l=function(N){return N=J(this,N),G(N)?-1:H(N)?0:1};function q(N){const S=N.g.length,C=[];for(let w=0;w<S;w++)C[w]=~N.g[w];return new f(C,~N.h).add(R)}r.abs=function(){return G(this)?q(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let w=0;for(let x=0;x<=S;x++){let M=w+(this.i(x)&65535)+(N.i(x)&65535),D=(M>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);w=D>>>16,M&=65535,D&=65535,C[x]=D<<16|M}return new f(C,C[C.length-1]&-2147483648?-1:0)};function J(N,S){return N.add(q(S))}r.j=function(N){if(H(this)||H(N))return T;if(G(this))return G(N)?q(this).j(q(N)):q(q(this).j(N));if(G(N))return q(this.j(q(N)));if(this.l(L)<0&&N.l(L)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var w=0;w<2*S;w++)C[w]=0;for(w=0;w<this.g.length;w++)for(let x=0;x<N.g.length;x++){const M=this.i(w)>>>16,D=this.i(w)&65535,wt=N.i(x)>>>16,Ot=N.i(x)&65535;C[2*w+2*x]+=D*Ot,X(C,2*w+2*x),C[2*w+2*x+1]+=M*Ot,X(C,2*w+2*x+1),C[2*w+2*x+1]+=D*wt,X(C,2*w+2*x+1),C[2*w+2*x+2]+=M*wt,X(C,2*w+2*x+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new f(C,0)};function X(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function W(N,S){this.g=N,this.h=S}function rt(N,S){if(H(S))throw Error("division by zero");if(H(N))return new W(T,T);if(G(N))return S=rt(q(N),S),new W(q(S.g),q(S.h));if(G(S))return S=rt(N,q(S)),new W(q(S.g),S.h);if(N.g.length>30){if(G(N)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var C=R,w=S;w.l(N)<=0;)C=ot(C),w=ot(w);var x=ft(C,1),M=ft(w,1);for(w=ft(w,2),C=ft(C,2);!H(w);){var D=M.add(w);D.l(N)<=0&&(x=x.add(C),M=D),w=ft(w,1),C=ft(C,1)}return S=J(N,x.j(S)),new W(x,S)}for(x=T;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),w=Math.ceil(Math.log(C)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),M=y(C),D=M.j(S);G(D)||D.l(N)>0;)C-=w,M=y(C),D=M.j(S);H(M)&&(M=R),x=x.add(M),N=J(N,D)}return new W(x,N)}r.B=function(N){return rt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let w=0;w<S;w++)C[w]=this.i(w)&N.i(w);return new f(C,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let w=0;w<S;w++)C[w]=this.i(w)|N.i(w);return new f(C,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let w=0;w<S;w++)C[w]=this.i(w)^N.i(w);return new f(C,this.h^N.h)};function ot(N){const S=N.g.length+1,C=[];for(let w=0;w<S;w++)C[w]=N.i(w)<<1|N.i(w-1)>>>31;return new f(C,N.h)}function ft(N,S){const C=S>>5;S%=32;const w=N.g.length-C,x=[];for(let M=0;M<w;M++)x[M]=S>0?N.i(M+C)>>>S|N.i(M+C+1)<<32-S:N.i(M+C);return new f(x,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,qT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ls=f}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HT,Bl,FT,fh,Jm,GT,QT,YT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break t;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,Q){for(var at=Array(arguments.length-2),It=2;It<arguments.length;It++)at[It-2]=arguments[It];return g.prototype[z].apply(A,at)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function H(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Q=z.length||0;c.length=v+Q;for(let at=0;at<Q;at++)c[v+at]=z[at]}else c.push(z)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){f.setTimeout(()=>{throw c},0)}function J(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,v){const A=W.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new G(()=>new rt,c=>c.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ft=!1,N=new X,S=()=>{const c=Promise.resolve(void 0);ot=()=>{c.then(C)}};function C(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){q(v)}var g=W;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ft=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function wt(c,g){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(wt,x),wt.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&wt.Z.h.call(this)},wt.prototype.h=function(){wt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),Y=0;function st(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++Y,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ft(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Xt(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function P(c){const g={};for(const v in c)g[v]=c[v];return g}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Q=0;Q<nt.length;Q++)v=nt[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function dt(c){this.src=c,this.g={},this.h=0}dt.prototype.add=function(c,g,v,A,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const at=Dt(c,g,A,z);return at>-1?(g=c[at],v||(g.fa=!1)):(g=new st(g,this.src,Q,!!A,z),g.fa=v,c.push(g)),g};function St(c,g){const v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(A,z,1),Q&&(gt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Dt(c,g,v,A){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==A)return z}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Le={};function ue(c,g,v,A,z){if(Array.isArray(g)){for(let Q=0;Q<g.length;Q++)ue(c,g[Q],v,A,z);return null}return v=ko(v),c&&c[Ot]?c.J(g,v,m(A)?!!A.capture:!1,z):Es(c,g,v,!1,A,z)}function Es(c,g,v,A,z,Q){if(!g)throw Error("Invalid event type");const at=m(z)?!!z.capture:!!z;let It=Ts(c);if(It||(c[Bt]=It=new dt(c)),v=It.add(g,v,A,at,Q),v.proxy)return v;if(A=ha(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)M||(z=at),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(mi(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ha(){function c(v){return g.call(c.src,c.listener,v)}const g=Mo;return c}function fa(c,g,v,A,z){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)fa(c,g[Q],v,A,z);else A=m(A)?!!A.capture:!!A,v=ko(v),c&&c[Ot]?(c=c.i,Q=String(g).toString(),Q in c.g&&(g=c.g[Q],v=Dt(g,v,A,z),v>-1&&(gt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Ts(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Dt(g,v,A,z)),(v=c>-1?g[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ot])St(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(mi(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Ts(g))?(St(v,c),v.h==0&&(v.src=null,g[Bt]=null)):gt(c)}}}function mi(c){return c in Le?Le[c]:Le[c]="on"+c}function Mo(c,g){if(c.da)c=!0;else{g=new wt(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&da(c),c=v.call(A,g)}return c}function Ts(c){return c=c[Bt],c instanceof dt?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(g){return c.handleEvent(g)}),c[Vo])}function Ae(){w.call(this),this.i=new dt(this),this.M=this,this.G=null}T(Ae,w),Ae.prototype[Ot]=!0,Ae.prototype.removeEventListener=function(c,g,v,A){fa(this,c,g,v,A)};function Ue(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new x(g,c);else if(g instanceof x)g.target=g.target||c;else{var z=g;g=new x(A,c),ut(g,z)}z=!0;let Q,at;if(v)for(at=v.length-1;at>=0;at--)Q=g.g=v[at],z=Tr(Q,A,!0,g)&&z;if(Q=g.g=c,z=Tr(Q,A,!0,g)&&z,z=Tr(Q,A,!1,g)&&z,v)for(at=0;at<v.length;at++)Q=g.g=v[at],z=Tr(Q,A,!1,g)&&z}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)gt(v[A]);delete c.g[g],c.h--}}this.G=null},Ae.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Ae.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function Tr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let Q=0;Q<g.length;++Q){const at=g[Q];if(at&&!at.da&&at.capture==v){const It=at.listener,Ee=at.ha||at.src;at.fa&&St(c.i,at),z=It.call(Ee,A)!==!1&&z}}return z&&!A.defaultPrevented}function vf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Au(c){c.g=vf(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ln extends w{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){w.call(this),this.h=c,this.g={}}T(bs,w);var Po=[];function Lo(c){Ft(c.g,function(g,v){this.g.hasOwnProperty(v)&&da(g)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),Lo(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=f.JSON.stringify,Ef=f.JSON.parse,wu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ru(){}function Cu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){x.call(this,"d")}T(Ye,x);function Pn(){x.call(this,"c")}T(Pn,x);var ve={},Iu=null;function ma(){return Iu=Iu||new Ae}ve.Ia="serverreachability";function xu(c){x.call(this,ve.Ia,c)}T(xu,x);function pi(c){const g=ma();Ue(g,new xu(g))}ve.STAT_EVENT="statevent";function Ss(c,g){x.call(this,ve.STAT_EVENT,c),this.stat=g}T(Ss,x);function we(c){const g=ma();Ue(g,new Ss(g,c))}ve.Ja="timingevent";function gi(c,g){x.call(this,ve.Ja,c),this.size=g}T(gi,x);function yi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Tf(c,g,v,A,z,Q){c.info(function(){if(c.g)if(Q){var at="",It=Q.split("&");for(let Yt=0;Yt<It.length;Yt++){var Ee=It[Yt].split("=");if(Ee.length>1){const ce=Ee[0];Ee=Ee[1];const jn=ce.split("_");at=jn.length>=2&&jn[1]=="type"?at+(ce+"="+Ee+"&"):at+(ce+"=redacted&")}}}else at=null;else at=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+at})}function Du(c,g,v,A,z,Q,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+Q+" "+at})}function _i(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+bf(c,v)+(A?" "+A:"")})}function As(c,g){c.info(function(){return"TIMEOUT: "+g})}Jn.prototype.info=function(){};function bf(c,g){if(!c.g)return g;if(!g)return null;try{const Q=JSON.parse(g);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let at=1;at<A.length;at++)A[at]=""}}}}return br(Q)}catch{return g}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zo;function Rs(){}T(Rs,Ru),Rs.prototype.g=function(){return new XMLHttpRequest},zo=new Rs;function Fi(c){return encodeURIComponent(String(c))}function Nu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Wn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function vi(c,g,v){c.M=1,c.A=Cs(Ie(g)),c.u=v,c.R=!0,pa(c,null)}function pa(c,g){c.F=Date.now(),Ei(c),c.B=Ie(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),va(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Zn,c.g=Qu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new ln(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Po[0]=z.toString()),z=Po);for(let Q=0;Q<z.length;Q++){const at=ue(v,z[Q],A||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),pi(),Tf(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const g=this.O;g&&ni(c)==3?g.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)t:{const It=ni(this.g),Ee=this.g.ya(),Yt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||It!=4||Ee==7||(Ee==8||Yt<=0?pi(3):pi(2)),Ti(this);var g=this.g.ca();this.X=g;var v=Sf(this);if(this.o=g==200,Du(this.i,this.v,this.B,this.l,this.S,It,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var Q=A;break e}}Q=null}if(c=Q)_i(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,c);else{this.o=!1,this.m=3,we(12),Tn(this),Ln(this);break t}}if(this.R){c=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=Mu(this,v),ce==qe){It==4&&(this.m=4,we(14),c=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Re){this.m=4,we(15),_i(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else _i(this.i,this.l,ce,null),bi(this,ce);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,we(16),c=!1),this.o=this.o&&c,!c)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(at),at.P=!0,we(11))}}else _i(this.i,this.l,v,null),bi(this,v);It==4&&Tn(this),this.o&&!this.K&&(It==4?qu(this.j,this):(this.o=!1,Ei(this)))}else Qi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),Tn(this),Ln(this)}}}catch{}};function Sf(c){if(!Ou(c))return c.g.la();const g=Ke(c.g);if(g==="")return"";let v="";const A=g.length,z=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Ln(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(g[Q],{stream:!(z&&Q==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?qe:(v=Number(g.substring(v,A)),isNaN(v)?Re:(A+=1,A+v>g.length?qe:(g=g.slice(A,A+v),c.C=A+v,g)))}Wn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ei(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(y(c.aa,c),g)}function Ti(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(pi(),we(17)),Tn(this),this.m=2,Ln(this)):ga(this,this.T-c)};function Ln(c){c.j.I==0||c.K||qu(c.j,c)}function Tn(c){Ti(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Lo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function bi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ai(v.h,c))){if(!c.L&&Ai(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Aa(v),Dr(v);else break t;Vs(v),we(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(y(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((c.L||v.g==c)&&Aa(v),!D(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Yt=z[g];const ce=Yt[0];if(!(ce<=v.K))if(v.K=ce,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const jn=Yt[3];jn!=null&&(v.ka=jn,v.j.info("VER="+v.ka));const Ni=Yt[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ii=Yt[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ri=c.g;if(ri){const ks=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var Q=A.h;Q.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(qo(Q,Q.h),Q.h=null))}if(A.G){const wa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,$t(A.J,A.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var at=c;if(A.na=Gu(A,A.L?A.ba:null,A.W),at.L){Ho(A.h,at);var It=at,Ee=A.O;Ee&&(It.H=Ee),It.D&&(Ti(It),Ei(It)),A.g=at}else ju(A);v.i.length>0&&xi(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Di(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Di(v,7):Wo(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}pi(4)}catch{}}var Ce=class{constructor(c,g){this.g=c,this.map=g}};function jo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ai(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function qo(c,g){c.g?c.g.add(g):c.h=g}function Ho(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}jo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,Q=null;A>=0?(z=c[v].substring(0,A),Q=c[v].substring(A+1)):z=c[v],g(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof bn?(this.l=c.l,He(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Go(this,Uu(c.i)),this.m=c.m):c&&(g=String(c).match(Vu))?(this.l=!1,He(this,g[1]||"",!0),this.o=wi(g[2]||""),this.g=wi(g[3]||"",!0),Sr(this,g[4]),this.h=wi(g[5]||"",!0),Go(this,g[6]||"",!0),this.m=wi(g[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}bn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Is(g,_a,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Is(g,_a,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Qo:ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Pu)),c.join("")},bn.prototype.resolve=function(c){const g=Ie(this);let v=!!c.j;v?He(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)Sr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let at=0;at<z.length;){const It=z[at++];It=="."?A&&at==z.length&&Q.push(""):It==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&at==z.length&&Q.push("")):(Q.push(It),A=!0)}A=Q.join("/")}else A=z}return v?g.h=A:v=c.i.toString()!=="",v?Go(g,Uu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Ie(c){return new bn(c)}function He(c,g,v){c.j=v?wi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Go(c,g,v){g instanceof wr?(c.i=g,Ea(c.i,c.l)):(v||(g=Is(g,Ar)),c.i=new wr(g,c.l))}function $t(c,g,v){c.i.set(g,v)}function Cs(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,ku=/[#\?:]/g,Qo=/[#\?]/g,Ar=/[#\?@]/g,Pu=/#/g;function wr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=wr.prototype,r.add=function(c,g){dn(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Lu(c,g){dn(c),g=Rr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Yo(c,g){return dn(c),g=Rr(c,g),c.g.has(g)}r.forEach=function(c,g){dn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Ko(c,g){dn(c);let v=[];if(typeof g=="string")Yo(c,g)&&(v=v.concat(c.g.get(Rr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return dn(this),this.i=null,c=Rr(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Ko(this,c),c.length>0?String(c[0]):g):g};function va(c,g,v){Lu(c,g),v.length>0&&(c.i=null,c.g.set(Rr(c,g),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=Fi(v);v=Ko(this,v);for(let Q=0;Q<v.length;Q++){let at=z;v[Q]!==""&&(at+="="+Fi(v[Q])),c.push(at)}}return this.i=c.join("&")};function Uu(c){const g=new wr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Rr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ea(c,g){g&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Lu(this,A),va(this,z,v))},c)),c.j=g}function ti(c,g){const v=new Jn;if(f.Image){const A=new Image;A.onload=E(Un,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Un,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Un,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Xo(c,g){const v=new Jn,A=new AbortController,z=setTimeout(()=>{A.abort(),Un(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?Un(v,"TestPingServer: ok",!0,g):Un(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Un(v,"TestPingServer: error",!1,g)})}function Un(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Cr(){this.g=new wu}function Ri(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ri,Ru),Ri.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,g){Ae.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(xs,Ae),r=xs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ir(this):ei(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let g="";return Ft(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ds(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=zn(v),typeof c=="string"?v!=null&&Fi(v):$t(c,g,v))}function Zt(c){Ae.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Zt,Ae);var Ci=/^https?$/i,$o=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Ns(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call($o,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of v)this.g.setRequestHeader(Q,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ns(this,Q)}};function Ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Jo(c),Gi(c)}function Jo(c){c.A||(c.A=!0,Ue(c,"complete"),Ue(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ue(this,"complete"),Ue(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ue(c,"readystatechange"),ni(c)==4){c.h=!1;try{const Q=c.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=Q===0){let at=String(c.D).match(Vu)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),A=!Ci.test(at?at.toLowerCase():"")}v=A}if(v)Ue(c,"complete"),Ue(c,"success");else{c.o=6;try{var z=ni(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Jo(c)}}finally{Gi(c)}}}}function Gi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ue(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ef(g)}};function Ke(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const g={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(D(c[A]))continue;var v=Nu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[z]||[];g[z]=Q,Q.push(v)}Xt(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function xr(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){we(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Gu(this,null,this.W),xi(this)};function Wo(c){if(ba(c),c.I==3){var g=c.V++,v=Ie(c.J);if($t(v,"SID",c.M),$t(v,"RID",g),$t(v,"TYPE","terminate"),Ms(c,v),g=new Wn(c,c.j,g),g.M=2,g.A=Cs(Ie(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Qu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ei(g)}Fu(c)}function Dr(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function ba(c){Dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xi(c){if(!Bo(c.h)&&!c.m){c.m=!0;var g=c.Ea;ot||S(),ft||(ot(),ft=!0),N.add(g,c),c.D=0}}function Sa(c,g){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(y(c.Ea,c,g),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Wn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=P(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=zu(this,z,g),v=Ie(this.J),$t(v,"RID",c),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Ms(this,v),Q&&(this.R?g="headers="+Fi(zn(Q))+"&"+g:this.u&&Ds(v,this.u,Q)),qo(this.h,z),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",g),$t(v,"SID","null"),z.U=!0,vi(z,v,null)):vi(z,v,g),this.I=2}}else this.I==3&&(c?Zo(this,c):this.i.length==0||Bo(this.h)||Zo(this))};function Zo(c,g){var v;g?v=g.l:v=c.V++;const A=Ie(c.J);$t(A,"SID",c.M),$t(A,"RID",v),$t(A,"AID",c.K),Ms(c,A),c.u&&c.o&&Ds(A,c.u,c.o),v=new Wn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=zu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,v),vi(v,A,g)}function Ms(c,g){c.H&&Ft(c.H,function(v,A){$t(g,A,v)}),c.l&&Ft({},function(v,A){$t(g,A,v)})}function zu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var z=c.i;let It=-1;for(;;){const Ee=["count="+v];It==-1?v>0?(It=z[0].g,Ee.push("ofs="+It)):It=0:Ee.push("ofs="+It);let Yt=!0;for(let ce=0;ce<v;ce++){var Q=z[ce].g;const jn=z[ce].map;if(Q-=It,Q<0)It=Math.max(0,z[ce].g-100),Yt=!1;else try{Q="req"+Q+"_"||"";try{var at=jn instanceof Map?jn:Object.entries(jn);for(const[Ni,ii]of at){let ri=ii;m(ii)&&(ri=br(ii)),Ee.push(Q+Ni+"="+encodeURIComponent(ri))}}catch(Ni){throw Ee.push(Q+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(jn)}}if(Yt){at=Ee.join("&");break t}}at=void 0}return c=c.i.splice(0,v),g.G=c,at}function ju(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ot||S(),ft||(ot(),ft=!0),N.add(g,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(y(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Dr(this),Bu(this))};function tl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ie(c.na);$t(g,"RID","rpc"),$t(g,"SID",c.M),$t(g,"AID",c.K),$t(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(g,"TO",c.ia),$t(g,"TYPE","xmlhttp"),Ms(c,g),c.u&&c.o&&Ds(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cs(Ie(g)),v.u=null,v.R=!0,pa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Vs(this),we(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,g){var v=null;if(c.g==g){Aa(c),tl(c),c.g=null;var A=2}else if(Ai(c.h,g))v=g.G,Ho(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=ma(),Ue(A,new gi(A,v)),xi(c)}else ju(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&Sa(c,g)||A==2&&Vs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function Hu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Di(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||He(A,"https"),Cs(A),z?ti(A.toString(),v):Xo(A.toString(),v)}else we(2);c.I=0,c.l&&c.l.pa(g),Fu(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const g=Fo(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Gu(c,g,v){var A=v instanceof bn?Ie(v):new bn(v);if(A.g!="")g&&(A.g=g+"."+A.g),Sr(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const Q=new bn(null);A&&He(Q,A),g&&(Q.g=g),z&&Sr(Q,z),v&&(Q.h=v),A=Q}return v=c.G,g=c.wa,v&&g&&$t(A,v,g),$t(A,"VER",c.ka),Ms(c,A),A}function Qu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Zt(new Ri({ab:v})):new Zt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Nr(){}Nr.prototype.g=function(c,g){return new un(c,g)};function un(c,g){Ae.call(this),this.g=new xr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!D(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!D(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Yi(this)}T(un,Ae),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Wo(this.g)},un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=br(c),c=v);g.i.push(new Ce(g.Ya++,c)),g.I==3&&xi(g)},un.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,un.Z.N.call(this)};function Ku(c){Ye.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Ku,Ye);function Xu(){Pn.call(this),this.status=1}T(Xu,Pn);function Yi(c){this.g=c}T(Yi,Yu),Yi.prototype.ra=function(){Ue(this.g,"a")},Yi.prototype.qa=function(c){Ue(this.g,new Ku(c))},Yi.prototype.pa=function(c){Ue(this.g,new Xu)},Yi.prototype.oa=function(){Ue(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,YT=function(){return new Nr},QT=function(){return ma()},GT=ve,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,fh=ws,Uo.COMPLETE="complete",FT=Uo,Cu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Bl=Cu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,HT=Zt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",V0="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Io="12.7.0";const aa=new bp("@firebase/firestore");function no(){return aa.logLevel}function ht(r,...t){if(aa.logLevel<=Lt.DEBUG){const n=t.map(kp);aa.debug(`Firestore (${Io}): ${r}`,...n)}}function yr(r,...t){if(aa.logLevel<=Lt.ERROR){const n=t.map(kp);aa.error(`Firestore (${Io}): ${r}`,...n)}}function mo(r,...t){if(aa.logLevel<=Lt.WARN){const n=t.map(kp);aa.warn(`Firestore (${Io}): ${r}`,...n)}}function kp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,KT(r,s,n)}function KT(r,t,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||KT(t,o,s)}function At(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Er{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ui{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class XT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class CI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class II{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ui,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ui)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new XT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class xI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new xI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function OI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Pp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ut(r,t){return r<t?-1:r>t?1:0}function Wm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Mm(o)===Mm(u)?Ut(o,u):Mm(o)?1:-1}return Ut(r.length,t.length)}const MI=55296,VI=57343;function Mm(r){const t=r.charCodeAt(0);return t>=MI&&t<=VI}function po(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const P0="__name__";class Pi{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const s=Pi.isNumericId(t),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(t).compare(Pi.extractNumericId(n)):Wm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ls.fromString(t.substring(4,t.length-2))}}class ie extends Pi{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const kI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return kI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new tn([P0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ie.fromString(t))}static fromName(t){return new yt(ie.fromString(t).popFirst(5))}static empty(){return new yt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ie(t.slice()))}}function $T(r,t,n){if(!n)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function PI(r,t,n,s){if(t===!0&&s===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function L0(r){if(!yt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U0(r){if(yt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Mn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Pe(r,t){const n={typeString:r};return t&&(n.value=t),n}function pu(r,t){if(!JT(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(Z.INVALID_ARGUMENT,n);return!0}const z0=-62135596800,j0=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*j0);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<z0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(pu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Pe("string",le._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new le(0,0))}static max(){return new Tt(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function LI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new hs(o,yt.empty(),t)}function UI(r){return new hs(r.readTime,r.key,eu)}class hs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(Tt.min(),yt.empty(),eu)}static max(){return new hs(Tt.max(),yt.empty(),eu)}}function zI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Ut(r.largestBatchId,t.largestBatchId))}const jI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function xo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==jI)throw r;ht("LocalStore","Unexpectedly lost primary lease")}class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new it(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function qI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}class $h{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$h.ce=-1;const Lp=-1;function gu(r){return r==null}function xh(r){return r===0&&1/r==-1/0}function HI(r){return typeof r=="number"&&Number.isInteger(r)&&!xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const WT="";function FI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=B0(t)),t=GI(r.get(n),t);return B0(t)}function GI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case WT:n+="";break;default:n+=u}}return n}function B0(r){return r+WT+""}function q0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function _s(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function ZT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nh(this.root,t,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nh(this.root,t,this.comparator,!0)}}class nh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ze(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(t){return new H0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new je(this.comparator);return n.data=t,n}}class H0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new On([])}unionWith(t){let n=new je(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new On(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tb("Invalid base64 string: "+u):u}})(t);return new en(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const QI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=QI.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const eb="server_timestamp",nb="__type__",ib="__previous_value__",rb="__local_write_time__";function Up(r){return(r?.mapValue?.fields||{})[nb]?.stringValue===eb}function Jh(r){const t=r.mapValue.fields[ib];return Up(t)?Jh(t):t}function nu(r){const t=fs(r.mapValue.fields[rb].timestampValue);return new le(t.seconds,t.nanos)}class YI{constructor(t,n,s,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Dh="(default)";class iu{constructor(t,n){this.projectId=t,this.database=n||Dh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}const sb="__type__",KI="__max__",ih={mapValue:{}},ab="__vector__",Nh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Up(r)?4:$I(r)?9007199254740991:XI(r)?10:11:vt(28295,{value:r})}function Hi(r,t){if(r===t)return!0;const n=ms(r);if(n!==ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return nu(r).isEqual(nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),m=fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Se(o.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Se(o.integerValue)===Se(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Se(o.doubleValue),m=Se(u.doubleValue);return f===m?xh(f)===xh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return po(r.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(q0(f)!==q0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Hi(f[p],m[p])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function ru(r,t){return(r.values||[]).find((n=>Hi(n,t)))!==void 0}function go(r,t){if(r===t)return 0;const n=ms(r),s=ms(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Se(u.integerValue||u.doubleValue),p=Se(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return F0(r.timestampValue,t.timestampValue);case 4:return F0(nu(r),nu(t));case 5:return Wm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=ds(u),p=ds(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ut(m[y],p[y]);if(E!==0)return E}return Ut(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ut(Se(u.latitude),Se(f.latitude));return m!==0?m:Ut(Se(u.longitude),Se(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return G0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Nh]?.arrayValue,E=p[Nh]?.arrayValue,T=Ut(y?.values?.length||0,E?.values?.length||0);return T!==0?T:G0(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Wm(p[T],E[T]);if(R!==0)return R;const L=go(m[p[T]],y[E[T]]);if(L!==0)return L}return Ut(p.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function F0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const n=fs(r),s=fs(t),o=Ut(n.seconds,s.seconds);return o!==0?o:Ut(n.nanos,s.nanos)}function G0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Ut(n.length,s.length)}function yo(r){return Zm(r)}function Zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return yt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Zm(n.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function dh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jh(r);return t?16+dh(t):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,f)=>{o+=u.length+dh(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function Q0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function tp(r){return!!r&&"integerValue"in r}function zp(r){return!!r&&"arrayValue"in r}function Y0(r){return!!r&&"nullValue"in r}function K0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function XI(r){return(r?.mapValue?.fields||{})[sb]?.stringValue===ab}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return _s(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Yl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return t}return{...r}}function $I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(n)}setAll(t){let n=tn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){_s(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new hn(Yl(this.value))}}function ob(r){const t=[];return _s(r.fields,((n,s)=>{const o=new tn([n]);if(mh(s)){const u=ob(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new On(t)}class Qe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Qe(t,0,Tt.min(),Tt.min(),Tt.min(),hn.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,Tt.min(),Tt.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,Tt.min(),Tt.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(t,n){this.position=t,this.inclusive=n}}function X0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Hi(r.position[n],t.position[n]))return!1;return!0}class Mh{constructor(t,n="asc"){this.field=t,this.dir=n}}function JI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class lb{}class ke extends lb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ZI(t,n,s):n==="array-contains"?new nx(t,s):n==="in"?new ix(t,s):n==="not-in"?new rx(t,s):n==="array-contains-any"?new sx(t,s):new ke(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new tx(t,s):new ex(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends lb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new fi(t,n)}matches(t){return ub(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ub(r){return r.op==="and"}function cb(r){return WI(r)&&ub(r)}function WI(r){for(const t of r.filters)if(t instanceof fi)return!1;return!0}function ep(r){if(r instanceof ke)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(cb(r))return r.filters.map((t=>ep(t))).join(",");{const t=r.filters.map((n=>ep(n))).join(",");return`${r.op}(${t})`}}function hb(r,t){return r instanceof ke?(function(s,o){return o instanceof ke&&s.op===o.op&&s.field.isEqual(o.field)&&Hi(s.value,o.value)})(r,t):r instanceof fi?(function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&hb(f,o.filters[m])),!0):!1})(r,t):void vt(19439)}function fb(r){return r instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(fb).join(" ,")+"}"})(r):"Filter"}class ZI extends ke{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tx extends ke{constructor(t,n){super(t,"in",n),this.keys=db("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class ex extends ke{constructor(t,n){super(t,"not-in",n),this.keys=db("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function db(r,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class nx extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zp(n)&&ru(n.arrayValue,this.value)}}class ix extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class rx extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class sx extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class ax{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function J0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new ax(r,t,n,s,o,u,f)}function jp(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>ep(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),gu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>yo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>yo(s))).join(",")),t.Te=n}return t.Te}function Bp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hb(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$0(r.startAt,t.startAt)&&$0(r.endAt,t.endAt)}function np(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ox(r,t,n,s,o,u,f,m){return new yu(r,t,n,s,o,u,f,m)}function Wh(r){return new yu(r)}function W0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mb(r){return r.collectionGroup!==null}function Kl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new je(tn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Mh(u,s))})),n.has(tn.keyField().canonicalString())||t.Ie.push(new Mh(tn.keyField(),s))}return t.Ie}function zi(r){const t=At(r);return t.Ee||(t.Ee=lx(t,Kl(r))),t.Ee}function lx(r,t){if(r.limitType==="F")return J0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Mh(o.field,u)}));const n=r.endAt?new Oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oh(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function ip(r,t){const n=r.filters.concat([t]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rp(r,t,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Zh(r,t){return Bp(zi(r),zi(t))&&r.limitType===t.limitType}function pb(r){return`${jp(zi(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>fb(o))).join(", ")}]`),gu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(zi(r))}; limitType=${r.limitType})`}function tf(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=X0(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(f,m,p){const y=X0(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Kl(s),o))})(r,t)}function ux(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gb(r){return(t,n)=>{let s=!1;for(const o of Kl(r)){const u=cx(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cx(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?go(p,y):vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}class la{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){_s(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}const hx=new de(yt.comparator);function _r(){return hx}const yb=new de(yt.comparator);function ql(...r){let t=yb;for(const n of r)t=t.insert(n.key,n);return t}function _b(r){let t=yb;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ta(){return Xl()}function vb(){return Xl()}function Xl(){return new la((r=>r.toString()),((r,t)=>r.isEqual(t)))}const fx=new de(yt.comparator),dx=new je(yt.comparator);function zt(...r){let t=dx;for(const n of r)t=t.add(n);return t}const mx=new je(Ut);function px(){return mx}function qp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function Eb(r){return{integerValue:""+r}}function gx(r,t){return HI(t)?Eb(t):qp(r,t)}class ef{constructor(){this._=void 0}}function yx(r,t,n){return r instanceof su?(function(o,u){const f={fields:{[nb]:{stringValue:eb},[rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Up(u)&&(u=Jh(u)),u&&(f.fields[ib]=u),{mapValue:f}})(n,t):r instanceof au?bb(r,t):r instanceof ou?Sb(r,t):(function(o,u){const f=Tb(o,u),m=Z0(f)+Z0(o.Ae);return tp(f)&&tp(o.Ae)?Eb(m):qp(o.serializer,m)})(r,t)}function _x(r,t,n){return r instanceof au?bb(r,t):r instanceof ou?Sb(r,t):n}function Tb(r,t){return r instanceof Vh?(function(s){return tp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class su extends ef{}class au extends ef{constructor(t){super(),this.elements=t}}function bb(r,t){const n=Ab(t);for(const s of r.elements)n.some((o=>Hi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends ef{constructor(t){super(),this.elements=t}}function Sb(r,t){let n=Ab(t);for(const s of r.elements)n=n.filter((o=>!Hi(o,s)));return{arrayValue:{values:n}}}class Vh extends ef{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Z0(r){return Se(r.integerValue||r.doubleValue)}function Ab(r){return zp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class vx{constructor(t,n){this.field=t,this.transform=n}}function Ex(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?po(s.elements,o.elements,Hi):s instanceof Vh&&o instanceof Vh?Hi(s.Ae,o.Ae):s instanceof su&&o instanceof su})(r.transform,t.transform)}class Tx{constructor(t,n){this.version=t,this.transformResults=n}}class an{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ph(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nf{}function wb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new rf(r.key,an.none()):new _u(r.key,r.data,an.none());{const n=r.data,s=hn.empty();let o=new je(tn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new vs(r.key,s,new On(o.toArray()),an.none())}}function bx(r,t,n){r instanceof _u?(function(o,u,f){const m=o.value.clone(),p=eE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof vs?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=eE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Rb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function $l(r,t,n,s){return r instanceof _u?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=u.value.clone(),E=nE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof vs?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const y=nE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Rb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function Sx(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=Tb(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function tE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,f)=>Ex(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class _u extends nf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends nf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Rb(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function eE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,_x(f,m,n[o]))}return s}function nE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,yx(u,f,t))}return s}class rf extends nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb extends nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&bx(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=$l(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=$l(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=vb();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=wb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,((n,s)=>tE(n,s)))&&po(this.baseMutations,t.baseMutations,((n,s)=>tE(n,s)))}}class Hp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return fx})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Hp(t,n,s,o)}}class wx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Rx{constructor(t,n){this.count=t,this.unchangedNames=n}}var Ve,qt;function Ib(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function xb(r){if(r===void 0)return yr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ve.OK:return Z.OK;case Ve.CANCELLED:return Z.CANCELLED;case Ve.UNKNOWN:return Z.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return Z.INTERNAL;case Ve.UNAVAILABLE:return Z.UNAVAILABLE;case Ve.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ve.NOT_FOUND:return Z.NOT_FOUND;case Ve.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ve.ABORTED:return Z.ABORTED;case Ve.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ve.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(qt=Ve||(Ve={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function Cx(){return new TextEncoder}const Ix=new ls([4294967295,4294967295],0);function iE(r){const t=Cx().encode(r),n=new qT;return n.update(t),new Uint8Array(n.digest())}function rE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Fp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ls.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ls.fromNumber(s)));return o.compare(Ix)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Fp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new sf(Tt.min(),o,new de(Ut),_r(),zt())}}class vu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new vu(s,n,zt(),zt(),zt())}}class gh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Db{constructor(t,n){this.targetId=t,this.Ce=n}}class Nb{constructor(t,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Fe=aE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new vu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=aE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xx{constructor(t){this.Ge=t,this.ze=new Map,this.je=_r(),this.Je=rh(),this.He=rh(),this.Ye=new de(Ut)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(np(u))if(s===0){const f=new yt(u.path);this.et(n,f,Qe.newNoDocument(f,Tt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ds(s).toUint8Array()}catch(p){if(p instanceof tb)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fp(f,o,u)}catch(p){return mo(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&np(m.target)){const p=new yt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Qe.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=zt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new sf(t,n,this.Ye,this.je,s);return this.je=_r(),this.Je=rh(),this.He=rh(),this.Ye=new de(Ut),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new sE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new je(Ut),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new je(Ut),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function rh(){return new de(yt.comparator)}function aE(){return new de(yt.comparator)}const Dx={asc:"ASCENDING",desc:"DESCENDING"},Nx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ox={and:"AND",or:"OR"};class Mx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sp(r,t){return r.useProto3Json||gu(t)?t:{value:t}}function kh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ob(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Vx(r,t){return kh(r,t.toTimestamp())}function Vn(r){return Ht(!!r,49232),Tt.fromTimestamp((function(n){const s=fs(n);return new le(s.seconds,s.nanos)})(r))}function Gp(r,t){return ap(r,t).canonicalString()}function ap(r,t){const n=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function Mb(r){const t=ie.fromString(r);return Ht(zb(t),10190,{key:t.toString()}),t}function Ph(r,t){return Gp(r.databaseId,t.path)}function Jl(r,t){const n=Mb(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(kb(n))}function Vb(r,t){return Gp(r.databaseId,t)}function kx(r){const t=Mb(r);return t.length===4?ie.emptyPath():kb(t)}function op(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kb(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function oE(r,t,n){return{name:Ph(r,t),fields:n.value.mapValue.fields}}function Px(r,t){return"found"in t?(function(s,o){Ht(!!o.found,43571),o.found.name,o.found.updateTime;const u=Jl(s,o.found.name),f=Vn(o.found.updateTime),m=o.found.createTime?Vn(o.found.createTime):Tt.min(),p=new hn({mapValue:{fields:o.found.fields}});return Qe.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Ht(!!o.missing,3894),Ht(!!o.readTime,22933);const u=Jl(s,o.missing),f=Vn(o.readTime);return Qe.newNoDocument(u,f)})(r,t):vt(7234,{result:t})}function Lx(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:xb(y.code);return new ct(E,y.message||"")})(f);n=new Nb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jl(r,s.document.name),u=Vn(s.document.updateTime),f=s.document.createTime?Vn(s.document.createTime):Tt.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Jl(r,s.document),u=s.readTime?Vn(s.readTime):Tt.min(),f=Qe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Jl(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Rx(o,u),m=s.targetId;n=new Db(m,f)}}return n}function Pb(r,t){let n;if(t instanceof _u)n={update:oE(r,t.key,t.value)};else if(t instanceof rf)n={delete:Ph(r,t.key)};else if(t instanceof vs)n={update:oE(r,t.key,t.data),updateMask:Qx(t.fieldMask)};else{if(!(t instanceof Cb))return vt(16599,{Vt:t.type});n={verify:Ph(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Vx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,t.precondition)),n}function Ux(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Vn(o.updateTime):Vn(u);return f.isEqual(Tt.min())&&(f=Vn(u)),new Tx(f,o.transformResults||[])})(n,t)))):[]}function zx(r,t){return{documents:[Vb(r,t.path)]}}function jx(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Vb(r,o);const u=(function(y){if(y.length!==0)return Ub(fi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:ro(R.field),direction:Hx(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=sp(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function Bx(r){let t=kx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=Lb(T);return R instanceof fi&&cb(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(H){return new Mh(so(H.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,gu(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,L=T.values||[];return new Oh(L,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const R=!T.before,L=T.values||[];return new Oh(L,R)})(n.endAt)),ox(t,o,f,u,m,"F",p,y)}function qx(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Lb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return ke.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((s=>Lb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(r):vt(30097,{filter:r})}function Hx(r){return Dx[r]}function Fx(r){return Nx[r]}function Gx(r){return Ox[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return tn.fromServerFormat(r.fieldPath)}function Ub(r){return r instanceof ke?(function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:Fx(n.op),value:n.value}}})(r):r instanceof fi?(function(n){const s=n.getFilters().map((o=>Ub(o)));return s.length===1?s[0]:{compositeFilter:{op:Gx(n.op),filters:s}}})(r):vt(54877,{filter:r})}function Qx(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function zb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class rs{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new rs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Yx{constructor(t){this.yt=t}}function Kx(r){const t=Bx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rp(t,t.limit,"L"):t}class Xx{constructor(){this.Cn=new $x}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(hs.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(hs.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class $x{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new je(ie.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new je(ie.comparator)).toArray()}}const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jb=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(jb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class _o{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const uE="LruGarbageCollector",Jx=1048576;function cE([r,t],[n,s]){const o=Ut(r,n);return o===0?Ut(t,s):o}class Wx{constructor(t){this.Ir=t,this.buffer=new je(cE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(uE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ht(uE,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)}))}}class tD{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve($h.ce);const s=new Wx(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(lE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),no()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function eD(r,t){return new tD(r,t)}class nD{constructor(){this.changes=new la((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class rD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&$l(s.mutation,o,On.empty(),le.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const o=ta();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=_r();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),$l(E.mutation,y,E.mutation.getFieldMask(),le.now())):f.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new iD(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Xl();let o=new de(((f,m)=>f-m)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||On.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||zt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=vb();E.forEach((R=>{if(!u.has(R)){const L=wb(n.get(R),s.get(R));L!==null&&T.set(R,L),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return it.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):mb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):it.resolve(ta());let m=eu,p=u;return f.next((y=>it.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,zt()))).next((E=>({batchId:m,changes:_b(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(t,u).next((m=>it.forEach(m,(p=>{const y=(function(T,R){return new yu(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Qe.newInvalidDocument(E)))}));let m=ql();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,y,On.empty(),le.now()),tf(n,y)&&(m=m.insert(p,y))})),m}))}}class sD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Kx(o.bundledQuery),readTime:Vn(o.readTime)}})(n)),it.resolve()}}class aD{constructor(){this.overlays=new de(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ta();return it.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=ta(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new de(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ta(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return it.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wx(n,s));let u=this.qr.get(n);u===void 0&&(u=zt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class oD{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}class Qp{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ge(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ge(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ie([])),s=new Ge(n,t),o=new Ge(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ie([])),s=new Ge(n,t),o=new Ge(n,t+1);let u=zt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ge(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Ut(t.Yr,n.Yr)}static Kr(t,n){return Ut(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class lD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Ax(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ge(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(f)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ge(n,0),o=new Ge(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new je(Ut);return n.forEach((o=>{const u=new Ge(o,0),f=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),it.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ge(new yt(u),0);let m=new je(Ut);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),it.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return it.forEach(n.mutations,(o=>{const u=new Ge(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ge(n,0),o=this.Zr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uD{constructor(t){this.ri=t,this.docs=(function(){return new de(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=_r();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qe.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=_r();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||zI(UI(E),s)<=0||(o.has(E.key)||tf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ii(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new cD(this)}getSize(t){return it.resolve(this.size)}}class cD extends nD{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class hD{constructor(t){this.persistence=t,this.si=new la((n=>jp(n)),Bp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=_o.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}class Bb{constructor(t,n){this.ui={},this.overlays={},this.ci=new $h(0),this.li=!1,this.li=!0,this.hi=new oD,this.referenceDelegate=t(this),this.Pi=new hD(this),this.indexManager=new Xx,this.remoteDocumentCache=(function(o){return new uD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Yx(n),this.Ii=new sD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new lD(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new fD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return it.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class fD extends BI{constructor(t){super(),this.currentSequenceNumber=t}}class Yp{constructor(t){this.persistence=t,this.Ri=new Qp,this.Vi=null}static mi(t){return new Yp(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Lh{constructor(t,n){this.persistence=t,this.pi=new la((s=>FI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=eD(this,n)}static mi(t,n){return new Lh(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=dh(t.data.value)),n}br(t,n,s){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Kp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=zt(),o=zt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kp(t,n.fromCache,s,o)}}class dD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class mD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sR()?8:qI(on())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new dD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(no()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(no()<=Lt.DEBUG&&ht("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(no()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(n))):it.resolve())}ys(t,n){if(W0(n))return it.resolve(null);let s=zi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=rp(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=zt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(t,rp(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,s,o){return W0(n)||o.isEqual(Tt.min())?it.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?it.resolve(null):(no()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.vs(t,f,n,LI(o,eu)).next((m=>m)))}))}Ds(t,n){let s=new je(gb(t));return n.forEach(((o,u)=>{tf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return no()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(t,n,hs.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Xp="LocalStore",pD=3e8;class gD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new de(Ut),this.xs=new la((u=>jp(u)),Bp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function yD(r,t,n,s){return new gD(r,t,n,s)}async function qb(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=zt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function _D(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,R=T.keys();let L=it.resolve();return R.forEach((H=>{L=L.next((()=>E.getEntry(p,H))).next((G=>{const q=y.docVersions.get(H);Ht(q!==null,48541),G.version.compareTo(q)<0&&(T.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=zt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Hb(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function vD(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?L=L.withResumeToken(en.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(G,q,J){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=pD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(R,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=_r(),y=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(ED(u,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Tt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return it.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function ED(r,t,n){let s=zt(),o=zt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=_r();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(Xp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function TD(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function bD(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new rs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function lp(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Do(f))throw f;ht(Xp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function hE(r,t,n){const s=At(r);let o=Tt.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=At(p),R=T.xs.get(E);return R!==void 0?it.resolve(T.Ms.get(R)):T.Pi.getTargetData(y,E)})(s,f,zi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:zt()))).next((m=>(SD(s,ux(t),m),{documents:m,Qs:u})))))}function SD(r,t,n){let s=r.Os.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class fE{constructor(){this.activeTargetIds=px()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AD{constructor(){this.Mo=new fE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new fE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wD{Oo(t){}shutdown(){}}const dE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(dE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(dE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let sh=null;function up(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}const Vm="RestConnection",RD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=up(),m=this.zo(t,n.toUriEncodedString());ht(Vm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=wo(y);return this.Jo(t,m,p,s,E).then((T=>(ht(Vm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw mo(Vm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=RD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ID{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class xD extends CD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=up();return new Promise(((m,p)=>{const y=new HT;y.setWithCredentials(!0),y.listenOnce(FT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fh.NO_ERROR:const T=y.getResponseJson();ht(rn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case fh.TIMEOUT:ht(rn,`RPC '${t}' ${f} timed out`),p(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const R=y.getStatus();if(ht(rn,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const H=L?.error;if(H&&H.status&&H.message){const G=(function(J){const X=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN})(H.status);p(new ct(G,H.message))}else p(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(rn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(rn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=up(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=YT(),m=QT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(rn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let R=!1,L=!1;const H=new ID({Yo:q=>{L?ht(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(R||(ht(rn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),R=!0),ht(rn,`RPC '${t}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),G=(q,J,X)=>{q.listen(J,(W=>{try{X(W)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return G(T,Bl.EventType.OPEN,(()=>{L||(ht(rn,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),G(T,Bl.EventType.CLOSE,(()=>{L||(L=!0,ht(rn,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(T))})),G(T,Bl.EventType.ERROR,(q=>{L||(L=!0,mo(rn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),H.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),G(T,Bl.EventType.MESSAGE,(q=>{if(!L){const J=q.data[0];Ht(!!J,16349);const X=J,W=X?.error||X[0]?.error;if(W){ht(rn,`RPC '${t}' stream ${o} received error:`,W);const rt=W.status;let ot=(function(S){const C=Ve[S];if(C!==void 0)return xb(C)})(rt),ft=W.message;ot===void 0&&(ot=Z.INTERNAL,ft="Unknown error status: "+rt+" with message "+W.message),L=!0,H.a_(new ct(ot,ft)),T.close()}else ht(rn,`RPC '${t}' stream ${o} received:`,J),H.u_(J)}})),G(m,GT.STAT_EVENT,(q=>{q.stat===Jm.PROXY?ht(rn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Jm.NOPROXY&&ht(rn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function km(){return typeof document<"u"?document:null}function af(r){return new Mx(r,!0)}class $p{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pE="PersistentStream";class Fb{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $p(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(pE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DD extends Fb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Lx(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?Vn(f.readTime):Tt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=op(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=np(p)?{documents:zx(u,p)}:{query:jx(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ob(u,f.resumeToken);const y=sp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=kh(u,f.snapshotVersion.toTimestamp());const y=sp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=qx(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=op(this.serializer),n.removeTarget=t,this.q_(n)}}class ND extends Fb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Ux(t.writeResults,t.commitTime),s=Vn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=op(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>Pb(this.serializer,s)))};this.q_(n)}}class OD{}class MD extends OD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,ap(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,ap(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class kD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ua(this)&&(ht(oa,"Restarting streams for network reachability change."),await(async function(p){const y=At(p);y.Ea.add(4),await Eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await of(y)})(this))}))})),this.Ra=new VD(s,o)}}async function of(r){if(ua(r))for(const t of r.da)await t(!0)}async function Eu(r){for(const t of r.da)await t(!1)}function Gb(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),tg(n)?Zp(n):No(n).O_()&&Wp(n,t))}function Jp(r,t){const n=At(r),s=No(n);n.Ia.delete(t),s.O_()&&Qb(n,t),n.Ia.size===0&&(s.O_()?s.L_():ua(n)&&n.Ra.set("Unknown"))}function Wp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}No(r).Y_(t)}function Qb(r,t){r.Va.Ue(t),No(r).Z_(t)}function Zp(r){r.Va=new xx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Ra.ua()}function tg(r){return ua(r)&&!No(r).x_()&&r.Ia.size>0}function ua(r){return At(r).Ea.size===0}function Yb(r){r.Va=void 0}async function PD(r){r.Ra.set("Online")}async function LD(r){r.Ia.forEach(((t,n)=>{Wp(r,t)}))}async function UD(r,t){Yb(r),tg(r)?(r.Ra.ha(t),Zp(r)):r.Ra.set("Unknown")}async function zD(r,t,n){if(r.Ra.set("Online"),t instanceof Nb&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ht(oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Uh(r,s)}else if(t instanceof gh?r.Va.Ze(t):t instanceof Db?r.Va.st(t):r.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await Hb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),Qb(u,p);const T=new rs(E.target,p,y,E.sequenceNumber);Wp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ht(oa,"Failed to raise snapshot:",s),await Uh(r,s)}}async function Uh(r,t,n){if(!Do(t))throw t;r.Ea.add(1),await Eu(r),r.Ra.set("Offline"),n||(n=()=>Hb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await of(r)}))}function Kb(r,t){return t().catch((n=>Uh(r,n,t)))}async function lf(r){const t=At(r),n=ps(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lp;for(;jD(t);)try{const o=await TD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,BD(t,o)}catch(o){await Uh(t,o)}Xb(t)&&$b(t)}function jD(r){return ua(r)&&r.Ta.length<10}function BD(r,t){r.Ta.push(t);const n=ps(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Xb(r){return ua(r)&&!ps(r).x_()&&r.Ta.length>0}function $b(r){ps(r).start()}async function qD(r){ps(r).ra()}async function HD(r){const t=ps(r);for(const n of r.Ta)t.ea(n.mutations)}async function FD(r,t,n){const s=r.Ta.shift(),o=Hp.from(s,t,n);await Kb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lf(r)}async function GD(r,t){t&&ps(r).X_&&await(async function(s,o){if((function(f){return Ib(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await Kb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(s)}})(r,t),Xb(r)&&$b(r)}async function gE(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ht(oa,"RemoteStore received new credentials");const s=ua(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await of(n)}async function QD(r,t){const n=At(r);t?(n.Ea.delete(2),await of(n)):t||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=At(n);return u.sa(),new DD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:PD.bind(null,r),t_:LD.bind(null,r),r_:UD.bind(null,r),H_:zD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),tg(r)?Zp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Yb(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=At(n);return u.sa(),new ND(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qD.bind(null,r),r_:GD.bind(null,r),ta:HD.bind(null,r),na:FD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await lf(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class eg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new eg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,t){if(yr("AsyncQueue",`${t}: ${r}`),Do(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class co{static emptySet(t){return new co(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class yE{constructor(){this.ga=new de(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class vo{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new vo(t,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class YD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KD{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=_E(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function _E(){return new la((r=>pb(r)),Zh)}async function ig(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new YD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ng(f,`Initialization of query '${io(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&sg(n)}async function rg(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XD(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&sg(n)}function $D(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function sg(r){r.Ca.forEach((t=>{t.next()}))}var cp,vE;(vE=cp||(cp={})).Ma="default",vE.Cache="cache";class ag{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new vo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cp.Cache}}class Jb{constructor(t){this.key=t}}class Wb{constructor(t){this.key=t}}class JD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=gb(t),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new yE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const R=o.get(E),L=tf(this.query,T)?T:null,H=!!R&&this.mutatedKeys.has(R.key),G=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let q=!1;R&&L?R.data.isEqual(L.data)?H!==G&&(s.track({type:3,doc:L}),q=!0):this.su(R,L)||(s.track({type:2,doc:L}),q=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),q=!0):R&&!L&&(s.track({type:1,doc:R}),q=!0,(p||y)&&(m=!0)),q&&(L?(f=f.add(L),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(L,H){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:q})}};return G(L)-G(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new vo(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new Wb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new Jb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class WD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class ZD{constructor(t){this.key=t,this.hu=!1}}class tN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>pb(m)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new de(yt.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eN(r,t,n=!0){const s=rS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Zb(s,t,n,!0),o}async function nN(r,t){const n=rS(r);await Zb(n,t,!0,!1)}async function Zb(r,t,n,s){const o=await bD(r.localStore,zi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await iN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Gb(r.remoteStore,o),m}async function iN(r,t,n,s,o){r.pu=(T,R,L)=>(async function(G,q,J,X){let W=q.view.ru(J);W.Cs&&(W=await hE(G.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,W))));const rt=X&&X.targetChanges.get(q.targetId),ot=X&&X.targetMismatches.get(q.targetId)!=null,ft=q.view.applyChanges(W,G.isPrimaryClient,rt,ot);return TE(G,q.targetId,ft.au),ft.snapshot})(r,T,R,L);const u=await hE(r.localStore,t,!0),f=new JD(t,u.Qs),m=f.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);TE(r,n,y.au);const E=new WD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function rN(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Zh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jp(s.remoteStore,o.targetId),hp(s,o.targetId)})).catch(xo)):(hp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function sN(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jp(n.remoteStore,s.targetId))}async function aN(r,t,n){const s=dN(r);try{const o=await(function(f,m){const p=At(f),y=le.now(),E=m.reduce(((L,H)=>L.add(H.key)),zt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let H=_r(),G=zt();return p.Ns.getEntries(L,E).next((q=>{H=q,H.forEach(((J,X)=>{X.isValidDocument()||(G=G.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,H))).next((q=>{T=q;const J=[];for(const X of m){const W=Sx(X,T.get(X.key).overlayedDocument);W!=null&&J.push(new vs(X.key,W,ob(W.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,J,m)})).next((q=>{R=q;const J=q.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(L,q.batchId,J)}))})).then((()=>({batchId:R.batchId,changes:_b(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new de(Ut)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Tu(s,o.changes),await lf(s.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function tS(r,t){const n=At(r);try{const s=await vD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await Tu(n,s,t)}catch(s){await xo(s)}}function EE(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(y=!0)})),y&&sg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function oN(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new de(yt.comparator);f=f.insert(u,Qe.newNoDocument(u,Tt.min()));const m=zt().add(u),p=new sf(Tt.min(),new Map,new de(Ut),f,m);await tS(s,p),s.du=s.du.remove(u),s.Au.delete(t),lg(s)}else await lp(s.localStore,t,!1).then((()=>hp(s,t,n))).catch(xo)}async function lN(r,t){const n=At(r),s=t.batch.batchId;try{const o=await _D(n.localStore,t);nS(n,s,null),eS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await xo(o)}}async function uN(r,t,n){const s=At(r);try{const o=await(function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ht(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);nS(s,t,n),eS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Tu(s,o)}catch(o){await xo(o)}}function eS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function nS(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function hp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||iS(r,s)}))}function iS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Jp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),lg(r))}function TE(r,t,n){for(const s of n)s instanceof Jb?(r.Ru.addReference(s.key,t),cN(r,s)):s instanceof Wb?(ht(og,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||iS(r,s.key)):vt(19791,{wu:s})}function cN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(og,"New document in limbo: "+n),r.Eu.add(s),lg(r))}function lg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new yt(ie.fromString(t)),s=r.fu.next();r.Au.set(s,new ZD(n)),r.du=r.du.insert(n,s),Gb(r.remoteStore,new rs(zi(Wh(n.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function Tu(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Kp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>it.forEach(y,(R=>it.forEach(R.Es,(L=>E.persistence.referenceDelegate.addReference(T,R.targetId,L))).next((()=>it.forEach(R.ds,(L=>E.persistence.referenceDelegate.removeReference(T,R.targetId,L)))))))))}catch(T){if(!Do(T))throw T;ht(Xp,"Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const L=E.Ms.get(R),H=L.snapshotVersion,G=L.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(R,G)}}})(s.localStore,u))}async function hN(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ht(og,"User change. New user:",t.toKey());const s=await qb(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ct(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function fN(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let o=zt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function rS(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oN.bind(null,t),t.Pu.H_=XD.bind(null,t.eventManager),t.Pu.yu=$D.bind(null,t.eventManager),t}function dN(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uN.bind(null,t),t}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=af(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return yD(this.persistence,new mD,t.initialUser,this.serializer)}Cu(t){return new Bb(Yp.mi,this.serializer)}Du(t){return new AD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class mN extends zh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Zx(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Bb((s=>Lh.mi(s,n)),this.serializer)}}class fp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>EE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hN.bind(null,this.syncEngine),await QD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KD})()}createDatastore(t){const n=af(t.databaseInfo.databaseId),s=(function(u){return new xD(u)})(t.databaseInfo);return(function(u,f,m,p){return new MD(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new kD(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>EE(this.syncEngine,n,0)),(function(){return mE.v()?new mE:new wD})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const T=new tN(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=At(n);ht(oa,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class ug{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}class pN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=At(o),m={documents:u.map((T=>Ph(f.serializer,T)))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,ie.emptyPath(),m,u.length),y=new Map;p.forEach((T=>{const R=Px(f.serializer,T);y.set(R.key.toString(),R)}));const E=[];return u.forEach((T=>{const R=y.get(T.toString());Ht(!!R,55234,{key:T}),E.push(R)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new rf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=yt.fromPath(s);this.mutations.push(new Cb(o,this.precondition(o)))})),await(async function(s,o){const u=At(s),f={writes:o.map((m=>Pb(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,ie.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Gu:t.constructor.name});n=Tt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ct(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Tt.min())?an.exists(!1):an.updateTime(n):an.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Tt.min()))throw new ct(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class gN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new $p(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new pN(this.datastore),n=this.Hu(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const n=this.updateFunction(t);return!gu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Ib(n)}return!1}}const gs="FirestoreClient";class yN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ng(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Pm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await qb(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function bE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await _N(r);ht(gs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>gE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>gE(t.remoteStore,o))),r._onlineComponents=t}async function _N(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(gs,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new zh)}}else ht(gs,"Using default OfflineComponentProvider"),await Pm(r,new mN(void 0));return r._offlineComponents}async function cg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(gs,"Using user provided OnlineComponentProvider"),await bE(r,r._uninitializedComponentsProvider._online)):(ht(gs,"Using default OnlineComponentProvider"),await bE(r,new fp))),r._onlineComponents}function vN(r){return cg(r).then((t=>t.syncEngine))}function EN(r){return cg(r).then((t=>t.datastore))}async function jh(r){const t=await cg(r),n=t.eventManager;return n.onListen=eN.bind(null,t.syncEngine),n.onUnlisten=rN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sN.bind(null,t.syncEngine),n}function TN(r,t,n={}){const s=new Ui;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new ug({next:R=>{E.Nu(),f.enqueueAndForget((()=>rg(u,T)));const L=R.docs.has(m);!L&&R.fromCache?y.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&p&&p.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new ag(Wh(m.path),E,{includeMetadataChanges:!0,qa:!0});return ig(u,T)})(await jh(r),r.asyncQueue,t,n,s))),s.promise}function bN(r,t,n={}){const s=new Ui;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new ug({next:R=>{E.Nu(),f.enqueueAndForget((()=>rg(u,T))),R.fromCache&&p.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new ag(m,E,{includeMetadataChanges:!0,qa:!0});return ig(u,T)})(await jh(r),r.asyncQueue,t,n,s))),s.promise}function sS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const SE=new Map;const aS="firestore.googleapis.com",AE=!0;class wE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aS,this.ssl=AE}else this.host=t.host,this.ssl=t.ssl??AE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jx)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RI;switch(s.type){case"firstParty":return new DI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=SE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),SE.delete(n),s.terminate())})(this),Promise.resolve()}}function SN(r,t,n,s={}){r=Mn(r,uf);const o=wo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(rT(`https://${m}`),sT("Firestore",!0)),u.host!==aS&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ia(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=sn.MOCK_USER;else{y=$w(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(T)}r._authCredentials=new CI(new XT(y,E))}}class ca{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ca(this.firestore,t,this._query)}}class _e{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(pu(n,_e._jsonSchema))return new _e(t,s||null,new yt(ie.fromString(n.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Pe("string",_e._jsonSchemaVersion),referencePath:Pe("string")};class us extends ca{constructor(t,n,s){super(t,n,Wh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new yt(t))}withConverter(t){return new us(this.firestore,t,this._path)}}function En(r,t,...n){if(r=Be(r),$T("collection","path",t),r instanceof uf){const s=ie.fromString(t,...n);return U0(s),new us(r,null,s)}{if(!(r instanceof _e||r instanceof us))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return U0(s),new us(r.firestore,null,s)}}function Dn(r,t,...n){if(r=Be(r),arguments.length===1&&(t=Pp.newId()),$T("doc","path",t),r instanceof uf){const s=ie.fromString(t,...n);return L0(s),new _e(r,null,new yt(s))}{if(!(r instanceof _e||r instanceof us))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return L0(s),new _e(r.firestore,r instanceof us?r.converter:null,new yt(s))}}const RE="AsyncQueue";class CE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $p(this,"async_queue_retry"),this._c=()=>{const s=km();s&&ht(RE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Do(t))throw t;ht(RE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",IE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=eg.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function IE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function xE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class vr extends uf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new CE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CE(t),this._firestoreClient=void 0,await t}}}function AN(r,t){const n=typeof r=="object"?r:uT(),s=typeof r=="string"?r:Dh,o=Ap(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Kw("firestore");u&&SN(o,...u)}return o}function bu(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wN(r),r._firestoreClient}function wN(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new YI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,sS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new yN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(en.fromBase64String(t))}catch(n){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Nn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(pu(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Pe("string",Nn._jsonSchemaVersion),bytes:Pe("string")};class cf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class hf{constructor(t){this._methodName=t}}class ji{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(pu(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Pe("string",ji._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class Bi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(pu(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Bi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Pe("string",Bi._jsonSchemaVersion),vectorValues:Pe("object")};const RN=/^__.*__$/;class CN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new vs(t,this.data,this.fieldMask,n,this.fieldTransforms):new _u(t,this.data,n,this.fieldTransforms)}}class oS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new vs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function lS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class hg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Bh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(lS(this.Ac)&&RN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class IN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||af(t)}Cc(t,n,s,o=!1){return new hg({Ac:t,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ff(r){const t=r._freezeSettings(),n=af(r._databaseId);return new IN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function fg(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);mg("Data must be an object, but it was:",f,s);const m=uS(s,f);let p,y;if(u.merge)p=new On(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=dp(t,T,n);if(!f.contains(R))throw new ct(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);hS(E,R)||E.push(R)}p=new On(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new CN(new hn(m),p,y)}class df extends hf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof df}}class dg extends hf{_toFieldTransform(t){return new vx(t.path,new su)}isEqual(t){return t instanceof dg}}function xN(r,t,n,s){const o=r.Cc(1,t,n);mg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();_s(s,((p,y)=>{const E=pg(t,p,n);y=Be(y);const T=o.yc(E);if(y instanceof df)u.push(E);else{const R=Su(y,T);R!=null&&(u.push(E),f.set(E,R))}}));const m=new On(u);return new oS(f,m,o.fieldTransforms)}function DN(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[dp(t,s,n)],p=[o];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(dp(t,u[R])),p.push(u[R+1]);const y=[],E=hn.empty();for(let R=m.length-1;R>=0;--R)if(!hS(y,m[R])){const L=m[R];let H=p[R];H=Be(H);const G=f.yc(L);if(H instanceof df)y.push(L);else{const q=Su(H,G);q!=null&&(y.push(L),E.set(L,q))}}const T=new On(y);return new oS(E,T,f.fieldTransforms)}function NN(r,t,n,s=!1){return Su(n,r.Cc(s?4:3,t))}function Su(r,t){if(cS(r=Be(r)))return mg("Unsupported field value:",t,r),uS(r,t);if(r instanceof hf)return(function(s,o){if(!lS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Su(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=le.fromDate(s);return{timestampValue:kh(o.serializer,u)}}if(s instanceof le){const u=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:Ob(o.serializer,s._byteString)};if(s instanceof _e){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(f,m){return{mapValue:{fields:{[sb]:{stringValue:ab},[Nh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return qp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Xh(s)}`)})(r,t)}function uS(r,t){const n={};return ZT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_s(r,((s,o)=>{const u=Su(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function cS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof ji||r instanceof Nn||r instanceof _e||r instanceof hf||r instanceof Bi)}function mg(r,t,n){if(!cS(n)||!JT(n)){const s=Xh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function dp(r,t,n){if((t=Be(t))instanceof cf)return t._internalPath;if(typeof t=="string")return pg(r,t);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ON=new RegExp("[~\\*/\\[\\]]");function pg(r,t,n){if(t.search(ON)>=0)throw Bh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new cf(...t.split("."))._internalPath}catch{throw Bh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(Z.INVALID_ARGUMENT,m+r+p)}function hS(r,t){return r.some((n=>n.isEqual(t)))}class qh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MN extends qh{data(){return super.data()}}function gg(r,t){return typeof t=="string"?pg(r,t):t instanceof cf?t._internalPath:t._delegate._internalPath}function fS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class VN extends yg{}function mf(r,t,...n){let s=[];t instanceof yg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof _g)).length,m=u.filter((p=>p instanceof pf)).length;if(f>1||f>0&&m>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class pf extends VN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new pf(t,n,s)}_apply(t){const n=this._parse(t);return dS(t._query,n),new ca(t.firestore,t.converter,ip(t._query,n))}_parse(t){const n=ff(t.firestore);return(function(u,f,m,p,y,E,T){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){NE(T,E);const H=[];for(const G of T)H.push(DE(p,u,G));R={arrayValue:{values:H}}}else R=DE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||NE(T,E),R=NN(m,f,T,E==="in"||E==="not-in");return ke.create(y,E,R)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Eo(r,t,n){const s=t,o=gg("where",r);return pf._create(o,s,n)}class _g extends yg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _g(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)dS(f,p),f=ip(f,p)})(t._query,n),new ca(t.firestore,t.converter,ip(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DE(r,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(t)&&n.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!yt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(r,new yt(s))}if(n instanceof _e)return Q0(r,n._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function NE(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mS{convertValue(t,n="none"){switch(ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return _s(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Nh].arrayValue?.values?.map((s=>Se(s.doubleValue)));return new Bi(n)}convertGeoPoint(t){return new ji(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Jh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const n=fs(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);Ht(zb(s),9688,{name:t});const o=new iu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function vg(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class kN extends mS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}class ao{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cs extends qh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Pe("string",cs._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class yh extends cs{data(t={}){return super.data(t)}}class na{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ao(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:PN(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=na._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function _h(r){r=Mn(r,_e);const t=Mn(r.firestore,vr);return TN(bu(t),r._key).then((n=>pS(t,r,n)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Pe("string",na._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class gf extends mS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}function yf(r){r=Mn(r,ca);const t=Mn(r.firestore,vr),n=bu(t),s=new gf(t);return fS(r._query),bN(n,r._query).then((o=>new na(t,s,r,o)))}function Ws(r,t,n){r=Mn(r,_e);const s=Mn(r.firestore,vr),o=vg(r.converter,t,n);return Eg(s,[fg(ff(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,an.none())])}function jl(r){return Eg(Mn(r.firestore,vr),[new rf(r._key,an.none())])}function LN(r,t){const n=Mn(r.firestore,vr),s=Dn(r),o=vg(r.converter,t);return Eg(n,[fg(ff(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,an.exists(!1))]).then((()=>s))}function ur(r,...t){r=Be(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||xE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xE(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof _e)f=Mn(r.firestore,vr),m=Wh(r._key.path),u={next:p=>{t[s]&&t[s](pS(f,r,p))},error:t[s+1],complete:t[s+2]};else{const p=Mn(r,ca);f=Mn(p.firestore,vr),m=p._query;const y=new gf(f);u={next:E=>{t[s]&&t[s](new na(f,y,p,E))},error:t[s+1],complete:t[s+2]},fS(r._query)}return(function(y,E,T,R){const L=new ug(R),H=new ag(E,L,T);return y.asyncQueue.enqueueAndForget((async()=>ig(await jh(y),H))),()=>{L.Nu(),y.asyncQueue.enqueueAndForget((async()=>rg(await jh(y),H)))}})(bu(f),m,o,u)}function Eg(r,t){return(function(s,o){const u=new Ui;return s.asyncQueue.enqueueAndForget((async()=>aN(await vN(s),o,u))),u.promise})(bu(r),t)}function pS(r,t,n){const s=n.docs.get(t._key),o=new gf(r);return new cs(r,o,t._key,s,new ao(n.hasPendingWrites,n.fromCache),t.converter)}const UN={maxAttempts:5};function Fl(r,t){if((r=Be(r)).firestore!==t)throw new ct(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class zN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=ff(t)}get(t){const n=Fl(t,this._firestore),s=new kN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new qh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new qh(this._firestore,s,n._key,null,n.converter);throw vt(18433,{doc:u})}))}set(t,n,s){const o=Fl(t,this._firestore),u=vg(o.converter,n,s),f=fg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Fl(t,this._firestore);let f;return f=typeof(n=Be(n))=="string"||n instanceof cf?DN(this._dataReader,"Transaction.update",u._key,n,s,o):xN(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Fl(t,this._firestore);return this._transaction.delete(n._key),this}}class jN extends zN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Fl(t,this._firestore),s=new gf(this._firestore);return super.get(t).then((o=>new cs(this._firestore,s,n._key,o._document,new ao(!1,!1),n.converter)))}}function BN(r,t,n){r=Mn(r,vr);const s={...UN,...n};return(function(u){if(u.maxAttempts<1)throw new ct(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Ui;return u.asyncQueue.enqueueAndForget((async()=>{const y=await EN(u);new gN(u.asyncQueue,y,m,f,p).ju()})),p.promise})(bu(r),(o=>t(new jN(r,o))),s)}function li(){return new dg("serverTimestamp")}(function(t,n=!0){(function(o){Io=o})(Ro),ho(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new vr(new II(s.getProvider("auth-internal")),new NI(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),os(M0,V0,t),os(M0,V0,"esm2020")})();const qN={apiKey:"AIzaSyDYdiJjDRBA9nGPj8LGDxAE4O6o6Qlyx68",authDomain:"labyrinth-6dc4f.firebaseapp.com",projectId:"labyrinth-6dc4f",storageBucket:"labyrinth-6dc4f.firebasestorage.app",messagingSenderId:"912154260516",appId:"1:912154260516:web:e118702708fb452fde14b1"},gS=lT(qN),Lm=bI(gS),HN=new cr,se=AN(gS),yS=k.createContext(),Oo=()=>{const r=k.useContext(yS);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},FN=({children:r})=>{const[t,n]=k.useState(null),[s,o]=k.useState(!0);k.useEffect(()=>c2(Lm,y=>{n(y),o(!1)}),[]);const m={user:t,loading:s,loginWithGoogle:async()=>{try{return(await N2(Lm,HN)).user}catch(p){throw console.error("Google login error:",p),p}},logout:async()=>{try{await h2(Lm)}catch(p){throw console.error("Logout error:",p),p}},isAuthenticated:!!t};return I.jsx(yS.Provider,{value:m,children:!s&&r})},_S=k.createContext(),_f=()=>{const r=k.useContext(_S);if(!r)throw new Error("useMedia must be used within a MediaProvider");return r},GN=({children:r})=>{const[t,n]=k.useState(null),[s,o]=k.useState(!1),[u,f]=k.useState(!0),[m,p]=k.useState(!1),[y,E]=k.useState(null),T=k.useRef(null),R=k.useRef(null),L=k.useCallback(async(rt,ot=null)=>{try{const ft=rt==="video"?{video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:15},facingMode:"user",...ot&&{deviceId:{exact:ot}}}}:{audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,...ot&&{deviceId:{exact:ot}}}};return(await navigator.mediaDevices.getUserMedia(ft)).getTracks()[0]}catch(ft){if(console.error(`Error getting ${rt} track:`,ft),rt==="video"&&ft.name==="NotReadableError")return console.log("Camera busy, creating test video track for localhost testing"),H();throw ft}},[]),H=()=>{const rt=document.createElement("canvas");rt.width=640,rt.height=480;const ot=rt.getContext("2d"),ft=ot.createLinearGradient(0,0,640,480);return ft.addColorStop(0,"#8b5cf6"),ft.addColorStop(1,"#3b82f6"),ot.fillStyle=ft,ot.fillRect(0,0,640,480),ot.fillStyle="white",ot.font="30px Arial",ot.textAlign="center",ot.fillText("Test Video",320,240),ot.font="20px Arial",ot.fillText("Localhost Mode",320,280),rt.captureStream(15).getVideoTracks()[0]},G=k.useCallback(async(rt={})=>{p(!0),E(null);try{console.log("Initializing media with options:",rt),T.current&&(T.current.stop(),T.current=null),R.current&&(R.current.stop(),R.current=null);const ot=new MediaStream;if(rt.video!==!1)try{T.current=await L("video"),ot.addTrack(T.current),o(!0),console.log("Video track added")}catch(ft){console.warn("Could not get video track:",ft),o(!1)}else o(!1);if(rt.audio!==!1)try{R.current=await L("audio"),ot.addTrack(R.current),f(!0),console.log("Audio track added")}catch(ft){console.warn("Could not get audio track:",ft),f(!1)}else f(!1);return n(ot),console.log("Media initialized:",{hasVideo:!!T.current,hasAudio:!!R.current}),ot}catch(ot){throw console.error("Error initializing media:",ot),E(`Failed to initialize media: ${ot.message}`),ot}finally{p(!1)}},[L]),q=k.useCallback(async()=>{p(!0);try{if(s){console.log("Turning camera OFF..."),T.current&&(T.current.stop(),T.current=null);const rt=new MediaStream;R.current&&rt.addTrack(R.current),n(rt),o(!1),console.log("Camera turned OFF")}else{console.log("Turning camera ON...");try{T.current=await L("video");const rt=new MediaStream;R.current&&rt.addTrack(R.current),rt.addTrack(T.current),n(rt),o(!0),console.log("Camera turned ON")}catch(rt){console.error("Failed to enable camera:",rt),E("Cannot enable camera");return}}}catch(rt){console.error("Error toggling camera:",rt),E(`Failed to toggle camera: ${rt.message}`)}finally{p(!1)}},[s,L]),J=k.useCallback(async()=>{p(!0);try{if(u){console.log("Muting microphone..."),R.current&&(R.current.stop(),R.current=null);const rt=new MediaStream;T.current&&rt.addTrack(T.current),n(rt),f(!1),console.log("Microphone MUTED")}else{console.log("Unmuting microphone...");try{R.current=await L("audio");const rt=new MediaStream;T.current&&rt.addTrack(T.current),rt.addTrack(R.current),n(rt),f(!0),console.log("Microphone UNMUTED")}catch(rt){console.error("Failed to enable microphone:",rt),E("Cannot enable microphone");return}}}catch(rt){console.error("Error toggling microphone:",rt),E(`Failed to toggle microphone: ${rt.message}`)}finally{p(!1)}},[u,L]),X=k.useCallback(()=>{T.current&&(T.current.stop(),T.current=null),R.current&&(R.current.stop(),R.current=null),n(null),o(!1),f(!1)},[]);jm.useEffect(()=>{(async()=>{try{await G({video:!0,audio:!0})}catch{console.log("Auto-initialize failed, user will need to manually enable")}})()},[G]),jm.useEffect(()=>()=>{X()},[X]);const W={localStream:t,isCameraOn:s,isMicOn:u,isLoading:m,error:y,initializeMedia:G,toggleCamera:q,toggleMicrophone:J,stopMedia:X};return I.jsx(_S.Provider,{value:W,children:r})},QN=()=>Math.floor(1e5+Math.random()*9e5).toString(),YN=async r=>{const t=En(se,"rooms"),n=mf(t,Eo("roomCode","==",r));return(await yf(n)).empty},KN=async(r,t)=>{try{let n,s=!1;for(let f=0;f<5&&(n=QN(),s=await YN(n),!s);f++);if(!s)throw new Error("Could not generate unique room code. Please try again.");const o={name:r.name||`${t.displayName}'s Room`,maxParticipants:Math.min(Math.max(r.maxParticipants,2),10),currentParticipants:1,hostId:t.uid,hostName:t.displayName,hostPhotoURL:t.photoURL||"",createdAt:li(),lastActivity:li(),isActive:!0,status:"waiting",roomCode:n},u=await LN(En(se,"rooms"),o);return await Ws(Dn(se,"rooms",u.id,"participants",t.uid),{name:t.displayName,email:t.email,photoURL:t.photoURL||"",joinedAt:li(),isHost:!0,isActive:!0}),{id:u.id,...o,roomCode:n}}catch(n){throw console.error("Error creating room:",n),n}},vh=async r=>{try{const t=Dn(se,"rooms",r),n=await _h(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){throw console.error("Error getting room:",t),t}},XN=async r=>{try{const t=En(se,"rooms"),n=mf(t,Eo("roomCode","==",r)),s=await yf(n);if(!s.empty){const o=s.docs[0];return{id:o.id,...o.data()}}return null}catch(t){throw console.error("Error getting room by code:",t),t}},$N=async()=>{try{const r=En(se,"rooms"),t=mf(r,Eo("isActive","==",!0),Eo("status","in",["waiting","active"]));return(await yf(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(r){throw console.error("Error getting active rooms:",r),r}},Um=async r=>{try{const t=En(se,"rooms",r,"participants");return(await yf(t)).docs.map(s=>({id:s.id,...s.data()}))}catch(t){throw console.error("Error getting participants:",t),t}},JN=async(r,t)=>{try{console.log("=== JOIN ROOM ATTEMPT ==="),console.log(`User: ${t.uid} (${t.displayName})`),console.log(`Room: ${r}`);const n=Dn(se,"rooms",r,"participants",t.uid);if((await _h(n)).exists())return console.log("User already a participant, skipping join"),{alreadyJoined:!0};const o=Dn(se,"rooms",r),u=await _h(o);if(!u.exists())throw new Error("Room not found");const f=u.data();if(console.log("Current room state:",f),f.currentParticipants>=f.maxParticipants)throw console.log("Room is full, cannot join"),new Error("Room is full");return console.log("Starting transaction to join room..."),await BN(se,async m=>{const p=await m.get(o);if(!p.exists())throw new Error("Room not found");const y=p.data();if(console.log("Fresh room data in transaction:",y),y.currentParticipants>=y.maxParticipants)throw new Error("Room is now full");if((await m.get(n)).exists()){console.log("User already joined (race condition detected)");return}m.set(n,{name:t.displayName,email:t.email,photoURL:t.photoURL||"",joinedAt:li(),isHost:!1,isActive:!0}),m.update(o,{currentParticipants:y.currentParticipants+1,lastActivity:li()}),console.log("Transaction successful - user joined")}),console.log("=== JOIN SUCCESSFUL ==="),{success:!0}}catch(n){console.error("Join room error:",n);try{if((await _h(Dn(se,"rooms",r,"participants",t.uid))).exists())return console.log("User was added despite error (race condition)"),{alreadyJoined:!0}}catch(s){console.error("Final check error:",s)}throw n}},WN=(r,t)=>{try{const n=Dn(se,"rooms",r);return console.log(`Setting up room listener for: ${r}`),ur(n,o=>{if(console.log(`Room snapshot received for ${r}:`,o.exists()),o.exists()){const u={id:o.id,...o.data()};console.log("Room data:",u),t(u)}else console.log("Room does not exist"),t(null)},o=>{console.error("Error in room listener:",o),t(null,o)})}catch(n){throw console.error("Error setting up room listener:",n),n}},ZN=(r,t)=>{try{const n=En(se,"rooms",r,"participants");return console.log(`Setting up participants listener for room: ${r}`),ur(n,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));console.log(`Participants snapshot: ${u.length} participants`),t(u)},o=>{console.error("Error in participants listener:",o),t([],o)})}catch(n){throw console.error("Error setting up participants listener:",n),n}},tO=r=>{try{const t=En(se,"rooms"),n=mf(t,Eo("isActive","==",!0),Eo("status","in",["waiting","active"]));return ur(n,o=>{const u=o.docs.map(f=>({id:f.id,...f.data()}));r(u)},o=>{console.error("Error listening to active rooms:",o)})}catch(t){throw console.error("Error setting up active rooms listener:",t),t}},vS=k.createContext(),Tg=()=>{const r=k.useContext(vS);if(!r)throw new Error("useRoom must be used within a RoomProvider");return r},eO=({children:r})=>{const{user:t}=Oo(),[n,s]=k.useState([]),[o,u]=k.useState(null),[f,m]=k.useState(!1),[p,y]=k.useState(null),E=async J=>{if(!t)throw new Error("User must be logged in");m(!0),y(null);try{const X=await KN(J,t);return s(W=>[X,...W]),u(X),X}catch(X){throw y(X.message),X}finally{m(!1)}},T=async()=>{m(!0);try{const J=await $N();return s(J),J}catch(J){throw y(J.message),J}finally{m(!1)}},R=async J=>{m(!0);try{const X=await vh(J);if(!X||!X.isActive)throw new Error("Room not found or inactive");return u(X),X}catch(X){throw y(X.message),X}finally{m(!1)}},L=async J=>{m(!0);try{const X=await XN(J);if(!X||!X.isActive)throw new Error("Room not found or inactive");return u(X),X}catch(X){throw y(X.message),X}finally{m(!1)}},H=()=>{u(null)},G=()=>{y(null)};k.useEffect(()=>{t&&T()},[t]);const q={rooms:n,currentRoom:o,loading:f,error:p,createRoom:E,fetchActiveRooms:T,joinRoomById:R,joinRoomByCode:L,leaveRoom:H,clearError:G,setCurrentRoom:u};return I.jsx(vS.Provider,{value:q,children:r})},ES=k.createContext(),nO=()=>{const r=k.useContext(ES);if(!r)throw new Error("usePeer must be used within a PeerProvider");return r},iO=({children:r})=>{const{user:t}=Oo(),{localStream:n}=_f(),{currentRoom:s}=Tg(),[o,u]=k.useState({}),[f,m]=k.useState("idle"),[p,y]=k.useState(0),E=k.useRef({}),T=k.useRef(null),R=k.useRef([]),L={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"}]},H=k.useCallback(()=>{console.log("Cleaning up peer connections"),Object.values(E.current).forEach(S=>{S&&S.signalingState!=="closed"&&S.close()}),E.current={},R.current.forEach(S=>S()),R.current=[],u({}),m("idle"),y(0),console.log("Peer cleanup complete")},[]);k.useCallback(async S=>{if(!(!t||!S)){console.log("Initializing signaling for room:",S);try{const C=Dn(se,"rooms",S,"signaling",t.uid);await Ws(signingDocRef,{userId:t.uid,userName:t.displayName,isOnline:!0,lastSeen:li(),status:"online",readyForConnection:!0},{merge:!0}),console.log("Signaling document created/updated for user:",t.uid);const w=Dn(En(se,"rooms",S,"signaling","connections"),t.uid);await Ws(w,{userId:t.uid,userName:t.displayName,readyAt:li(),lookingForPeers:!0})}catch(C){console.error("Error creating signaling document:",C)}}},[t]);const G=k.useCallback((S,C)=>{console.log("Creating peer connection to:",S);try{const w=new RTCPeerConnection(L);return E.current[S]=w,T.current&&T.current.getTracks().forEach(x=>{w.addTrack(x,T.current)}),w.ontrack=x=>{console.log("Received remote track from:",S);const M=x.streams[0];M&&u(D=>({...D,[S]:{...D[S],stream:M,connectionState:w.connectionState||"connected",userData:C}}))},w.onicecandidate=x=>{x.candidate&&(console.log("New ICE candidate for:",S),q(S,x.candidate))},w.onconnectionstatechange=()=>{console.log(`Connection state with ${S}:`,w.connectionState),u(x=>({...x,[S]:{...x[S],connectionState:w.connectionState}})),w.connectionState==="connected"?(console.log(` Connected to ${S}`),m("connected")):(w.connectionState==="disconnected"||w.connectionState==="failed"||w.connectionState==="closed")&&(console.log(` Connection lost with ${S}`),E.current[S]&&delete E.current[S],u(x=>{const M={...x};return delete M[S],M}))},w.oniceconnectionstatechange=()=>{console.log(`ICE connection state with ${S}:`,w.iceConnectionState)},console.log("Peer connection created for:",S),w}catch(w){return console.error("Error creating peer connection:",w),null}},[]);k.useCallback(async(S,C)=>{console.log("Setting up direct connection with:",S);const w=new RTCPeerConnection(L);E.current[S]=w,T.current&&T.current.getTracks().forEach(x=>{w.addTrack(x,T.current)}),w.ontrack=x=>{console.log("Received remote stream from:",S);const M=x.streams[0];M&&(u(D=>({...D,[S]:{stream:M,connectionState:"connected",userData:C}})),m("connected"),console.log(" Stream added to state"))};try{const x=await w.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await w.setLocalDescription(x);const M=Dn(se,"rooms",s.id,"signaling",S,"offers",t.uid);await Ws(M,{sdp:JSON.stringify(x),from:t.uid,to:S,timestamp:li()}),console.log("Offer saved to Firestore for:",S)}catch(x){console.error("Error creating/sending offer:",x)}return w},[s?.id,t]);const q=k.useCallback(async(S,C)=>{if(!(!s?.id||!t))try{const w=Dn(se,"rooms",s.id,"signaling",t.uid,"candidates",Date.now().toString());await Ws(w,{to:S,from:t.uid,candidate:JSON.stringify(C.toJSON()),timestamp:li()}),console.log("ICE candidate sent to:",S)}catch(w){console.error("Error sending ICE candidate:",w)}},[s?.id,t]),J=k.useCallback(async(S,C)=>{if(!(!s?.id||!t)){console.log("Sending offer to user:",S);try{const w=Dn(se,"rooms",s.id,"signaling",S,"offers",t.uid);await Ws(w,{sdp:JSON.stringify(C),from:t.uid,fromName:t.displayName,to:S,timestamp:li(),type:"offer"}),console.log(" Offer saved to Firestore at path:",w.path),console.log("   - Collection: signaling/"+S+"/offers"),console.log("   - Document: "+t.uid)}catch(w){console.error(" Error sending offer:",w)}}},[s?.id,t]),X=k.useCallback(async(S,C)=>{if(!(!s?.id||!t)){console.log("Sending answer to user:",S);try{const w=Dn(se,"rooms",s.id,"signaling",S,"answers",t.uid);await Ws(w,{sdp:JSON.stringify(C),from:t.uid,fromName:t.displayName,to:S,timestamp:li(),type:"answer"}),console.log(" Answer saved to Firestore at path:",w.path)}catch(w){console.error(" Error sending answer:",w)}}},[s?.id,t]),W=k.useCallback(async(S,C)=>{console.log("Handling incoming offer from:",S);try{let w=E.current[S];if(!w&&(w=G(S,{id:S,name:"Remote User"}),!w))return;await w.setRemoteDescription(new RTCSessionDescription(C));const x=await w.createAnswer();await w.setLocalDescription(x),await X(S,x),console.log("Answer created and sent to:",S)}catch(w){console.error("Error handling incoming offer:",w)}},[G,X]),rt=k.useCallback(async(S,C)=>{console.log("Handling incoming answer from:",S);const w=E.current[S];if(!w){console.error("No peer connection found for:",S);return}try{await w.setRemoteDescription(new RTCSessionDescription(C)),console.log("Remote description set for:",S)}catch(x){console.error("Error setting remote description:",x)}},[]),ot=k.useCallback(async(S,C)=>{console.log("Handling incoming ICE candidate from:",S);const w=E.current[S];if(!w){console.error("No peer connection found for ICE candidate:",S);return}try{await w.addIceCandidate(new RTCIceCandidate(C)),console.log("ICE candidate added for:",S)}catch(x){console.error("Error adding ICE candidate:",x)}},[]),ft=k.useCallback(async(S,C)=>{if(!(!t||t.uid===S)){console.log("Connecting to user:",S),m("connecting");try{const w=G(S,C);if(!w)throw new Error("Failed to create peer connection");const x=await w.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await w.setLocalDescription(x),await J(S,x),console.log("Offer created and sent to:",S)}catch(w){console.error("Error connecting to user:",w),m("error")}}},[t,G,J]);k.useEffect(()=>{if(!s?.id||!t)return;console.log("Setting up offer listener");const S=En(se,"rooms",s.id,"signaling",t.uid,"offers"),C=ur(S,w=>{w.docChanges().forEach(async x=>{if(x.type==="added"){const M=x.doc.data();console.log("Received offer from:",M.from),await W(M.from,JSON.parse(M.sdp)),await jl(x.doc.ref)}})});return R.current.push(C),()=>{C&&C()}},[s?.id,t,W]),k.useEffect(()=>{if(!s?.id||!t)return;console.log("Setting up answer listener");const S=En(se,"rooms",s.id,"signaling",t.uid,"answers"),C=ur(S,w=>{w.docChanges().forEach(async x=>{if(x.type==="added"){const M=x.doc.data();console.log("Received answer from:",M.from),await rt(M.from,JSON.parse(M.sdp)),await jl(x.doc.ref)}})});return R.current.push(C),()=>{C&&C()}},[s?.id,t,rt]),k.useEffect(()=>{if(!s?.id||!t)return;console.log("Setting up participants listener");const S=En(se,"rooms",s.id,"participants"),C=ur(S,w=>{const x=w.docs.map(D=>({id:D.id,...D.data()}));console.log("Participants found:",x.length),x.filter(D=>D.id!==t.uid).forEach(D=>{E.current[D.id]||(console.log("Connecting to participant:",D.id),setTimeout(()=>{ft(D.id,{name:D.name,photoURL:D.photoURL})},1e3))})});return R.current.push(C),()=>{C&&C()}},[s?.id,t,ft]),k.useEffect(()=>{if(!s?.id||!t)return;console.log("Setting up signaling listeners");const S=En(se,"rooms",s.id,"signaling",t.uid,"offers"),C=ur(S,wt=>{wt.docChanges().forEach(Ot=>{if(Ot.type==="added"){const Y=Ot.doc.data();if(Y.to===t.uid){const st=JSON.parse(Y.sdp);W(Y.from,st),jl(Ot.doc.ref)}}})}),w=En(se,"rooms",s.id,"signaling",t.uid,"answers"),x=ur(w,wt=>{wt.docChanges().forEach(Ot=>{if(Ot.type==="added"){const Y=Ot.doc.data();if(Y.to===t.uid){const st=JSON.parse(Y.sdp);rt(Y.from,st),jl(Ot.doc.ref)}}})}),M=En(se,"rooms",s.id,"signaling",t.uid,"candidates"),D=ur(M,wt=>{wt.docChanges().forEach(Ot=>{if(Ot.type==="added"){const Y=Ot.doc.data();if(Y.to===t.uid){const st=JSON.parse(Y.candidate);ot(Y.from,st),jl(Ot.doc.ref)}}})});return R.current.push(C,x,D),()=>{[C,x,D].forEach(wt=>wt&&wt())}},[s?.id,t,W,rt,ot]),k.useEffect(()=>{const S=Object.keys(o).length;y(S),S>0&&f!=="connected"&&m("connected")},[o,f]);const N={peers:o,connectionStatus:f,activeConnections:p,connectToUser:ft,cleanup:H};return I.jsx(ES.Provider,{value:N,children:r})},OE=({children:r})=>{const{user:t,loading:n}=Oo();return n?I.jsx("div",{className:"flex-center",style:{minHeight:"100vh",backgroundColor:"var(--bg-dark)"},children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"spinner"}),I.jsx("p",{style:{marginTop:"1rem",color:"var(--text-light)"},children:"Loading Labyrinth..."})]})}):t?r:I.jsx(rw,{to:"/",replace:!0})},zm=()=>{const{loginWithGoogle:r}=Oo(),t=Ao(),[n,s]=jm.useState(!1),o=async()=>{s(!0);try{await r(),t("/dashboard")}catch(u){console.error("Login failed:",u),alert("Login failed. Please try again.")}finally{s(!1)}};return I.jsx("div",{style:{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, var(--primary-darker) 0%, var(--primary-dark) 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--space-md)"},children:I.jsxs("div",{style:{background:"var(--bg-card)",backdropFilter:"blur(20px)",borderRadius:"var(--radius-xl)",border:"1px solid var(--border-medium)",padding:"var(--space-xl)",width:"90%",maxWidth:"400px",boxShadow:"var(--shadow-xl)",margin:"0 auto"},children:[I.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-xl)"},children:[I.jsx("h1",{style:{fontSize:"3rem",fontWeight:"700",background:"linear-gradient(135deg, var(--primary-purple), var(--accent-pink))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:"var(--space-xs)",letterSpacing:"1px"},children:"Labyrinth"}),I.jsx("p",{style:{color:"var(--text-gray)",fontSize:"1.1rem",fontWeight:"300"},children:"Video Chat Maze"})]}),I.jsxs("div",{style:{textAlign:"center"},children:[I.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"600",marginBottom:"var(--space-sm)",color:"var(--text-light)"},children:"Welcome to Labyrinth"}),I.jsx("p",{style:{color:"var(--text-gray)",marginBottom:"var(--space-lg)",fontSize:"1rem",lineHeight:"1.5"},children:"Enter the maze of conversations. Connect, collaborate, and converse."}),I.jsx("button",{onClick:o,disabled:n,style:{width:"100%",background:"white",color:"#333",border:"none",padding:"var(--space-md)",borderRadius:"var(--radius-md)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)",transition:"all 0.2s ease",boxShadow:"var(--shadow-md)",opacity:n?.6:1},onMouseOver:u=>{n||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="var(--shadow-lg)")},onMouseOut:u=>{n||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="var(--shadow-md)")},children:n?I.jsxs(I.Fragment,{children:[I.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid rgba(0, 0, 0, 0.1)",borderTopColor:"#333",borderRadius:"50%",animation:"spin 1s linear infinite"}}),I.jsx("span",{children:"Signing in..."})]}):I.jsxs(I.Fragment,{children:[I.jsxs("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:[I.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),I.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),I.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),I.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),I.jsx("span",{children:"Continue with Google"})]})}),I.jsx("div",{style:{marginTop:"var(--space-lg)",paddingTop:"var(--space-md)",borderTop:"1px solid var(--border-light)"},children:I.jsx("p",{style:{color:"var(--text-gray)",fontSize:"0.9rem",lineHeight:"1.4"},children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})]})})},rO=({isOpen:r,onClose:t})=>{const{createRoom:n,loading:s}=Tg(),o=Ao(),[u,f]=k.useState({name:"",maxParticipants:4}),[m,p]=k.useState("");if(!r)return null;const y=async T=>{if(T.preventDefault(),p(""),u.maxParticipants<2||u.maxParticipants>10){p("Participants must be between 2 and 10");return}try{const R=await n(u);t(),o(`/room/${R.id}`)}catch(R){p(R.message||"Failed to create room")}},E=T=>{const{name:R,value:L}=T.target;f(H=>({...H,[R]:R==="maxParticipants"?parseInt(L)||2:L}))};return I.jsx("div",{style:ge.overlay,children:I.jsxs("div",{style:ge.modal,children:[I.jsxs("div",{style:ge.header,children:[I.jsx("h2",{style:ge.title,children:"Create New Room"}),I.jsx("button",{onClick:t,style:ge.closeButton,children:""})]}),I.jsxs("form",{onSubmit:y,style:ge.form,children:[I.jsx("div",{style:ge.formGroup,children:I.jsxs("label",{style:ge.label,children:["Room Name (Optional)",I.jsx("input",{type:"text",name:"name",value:u.name,onChange:E,placeholder:"Enter room name",style:ge.input,maxLength:30})]})}),I.jsx("div",{style:ge.formGroup,children:I.jsxs("label",{style:ge.label,children:["Maximum Participants: ",u.maxParticipants,I.jsxs("div",{style:ge.sliderContainer,children:[I.jsx("input",{type:"range",name:"maxParticipants",min:"2",max:"10",value:u.maxParticipants,onChange:E,style:ge.slider}),I.jsxs("div",{style:ge.sliderLabels,children:[I.jsx("span",{children:"2"}),I.jsx("span",{children:"10"})]})]}),I.jsx("div",{style:ge.participantHint,children:u.maxParticipants===10?"Max capacity (10 participants)":`${u.maxParticipants} participants maximum`})]})}),m&&I.jsx("div",{style:ge.error,children:m}),I.jsxs("div",{style:ge.buttonGroup,children:[I.jsx("button",{type:"button",onClick:t,style:ge.cancelButton,disabled:s,children:"Cancel"}),I.jsx("button",{type:"submit",style:ge.createButton,disabled:s,children:s?I.jsxs(I.Fragment,{children:[I.jsx("div",{style:ge.spinner}),"Creating..."]}):"Create Room"})]})]}),I.jsx("div",{style:ge.note,children:I.jsxs("p",{style:ge.noteText,children:[I.jsx("strong",{children:"Note:"})," You'll become the host of this room. You can invite others using the room code that will be generated."]})})]})})},ge={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{backgroundColor:"var(--bg-card)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-medium)",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"var(--shadow-xl)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-lg)",borderBottom:"1px solid var(--border-light)"},title:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-light)",margin:0},closeButton:{background:"none",border:"none",fontSize:"2rem",color:"var(--text-gray)",cursor:"pointer",padding:"0",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease"},form:{padding:"var(--space-lg)"},formGroup:{marginBottom:"var(--space-lg)"},label:{display:"block",color:"var(--text-light)",marginBottom:"var(--space-sm)",fontSize:"0.95rem",fontWeight:"500"},input:{width:"100%",padding:"var(--space-sm)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",marginTop:"var(--space-xs)",transition:"all 0.2s ease"},sliderContainer:{marginTop:"var(--space-sm)"},slider:{width:"100%",height:"6px",borderRadius:"3px",backgroundColor:"rgba(255, 255, 255, 0.1)",outline:"none",opacity:"0.7",transition:"opacity 0.2s",WebkitAppearance:"none"},sliderLabels:{display:"flex",justifyContent:"space-between",marginTop:"var(--space-xs)",color:"var(--text-gray)",fontSize:"0.9rem"},participantHint:{marginTop:"var(--space-xs)",color:"var(--accent-blue)",fontSize:"0.9rem",fontStyle:"italic"},error:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"var(--space-sm)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-md)",fontSize:"0.9rem"},buttonGroup:{display:"flex",gap:"var(--space-md)",marginTop:"var(--space-xl)"},cancelButton:{flex:1,padding:"var(--space-md)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},createButton:{flex:2,padding:"var(--space-md)",background:"linear-gradient(135deg, var(--primary-purple), var(--primary-indigo))",border:"none",borderRadius:"var(--radius-md)",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--space-sm)",transition:"all 0.2s ease"},spinner:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"},note:{padding:"var(--space-lg)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderTop:"1px solid rgba(59, 130, 246, 0.3)",borderBottomLeftRadius:"var(--radius-lg)",borderBottomRightRadius:"var(--radius-lg)"},noteText:{margin:0,color:"#93c5fd",fontSize:"0.9rem",lineHeight:1.5}},sO=()=>{const{user:r,logout:t}=Oo(),{rooms:n,loading:s,error:o,fetchActiveRooms:u}=Tg(),f=Ao(),[m,p]=k.useState(n),[y,E]=k.useState(!1),[T,R]=k.useState(!1),[L,H]=k.useState("");k.useEffect(()=>{if(!r)return;console.log("Setting up dashboard room listeners");const W=tO(rt=>{console.log("Dashboard rooms updated:",rt.length,"rooms"),rt.forEach(ot=>{console.log(`Room ${ot.id}: ${ot.currentParticipants}/${ot.maxParticipants}`)}),p(rt)});return()=>{console.log("Cleaning up dashboard listeners"),W()}},[r]),k.useEffect(()=>{p(n)},[n]);const G=async()=>{try{await t(),f("/")}catch(W){console.error("Logout failed:",W)}},q=async W=>{R(!0),H("");try{const rt=m.find(ot=>ot.id===W);if(!rt){H("Room not found");return}if(rt.currentParticipants>=rt.maxParticipants){H("This room is now full");return}if(!rt.isActive||rt.status==="ended"){H("This room is no longer active");return}f(`/room/${W}`)}catch(rt){console.error("Error joining room:",rt),H("Failed to join room. Please try again.")}finally{R(!1)}},J=W=>{if(!W)return"Just now";let rt;if(W.toDate)rt=W.toDate();else if(W instanceof Date)rt=W;else if(W.seconds)rt=new Date(W.seconds*1e3);else return"Just now";const ft=new Date-rt,N=Math.floor(ft/6e4);if(N<1)return"Just now";if(N<60)return`${N}m ago`;const S=Math.floor(N/60);return S<24?`${S}h ago`:`${Math.floor(S/24)}d ago`},X=W=>W.currentParticipants>=W.maxParticipants;return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"dashboard-page",children:[I.jsx("nav",{className:"dashboard-nav",children:I.jsxs("div",{className:"container nav-container",children:[I.jsxs("div",{className:"nav-left",children:[I.jsx("div",{className:"nav-logo"}),I.jsx("h1",{className:"nav-title",children:"Labyrinth"})]}),I.jsxs("div",{className:"nav-right",children:[I.jsxs("div",{className:"user-info",children:[r?.photoURL&&I.jsx("img",{src:r.photoURL,alt:r.displayName,className:"user-avatar"}),I.jsx("span",{className:"user-name",children:r?.displayName})]}),I.jsx("button",{onClick:G,className:"logout-btn",children:"Logout"})]})]})}),I.jsx("main",{className:"dashboard-main",children:I.jsx("div",{className:"container",children:I.jsxs("div",{className:"dashboard-content",children:[I.jsxs("div",{className:"dashboard-header",children:[I.jsx("h2",{className:"dashboard-title",children:"Labyrinth Dashboard"}),I.jsx("p",{className:"dashboard-subtitle",children:"Create or join video chat rooms. Host meetings, collaborate, and connect."})]}),I.jsxs("div",{style:Ct.quickActions,children:[I.jsxs("div",{style:Ct.actionCard,children:[I.jsx("div",{style:Ct.actionIcon,children:""}),I.jsx("h3",{style:Ct.actionTitle,children:"Create Room"}),I.jsx("p",{style:Ct.actionDescription,children:"Start a new video chat room. Set participant limits and invite others."}),I.jsx("button",{onClick:()=>E(!0),style:Ct.actionButton,children:"Create New Room"})]}),I.jsxs("div",{style:Ct.actionCard,children:[I.jsx("div",{style:Ct.actionIcon,children:""}),I.jsx("h3",{style:Ct.actionTitle,children:"Active Rooms"}),I.jsx("p",{style:Ct.actionDescription,children:m.length===0?"No active rooms. Be the first to create one!":`${m.length} room${m.length!==1?"s":""} available`}),I.jsx("button",{onClick:u,style:Ct.refreshButton,disabled:s,children:s?"Refreshing...":" Refresh List"})]})]}),I.jsxs("div",{style:Ct.roomsSection,children:[I.jsxs("div",{style:Ct.sectionHeader,children:[I.jsxs("h3",{style:Ct.sectionTitle,children:["Available Rooms ",m.length>0&&`(${m.length})`]}),L&&I.jsxs("div",{style:Ct.joinErrorBanner,children:[L,I.jsx("button",{onClick:()=>H(""),style:Ct.dismissError,children:""})]})]}),o&&I.jsxs("div",{style:Ct.errorMessage,children:["Error: ",o,I.jsx("button",{onClick:u,style:Ct.retryButton,children:"Retry"})]}),s&&m.length===0?I.jsxs("div",{style:Ct.loading,children:[I.jsx("div",{style:Ct.spinner}),I.jsx("p",{children:"Loading rooms..."})]}):m.length===0?I.jsxs("div",{style:Ct.emptyState,children:[I.jsx("div",{style:Ct.emptyIcon,children:""}),I.jsx("h4",{style:Ct.emptyTitle,children:"No Active Rooms"}),I.jsx("p",{style:Ct.emptyText,children:'Be the first to create a room! Click "Create New Room" above.'})]}):I.jsx("div",{style:Ct.roomsGrid,children:m.map(W=>{const rt=X(W);return I.jsxs("div",{style:{...Ct.roomCard,...rt?Ct.roomCardFull:{},...T?Ct.roomCardDisabled:{}},children:[I.jsxs("div",{style:Ct.roomHeader,children:[I.jsxs("div",{style:Ct.roomHost,children:[W.hostPhotoURL?I.jsx("img",{src:W.hostPhotoURL,alt:W.hostName,style:Ct.hostAvatar}):I.jsx("div",{style:Ct.defaultAvatar,children:W.hostName.charAt(0)}),I.jsx("span",{style:Ct.hostName,children:W.hostName})]}),I.jsxs("div",{style:Ct.roomCode,children:["#",W.roomCode]})]}),I.jsx("h4",{style:Ct.roomName,children:W.name}),I.jsxs("div",{style:Ct.roomDetails,children:[I.jsxs("div",{style:Ct.participantInfo,children:[I.jsxs("span",{style:{...Ct.participantCount,...rt?Ct.participantCountFull:{}},children:[W.currentParticipants,"/",W.maxParticipants]}),I.jsx("span",{style:Ct.participantLabel,children:rt?"FULL":"participants"})]}),I.jsx("div",{style:Ct.roomTime,children:J(W.createdAt)})]}),rt?I.jsx("div",{style:Ct.fullRoomBadge,children:I.jsx("span",{style:Ct.fullRoomText,children:"Room Full"})}):I.jsx("button",{style:Ct.joinRoomButton,onClick:()=>q(W.id),disabled:T,children:T?"Joining...":"Join Room"})]},W.id)})})]})]})})})]}),I.jsx(rO,{isOpen:y,onClose:()=>E(!1)})]})},Ct={quickActions:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"var(--space-lg)",marginBottom:"var(--space-xl)"},actionCard:{backgroundColor:"var(--bg-card-light)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-lg)",padding:"var(--space-lg)",transition:"all 0.3s ease"},actionIcon:{fontSize:"2.5rem",marginBottom:"var(--space-md)"},actionTitle:{fontSize:"1.3rem",fontWeight:"600",marginBottom:"var(--space-sm)",color:"var(--text-light)"},actionDescription:{color:"var(--text-gray)",marginBottom:"var(--space-md)",lineHeight:1.5},actionButton:{width:"100%",padding:"var(--space-md)",background:"linear-gradient(135deg, var(--primary-purple), var(--primary-indigo))",border:"none",borderRadius:"var(--radius-md)",color:"white",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},refreshButton:{width:"100%",padding:"var(--space-md)",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},roomsSection:{marginTop:"var(--space-xl)"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},sectionTitle:{fontSize:"1.5rem",fontWeight:"600",color:"var(--text-light)",margin:0},joinErrorBanner:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"8px 16px",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",gap:"10px"},dismissError:{background:"none",border:"none",color:"#f87171",fontSize:"1.2rem",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},errorMessage:{backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#f87171",padding:"var(--space-md)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-md)"},retryButton:{marginLeft:"10px",padding:"4px 12px",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"4px",color:"#93c5fd",cursor:"pointer",fontSize:"0.9rem"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"var(--space-xl)",color:"var(--text-gray)"},spinner:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"var(--space-md)"},emptyState:{textAlign:"center",padding:"var(--space-xl)",color:"var(--text-gray)"},emptyIcon:{fontSize:"4rem",marginBottom:"var(--space-md)",opacity:.5},emptyTitle:{fontSize:"1.5rem",marginBottom:"var(--space-sm)",color:"var(--text-light)"},emptyText:{fontSize:"1rem",lineHeight:1.5},roomsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"var(--space-md)"},roomCard:{backgroundColor:"var(--bg-card-light)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-lg)",padding:"var(--space-lg)",transition:"all 0.3s ease"},roomCardFull:{borderColor:"rgba(239, 68, 68, 0.3)",backgroundColor:"rgba(30, 41, 59, 0.5)"},roomCardDisabled:{pointerEvents:"none",opacity:.5},roomHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-md)"},roomHost:{display:"flex",alignItems:"center",gap:"var(--space-sm)"},hostAvatar:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid var(--border-light)"},defaultAvatar:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"var(--primary-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"0.9rem"},hostName:{fontSize:"0.9rem",color:"var(--text-light)",fontWeight:"500"},roomCode:{backgroundColor:"rgba(124, 58, 237, 0.2)",color:"#a78bfa",padding:"var(--space-xs) var(--space-sm)",borderRadius:"var(--radius-sm)",fontSize:"0.8rem",fontWeight:"600",fontFamily:"monospace"},roomName:{fontSize:"1.2rem",fontWeight:"600",color:"var(--text-light)",marginBottom:"var(--space-md)"},roomDetails:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-lg)"},participantInfo:{display:"flex",alignItems:"baseline",gap:"var(--space-xs)"},participantCount:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-light)"},participantCountFull:{color:"#f87171"},participantLabel:{fontSize:"0.9rem",color:"var(--text-gray)"},roomTime:{fontSize:"0.9rem",color:"var(--text-gray)"},fullRoomBadge:{width:"100%",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"var(--radius-md)",textAlign:"center"},fullRoomText:{color:"#f87171",fontWeight:"600",fontSize:"0.9rem"},joinRoomButton:{width:"100%",padding:"var(--space-sm)",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"var(--radius-md)",color:"#93c5fd",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"}},aO=()=>{const{localStream:r,isMicOn:t}=_f(),n=k.useRef(null),s=k.useRef(null),o=k.useRef(null),u=k.useRef(null),f=k.useRef(null),[m,p]=k.useState(!1),[y,E]=k.useState(0);k.useEffect(()=>{if(!r||!t){s.current&&(cancelAnimationFrame(s.current),s.current=null),o.current&&o.current.state!=="closed"&&o.current.close(),p(!1),E(0);return}const G=r.getAudioTracks()[0];if(!G||!G.enabled){p(!1),E(0);return}return(async()=>{try{const J=window.AudioContext||window.webkitAudioContext;o.current||(o.current=new J),u.current=o.current.createAnalyser(),u.current.fftSize=256,u.current.minDecibels=-90,u.current.maxDecibels=-10,u.current.smoothingTimeConstant=.85,f.current=o.current.createMediaStreamSource(r),f.current.connect(u.current),p(!0),T()}catch(J){console.error("Error setting up audio visualizer:",J),p(!1)}})(),()=>{s.current&&cancelAnimationFrame(s.current),f.current&&f.current.disconnect(),u.current&&u.current.disconnect()}},[r,t]);const T=()=>{if(!n.current||!u.current)return;const G=n.current,q=G.getContext("2d"),J=u.current.frequencyBinCount,X=new Uint8Array(J),W=()=>{s.current=requestAnimationFrame(W),u.current.getByteFrequencyData(X);let rt=0;for(let C=0;C<X.length;C++)rt+=X[C];const ot=rt/X.length;E(ot),q.clearRect(0,0,G.width,G.height),q.fillStyle="rgba(0, 0, 0, 0.3)",q.fillRect(0,0,G.width,G.height);const ft=G.width/J*2.5;let N,S=0;for(let C=0;C<J;C++){N=X[C]/2;const w=q.createLinearGradient(0,G.height,0,G.height-N);N<30?(w.addColorStop(0,"#10b981"),w.addColorStop(1,"#34d399")):N<60?(w.addColorStop(0,"#f59e0b"),w.addColorStop(1,"#fbbf24")):(w.addColorStop(0,"#ef4444"),w.addColorStop(1,"#f87171")),q.fillStyle=w,q.fillRect(S,G.height-N,ft,N),S+=ft+1}};W()},R=Math.min(Math.round(y/128*100),100);let L="low",H="#10b981";return R>30&&(L="medium",H="#f59e0b"),R>60&&(L="high",H="#ef4444"),I.jsxs("div",{style:Me.container,children:[I.jsxs("div",{style:Me.header,children:[I.jsxs("div",{style:Me.title,children:[I.jsx("span",{style:Me.icon,children:""}),"Microphone Activity"]}),I.jsxs("div",{style:Me.status,children:[I.jsx("div",{style:{...Me.statusDot,backgroundColor:t?"#10b981":"#ef4444"}}),I.jsx("span",{children:t?"Active":"Muted"})]})]}),I.jsxs("div",{style:Me.visualizerContainer,children:[I.jsx("canvas",{ref:n,width:300,height:80,style:Me.canvas}),I.jsxs("div",{style:Me.volumeInfo,children:[I.jsx("div",{style:Me.volumeBarContainer,children:I.jsx("div",{style:{...Me.volumeBar,width:`${R}%`,backgroundColor:H}})}),I.jsxs("div",{style:Me.volumeText,children:[I.jsx("span",{style:{color:H,fontWeight:"600"},children:L.toUpperCase()}),I.jsxs("span",{children:[R,"%"]})]})]})]}),I.jsx("div",{style:Me.instructions,children:!m&&t?I.jsxs("div",{style:Me.warning,children:[I.jsx("span",{style:Me.warningIcon,children:""}),'Speak to see audio activity. Try saying "Testing, 1, 2, 3"']}):t?I.jsxs("div",{style:Me.active,children:[I.jsx("span",{style:Me.activeIcon,children:""}),"Microphone is working! Volume: ",L]}):I.jsxs("div",{style:Me.muted,children:[I.jsx("span",{style:Me.mutedIcon,children:""}),"Microphone is muted"]})}),I.jsx("button",{onClick:()=>{if(t&&o.current){const G=o.current.createOscillator(),q=o.current.createGain();G.connect(q),q.connect(o.current.destination),G.frequency.value=440,G.type="sine",q.gain.setValueAtTime(0,o.current.currentTime),q.gain.linearRampToValueAtTime(.1,o.current.currentTime+.1),q.gain.linearRampToValueAtTime(0,o.current.currentTime+.5),G.start(o.current.currentTime),G.stop(o.current.currentTime+.5)}},style:Me.testButton,disabled:!t,children:" Test Sound"})]})},Me={container:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--radius-lg)",padding:"15px",border:"1px solid var(--border-light)",marginTop:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},title:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",color:"var(--text-light)",fontSize:"1rem"},icon:{fontSize:"1.2rem"},status:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",color:"var(--text-gray)"},statusDot:{width:"8px",height:"8px",borderRadius:"50%"},visualizerContainer:{position:"relative",marginBottom:"15px"},canvas:{width:"100%",height:"80px",borderRadius:"var(--radius-md)",backgroundColor:"rgba(0, 0, 0, 0.5)"},volumeInfo:{marginTop:"10px"},volumeBarContainer:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden",marginBottom:"5px"},volumeBar:{height:"100%",borderRadius:"3px",transition:"width 0.2s ease"},volumeText:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"var(--text-gray)"},instructions:{fontSize:"0.85rem",textAlign:"center",marginBottom:"15px",padding:"10px",borderRadius:"var(--radius-md)"},warning:{color:"#f59e0b",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},warningIcon:{fontSize:"1rem"},muted:{color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},mutedIcon:{fontSize:"1rem"},active:{color:"#10b981",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},activeIcon:{fontSize:"1rem"},testButton:{width:"100%",padding:"10px",backgroundColor:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"var(--radius-md)",color:"#93c5fd",fontSize:"0.9rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}},oO=()=>{const{localStream:r,isCameraOn:t,isMicOn:n,isLoading:s,error:o,initializeMedia:u}=_f(),f=k.useRef(null);return k.useEffect(()=>{f.current&&r&&(f.current.srcObject=r)},[r]),k.useEffect(()=>{(async()=>r||await u())()},[]),s?I.jsxs("div",{style:ye.loadingContainer,children:[I.jsx("div",{style:ye.spinner}),I.jsx("p",{children:"Loading camera and microphone..."})]}):o?I.jsxs("div",{style:ye.errorContainer,children:[I.jsx("div",{style:ye.errorIcon,children:""}),I.jsx("h4",{children:"Camera/Microphone Error"}),I.jsx("p",{style:ye.errorText,children:o}),I.jsx("button",{onClick:u,style:ye.retryButton,children:"Try Again"})]}):I.jsxs("div",{style:ye.container,children:[I.jsxs("div",{style:ye.videoWrapper,children:[t?I.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,style:ye.video}):I.jsxs("div",{style:ye.cameraOffPlaceholder,children:[I.jsx("div",{style:ye.cameraOffIcon,children:""}),I.jsx("p",{children:"Camera is off"})]}),I.jsx("div",{style:ye.statusOverlay,children:I.jsxs("div",{style:ye.statusIcons,children:[I.jsxs("div",{style:{...ye.statusIcon,...t?ye.statusOn:ye.statusOff},children:[t?"":"",I.jsx("span",{style:ye.statusText,children:t?"Camera On":"Camera Off"})]}),I.jsxs("div",{style:{...ye.statusIcon,...n?ye.statusOn:ye.statusOff},children:[n?"":"",I.jsx("span",{style:ye.statusText,children:n?"Mic On":"Mic Muted"})]})]})}),I.jsx("div",{style:ye.nameLabel,children:"You (Preview)"})]}),I.jsx(aO,{})]})},ye={container:{width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column",gap:"15px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-gray)"},spinner:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"15px"},errorContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",padding:"20px",color:"var(--text-light)"},errorIcon:{fontSize:"3rem",marginBottom:"15px",opacity:.7},errorText:{color:"var(--text-gray)",marginBottom:"20px",fontSize:"0.9rem"},retryButton:{padding:"10px 20px",backgroundColor:"var(--primary-purple)",border:"none",borderRadius:"var(--radius-md)",color:"white",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},videoWrapper:{position:"relative",width:"100%",flex:1,backgroundColor:"#000",borderRadius:"var(--radius-lg)",overflow:"hidden",minHeight:"300px"},video:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)",backgroundColor:"#000"},cameraOffPlaceholder:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-card)",color:"var(--text-gray)"},cameraOffIcon:{fontSize:"4rem",marginBottom:"15px",opacity:.5},statusOverlay:{position:"absolute",top:"15px",left:"15px",right:"15px",zIndex:10},statusIcons:{display:"flex",gap:"10px",flexWrap:"wrap"},statusIcon:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",fontSize:"0.9rem",fontWeight:"500",backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white"},statusOn:{backgroundColor:"rgba(34, 197, 94, 0.7)"},statusOff:{backgroundColor:"rgba(239, 68, 68, 0.7)"},statusText:{fontSize:"0.8rem"},nameLabel:{position:"absolute",bottom:"15px",left:"15px",padding:"6px 12px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",borderRadius:"var(--radius-md)",fontSize:"0.9rem",fontWeight:"500"}},lO=()=>{const{roomId:r}=FA(),t=Ao(),{user:n}=Oo(),[s,o]=k.useState(null),[u,f]=k.useState([]),[m,p]=k.useState(!0),[y,E]=k.useState(""),[T,R]=k.useState(!1),{peers:L,connectionStatus:H,activeConnections:G}=nO(),{localStream:q,isCameraOn:J,isMicOn:X,toggleCamera:W,toggleMicrophone:rt,isLoading:ot,error:ft}=_f();k.useEffect(()=>{R(!1)},[r]),k.useEffect(()=>{if(!r||!n)return;console.log("Setting up real-time listeners for room:",r);const w=WN(r,M=>{console.log("Room real-time update:",M),M?o(M):E("Room was deleted")}),x=ZN(r,M=>{console.log("Participants real-time update:",M),f(M)});return()=>{console.log("Cleaning up real-time listeners"),w(),x()}},[r,n]),k.useEffect(()=>{if(!n){t("/");return}N()},[r,n,t]);const N=async()=>{p(!0),E("");try{console.log("=== LOAD ROOM START ==="),console.log("User:",n?.uid),console.log("Room ID:",r);const w=await vh(r),x=await Um(r);if(console.log("Room data:",w),console.log("Participants:",x),console.log("Participant IDs:",x.map(wt=>wt.id)),!w){E("Room not found"),p(!1);return}if(!w.isActive||w.status==="ended"){E("Room is no longer active"),p(!1);return}const M=x.some(wt=>wt.id===n.uid);console.log("Is user in room?",M);const D=w.currentParticipants>=w.maxParticipants;if(console.log("Is room full?",D,`(${w.currentParticipants}/${w.maxParticipants})`),o(w),f(x),M){console.log("User already in room, loading complete"),p(!1);return}if(D){console.log("Room is full and user not in it"),E("Room is full. Cannot join."),p(!1);return}console.log("Attempting to join room...");try{const wt=await JN(r,n);console.log("Join result:",wt);const Ot=await vh(r),Y=await Um(r);console.log("After join - Room:",Ot),console.log("After join - Participants:",Y),o(Ot),f(Y);const st=Y.some(gt=>gt.id===n.uid);console.log("User now in room?",st),st||E("Failed to join room. Please try again.")}catch(wt){console.error("Join error:",wt);const Ot=await Um(r);if(Ot.some(st=>st.id===n.uid))console.log("Race condition - user is actually in room"),f(Ot);else if(wt.message.includes("full")||wt.message.includes("permission")){const st=await vh(r),gt=st.currentParticipants>=st.maxParticipants;E(gt?"Room is full. Cannot join.":"Permission denied. Please try again.")}else E(`Failed to join: ${wt.message}`)}}catch(w){console.error("Error in loadRoom:",w),E(`Failed to load room: ${w.message}`)}finally{p(!1),console.log("=== LOAD ROOM END ===")}};k.useEffect(()=>{s&&u&&console.log("Room updated - current state:",{roomId:s.id,participantCount:s.currentParticipants,maxParticipants:s.maxParticipants,actualParticipants:u.length})},[s,u]);const S=()=>{t("/dashboard")},C=()=>{s?.roomCode&&(navigator.clipboard.writeText(s.roomCode),alert(`Room code ${s.roomCode} copied to clipboard!`))};return m?I.jsxs("div",{style:lt.loadingContainer,children:[I.jsx("div",{style:lt.spinner}),I.jsx("p",{style:lt.loadingText,children:"Loading room..."})]}):y?I.jsxs("div",{style:lt.errorContainer,children:[I.jsx("div",{style:lt.errorIcon,children:""}),I.jsx("h2",{style:lt.errorTitle,children:"Room Unavailable"}),I.jsx("p",{style:lt.errorMessage,children:y}),I.jsx("button",{onClick:()=>t("/dashboard"),style:lt.backButton,children:"Back to Dashboard"})]}):s?y&&y.includes("Room is full")?I.jsx("div",{style:lt.fullRoomContainer,children:I.jsxs("div",{style:lt.fullRoomContent,children:[I.jsx("div",{style:lt.fullRoomIcon,children:""}),I.jsx("h2",{style:lt.fullRoomTitle,children:"Room Full"}),I.jsxs("p",{style:lt.fullRoomMessage,children:["This room has reached its maximum capacity of ",s?.maxParticipants," participants."]}),I.jsxs("div",{style:lt.fullRoomDetails,children:[I.jsxs("p",{children:[I.jsx("strong",{children:"Room:"})," ",s?.name]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Host:"})," ",s?.hostName]}),I.jsxs("p",{children:[I.jsx("strong",{children:"Current Participants:"})," ",s?.currentParticipants,"/",s?.maxParticipants]})]}),I.jsxs("div",{style:lt.fullRoomActions,children:[I.jsx("button",{onClick:()=>t("/dashboard"),style:lt.fullRoomButton,children:"Back to Dashboard"}),I.jsx("button",{onClick:()=>window.location.reload(),style:lt.fullRoomButtonSecondary,children:"Try Again"})]})]})}):I.jsxs("div",{style:lt.container,children:[I.jsxs("header",{style:lt.header,children:[I.jsxs("div",{style:lt.headerLeft,children:[I.jsx("button",{onClick:()=>t("/dashboard"),style:lt.backButton,children:" Back"}),I.jsxs("div",{style:lt.roomInfo,children:[I.jsx("h1",{style:lt.roomName,children:s.name}),I.jsxs("div",{style:lt.roomMeta,children:[I.jsxs("span",{style:lt.roomCode,onClick:C,title:"Click to copy",children:["#",s.roomCode]}),I.jsxs("span",{style:lt.participantCount,children:[s.currentParticipants,"/",s.maxParticipants," participants"]}),I.jsx("span",{style:lt.roomStatus,"data-status":s.status,children:s.status})]})]})]}),I.jsx("div",{style:lt.headerRight,children:I.jsx("button",{onClick:S,style:lt.leaveButton,children:"Leave Room"})})]}),I.jsxs("main",{style:lt.main,children:[I.jsxs("div",{style:lt.videoSection,children:[I.jsx("div",{style:lt.videoContainer,children:I.jsx(oO,{})}),Object.entries(L).map(([w,x])=>I.jsx("div",{style:lt.videoContainer,children:I.jsx(RemoteVideo,{stream:x.stream,userData:x.userData,connectionState:x.connectionState})},w)),I.jsxs("div",{style:lt.connectionStatus,children:[I.jsx("div",{style:{...lt.statusIndicator,backgroundColor:H==="connected"?"#10b981":H==="connecting"?"#f59e0b":"#ef4444"},children:H.toUpperCase()}),I.jsxs("div",{style:lt.statusText,children:[G," connection",G!==1?"s":""," active"]})]})]}),I.jsxs("aside",{style:lt.sidebar,children:[I.jsxs("div",{style:lt.sidebarHeader,children:[I.jsx("h3",{style:lt.sidebarTitle,children:"Participants"}),I.jsx("span",{style:lt.participantBadge,children:u.length})]}),I.jsx("div",{style:lt.participantsList,children:u.map(w=>I.jsxs("div",{style:{...lt.participantItem,...w.isHost?lt.hostItem:{}},children:[I.jsxs("div",{style:lt.participantAvatar,children:[w.photoURL?I.jsx("img",{src:w.photoURL,alt:w.name,style:lt.avatarImage}):I.jsx("div",{style:lt.defaultAvatar,children:w.name.charAt(0)}),w.isHost&&I.jsx("div",{style:lt.hostBadge,title:"Host",children:""})]}),I.jsxs("div",{style:lt.participantInfo,children:[I.jsxs("div",{style:lt.participantName,children:[w.name,w.id===n?.uid&&I.jsx("span",{style:lt.youBadge,children:" (You)"})]}),I.jsxs("div",{style:lt.participantStatus,children:[I.jsx("span",{style:lt.statusDot}),w.isActive?"Online":"Offline"]})]}),s.hostId===n?.uid&&!w.isHost&&I.jsx("button",{style:lt.kickButton,title:"Kick participant",onClick:()=>alert(`Kick ${w.name} - Coming soon`),children:""})]},w.id))}),I.jsxs("div",{style:lt.controlsSection,children:[I.jsx("h4",{style:lt.controlsTitle,children:"Room Controls"}),I.jsxs("div",{style:lt.controlsGrid,children:[I.jsx("button",{style:{...lt.controlButton,...X?lt.controlButtonActive:lt.controlButtonInactive},onClick:rt,disabled:ot,children:X?" Mic On":" Mic Muted"}),I.jsx("button",{style:{...lt.controlButton,...J?lt.controlButtonActive:lt.controlButtonInactive},onClick:W,disabled:ot,children:J?" Camera On":" Camera Off"}),I.jsx("button",{style:lt.controlButton,onClick:C,children:" Invite"}),s.hostId===n?.uid&&I.jsx("button",{style:lt.controlButtonDanger,onClick:()=>alert("End Room - Coming soon"),children:" End Room"})]}),ft&&I.jsxs("div",{style:lt.mediaError,children:[" ",ft]})]})]})]}),I.jsxs("div",{style:lt.statusContainer,children:[I.jsx("div",{style:{...lt.statusIndicator,backgroundColor:s?.currentParticipants>=s?.maxParticipants?"#ef4444":"#10b981"},children:s?.currentParticipants>=s?.maxParticipants?"FULL":"AVAILABLE"}),I.jsxs("div",{style:lt.statusText,children:[s?.currentParticipants,"/",s?.maxParticipants," participants",s?.currentParticipants>=s?.maxParticipants&&" (Room is full)"]})]}),I.jsx("footer",{style:lt.footer,children:I.jsxs("div",{style:lt.footerContent,children:[I.jsxs("div",{style:lt.footerInfo,children:[I.jsxs("span",{children:["Room created by ",s.hostName]}),I.jsx("span",{style:lt.footerSeparator,children:""}),I.jsx("span",{children:"Host controls enabled"})]}),I.jsxs("div",{style:lt.footerActions,children:[I.jsx("button",{style:lt.footerButton,onClick:C,children:"Copy Invite Code"}),I.jsx("button",{style:lt.footerButton,onClick:()=>alert("Settings - Coming soon"),children:"Settings"})]})]})})]}):I.jsxs("div",{style:lt.errorContainer,children:[I.jsx("h2",{style:lt.errorTitle,children:"Room Not Found"}),I.jsx("button",{onClick:()=>t("/dashboard"),style:lt.backButton,children:"Back to Dashboard"})]})},lt={container:{minHeight:"100vh",backgroundColor:"var(--bg-dark)",color:"var(--text-light)",display:"flex",flexDirection:"column"},loadingContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-dark)"},spinner:{width:"50px",height:"50px",border:"4px solid rgba(255, 255, 255, 0.1)",borderTopColor:"var(--primary-purple)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"},loadingText:{color:"var(--text-gray)",fontSize:"1.1rem"},errorContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-dark)",textAlign:"center",padding:"20px"},errorIcon:{fontSize:"4rem",marginBottom:"20px"},errorTitle:{fontSize:"2rem",marginBottom:"10px",color:"var(--text-light)"},errorMessage:{color:"var(--text-gray)",marginBottom:"30px",fontSize:"1.1rem",maxWidth:"400px"},header:{backgroundColor:"var(--bg-card)",borderBottom:"1px solid var(--border-light)",padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},headerLeft:{display:"flex",alignItems:"center",gap:"20px"},backButton:{padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},roomInfo:{display:"flex",flexDirection:"column",gap:"5px"},roomName:{fontSize:"1.5rem",fontWeight:"600",margin:0,color:"var(--text-light)"},roomMeta:{display:"flex",alignItems:"center",gap:"15px",fontSize:"0.9rem",color:"var(--text-gray)"},roomCode:{backgroundColor:"rgba(124, 58, 237, 0.2)",color:"#a78bfa",padding:"4px 8px",borderRadius:"4px",fontFamily:"monospace",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},participantCount:{padding:"4px 8px",backgroundColor:"rgba(59, 130, 246, 0.2)",borderRadius:"4px"},roomStatus:{padding:"4px 8px",borderRadius:"4px",fontWeight:"500",textTransform:"capitalize"},headerRight:{display:"flex",alignItems:"center",gap:"10px"},leaveButton:{padding:"10px 20px",backgroundColor:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"var(--radius-md)",color:"#f87171",cursor:"pointer",fontWeight:"500",transition:"all 0.2s ease"},main:{flex:1,display:"flex",padding:"20px",gap:"20px",overflow:"hidden"},videoSection:{flex:3,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px",backgroundColor:"var(--bg-card-light)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-light)",padding:"15px",minHeight:"500px",overflowY:"auto"},sidebar:{flex:1,backgroundColor:"var(--bg-card-light)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-light)",padding:"20px",minWidth:"300px",maxHeight:"600px",overflowY:"auto"},sidebarHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid var(--border-light)"},sidebarTitle:{fontSize:"1.2rem",fontWeight:"600",margin:0,color:"var(--text-light)"},participantBadge:{backgroundColor:"var(--primary-purple)",color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"600"},participantsList:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"30px"},participantItem:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--radius-md)",transition:"all 0.2s ease"},hostItem:{backgroundColor:"rgba(124, 58, 237, 0.1)",borderLeft:"3px solid var(--primary-purple)"},participantAvatar:{position:"relative",width:"40px",height:"40px"},avatarImage:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"},defaultAvatar:{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"var(--primary-purple)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"1.2rem"},hostBadge:{position:"absolute",bottom:"-5px",right:"-5px",backgroundColor:"var(--primary-purple)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},participantInfo:{flex:1,minWidth:0},participantName:{fontWeight:"500",color:"var(--text-light)",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},youBadge:{color:"var(--accent-blue)",fontSize:"0.9rem"},participantStatus:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.8rem",color:"var(--text-gray)"},statusDot:{width:"8px",height:"8px",backgroundColor:"#10b981",borderRadius:"50%"},kickButton:{width:"28px",height:"28px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"50%",color:"#f87171",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",transition:"all 0.2s ease"},controlsSection:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid var(--border-light)"},controlsTitle:{fontSize:"1rem",fontWeight:"600",marginBottom:"15px",color:"var(--text-light)"},controlsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},controlButton:{padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},controlButtonDanger:{gridColumn:"1 / -1",padding:"12px",backgroundColor:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"var(--radius-md)",color:"#f87171",cursor:"pointer",fontSize:"0.9rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},footer:{backgroundColor:"var(--bg-card)",borderTop:"1px solid var(--border-light)",padding:"15px 20px"},footerContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},footerInfo:{display:"flex",alignItems:"center",gap:"10px",color:"var(--text-gray)",fontSize:"0.9rem"},footerSeparator:{opacity:.5},footerActions:{display:"flex",gap:"10px"},footerButton:{padding:"8px 16px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid var(--border-light)",borderRadius:"var(--radius-md)",color:"var(--text-light)",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s ease"},statusContainer:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},statusIndicator:{padding:"4px 8px",borderRadius:"12px",color:"white",fontWeight:"600",fontSize:"0.8rem",textTransform:"uppercase"},statusText:{fontSize:"0.8rem",opacity:.9},controlButtonActive:{backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgba(34, 197, 94, 0.5)",color:"#4ade80"},controlButtonInactive:{backgroundColor:"rgba(239, 68, 68, 0.2)",borderColor:"rgba(239, 68, 68, 0.5)",color:"#f87171"},mediaError:{marginTop:"10px",padding:"8px 12px",backgroundColor:"rgba(245, 158, 11, 0.2)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"var(--radius-md)",color:"#fbbf24",fontSize:"0.8rem"},videoContainer:{position:"relative",backgroundColor:"#000",borderRadius:"var(--radius-md)",overflow:"hidden",aspectRatio:"16/9",minHeight:"250px",border:"2px solid var(--border-light)"},connectionStatus:{position:"absolute",bottom:"20px",right:"20px",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"8px 12px",borderRadius:"var(--radius-md)",fontSize:"0.9rem",zIndex:100,display:"flex",alignItems:"center",gap:"10px",backdropFilter:"blur(10px)"}};function uO(){return I.jsx(FN,{children:I.jsx(GN,{children:I.jsx(eO,{children:I.jsxs(iO,{children:["  ",I.jsxs(Dw,{children:["  ",I.jsxs(aw,{children:[I.jsx(eo,{path:"/",element:I.jsx(zm,{})}),I.jsx(eo,{path:"/Labyrinth",element:I.jsx(zm,{})})," ",I.jsx(eo,{path:"/dashboard",element:I.jsx(OE,{children:I.jsx(sO,{})})}),I.jsx(eo,{path:"/room/:roomId",element:I.jsx(OE,{children:I.jsx(lO,{})})}),I.jsx(eo,{path:"*",element:I.jsx(zm,{})})]})]})]})})})})}oA.createRoot(document.getElementById("root")).render(I.jsx(k.StrictMode,{children:I.jsx(uO,{})}));
